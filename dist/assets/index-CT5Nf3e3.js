var Oo=Object.defineProperty;var Ri=(e,n)=>(n=Symbol[e])?n:Symbol.for("Symbol."+e),To=e=>{throw TypeError(e)};var a=(e,n)=>Oo(e,"name",{value:n,configurable:!0});var Lo=function(e,n){this[0]=e,this[1]=n};var ss=e=>{var n=e[Ri("asyncIterator")],t=!1,i,r={};return n==null?(n=e[Ri("iterator")](),i=o=>r[o]=c=>n[o](c)):(n=n.call(e),i=o=>r[o]=c=>{if(t){if(t=!1,o==="throw")throw c;return c}return t=!0,{done:!1,value:new Lo(new Promise(l=>{var d=n[o](c);d instanceof Object||To("Object expected"),l(d)}),1)}}),r[Ri("iterator")]=()=>r,i("next"),"throw"in n?i("throw"):r.throw=o=>{throw o},"return"in n&&i("return"),r};import{r as $,a as Bo,g as Fo,b as Ne}from"./vendor-CHEiheQJ.js";import{L as Be,u as or,a as cr,N as Pt,R as Wo,b as Ze,B as Do}from"./router-Bljd7-sV.js";a(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}a(t,"getFetchOpts");function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}a(i,"processPreload")},"polyfill")();var lr={exports:{}},Ii={};var zo=$,Ho=Symbol.for("react.element"),Uo=Symbol.for("react.fragment"),Yo=Object.prototype.hasOwnProperty,qo=zo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Go={key:!0,ref:!0,__self:!0,__source:!0};function ur(e,n,t){var i,r={},o=null,c=null;t!==void 0&&(o=""+t),n.key!==void 0&&(o=""+n.key),n.ref!==void 0&&(c=n.ref);for(i in n)Yo.call(n,i)&&!Go.hasOwnProperty(i)&&(r[i]=n[i]);if(e&&e.defaultProps)for(i in n=e.defaultProps,n)r[i]===void 0&&(r[i]=n[i]);return{$$typeof:Ho,type:e,key:o,ref:c,props:r,_owner:qo.current}}a(ur,"q");Ii.Fragment=Uo;Ii.jsx=ur;Ii.jsxs=ur;lr.exports=Ii;var s=lr.exports,Hi={},rs=Bo;Hi.createRoot=rs.createRoot,Hi.hydrateRoot=rs.hydrateRoot;const Xo=a(()=>s.jsxs("div",{className:"landing-page-container",children:[s.jsxs("div",{className:"landing-content",children:[s.jsx("div",{className:"globe-container",children:s.jsxs("div",{className:"globe",children:[s.jsx("div",{className:"globe-sphere",children:s.jsx("div",{className:"globe-worldmap"})}),s.jsx("div",{className:"globe-shadow"})]})}),s.jsx("h1",{className:"landing-title",children:"The Cost of Living Simulation"}),s.jsx("p",{className:"landing-subtitle",children:"By: Mason Smith"}),s.jsx("p",{className:"landing-description",children:"Experience the financial realities of living in different states across America. Choose your location, income level, and navigate daily expenses to understand how economic factors impact everyday life."}),s.jsx("div",{className:"landing-actions",children:s.jsxs(Be,{to:"/about",className:"play-button",children:[s.jsx("span",{className:"play-icon",children:"â–¶"}),s.jsx("span",{className:"play-text",children:"Start Simulation"})]})})]}),s.jsxs("footer",{className:"landing-footer",children:[s.jsx("p",{children:"Using real data from 2025 to create an educational experience about financial literacy and economic awareness."}),s.jsx("p",{children:"Data sources: U.S. Bureau of Labor Statistics, U.S. Census Bureau, Bureau of Economic Analysis"})]})]}),"LandingPage");var dr={exports:{}},Zo="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Vo=Zo,Ko=Vo;function hr(){}a(hr,"emptyFunction");function fr(){}a(fr,"emptyFunctionWithReset");fr.resetWarningCache=hr;var Jo=a(function(){function e(i,r,o,c,l,d){if(d!==Ko){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}a(e,"shim"),e.isRequired=e;function n(){return e}a(n,"getShim");var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:fr,resetWarningCache:hr};return t.PropTypes=t,t},"factoryWithThrowingShims");dr.exports=Jo();var Qo=dr.exports;const R=Fo(Qo),ts=class ts{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const t=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=t[r],c=n+o,l=Math.abs(n)<Math.abs(o)?n-(c-o):o-(c-n);l&&(t[i++]=l),n=c}return t[i]=n,this._n=i+1,this}valueOf(){const n=this._partials;let t=this._n,i,r,o,c=0;if(t>0){for(c=n[--t];t>0&&(i=c,r=n[--t],c=i+r,o=r-(c-i),!o););t>0&&(o<0&&n[t-1]<0||o>0&&n[t-1]>0)&&(r=o*2,i=c+r,r==i-c&&(c=i))}return c}};a(ts,"Adder");let Ie=ts;function*ec(e){for(const n of e)yield*ss(n)}a(ec,"flatten");function mr(e){return Array.from(ec(e))}a(mr,"merge");function zn(e,n,t){e=+e,n=+n,t=(r=arguments.length)<2?(n=e,e=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((n-e)/t))|0,o=new Array(r);++i<r;)o[i]=e+i*t;return o}a(zn,"range$1");var Y=1e-6,Zt=1e-12,ee=Math.PI,je=ee/2,Vt=ee/4,Ae=ee*2,ge=180/ee,H=ee/180,ae=Math.abs,Jn=Math.atan,Re=Math.atan2,W=Math.cos,At=Math.ceil,pr=Math.exp,Ui=Math.hypot,Kt=Math.log,$i=Math.pow,L=Math.sin,Ge=Math.sign||function(e){return e>0?1:e<0?-1:0},Se=Math.sqrt,ba=Math.tan;function gr(e){return e>1?0:e<-1?ee:Math.acos(e)}a(gr,"acos");function $e(e){return e>1?je:e<-1?-je:Math.asin(e)}a($e,"asin");function os(e){return(e=L(e/2))*e}a(os,"haversin");function xe(){}a(xe,"noop$1");function Jt(e,n){e&&ls.hasOwnProperty(e.type)&&ls[e.type](e,n)}a(Jt,"streamGeometry");var cs={Feature:a(function(e,n){Jt(e.geometry,n)},"Feature"),FeatureCollection:a(function(e,n){for(var t=e.features,i=-1,r=t.length;++i<r;)Jt(t[i].geometry,n)},"FeatureCollection")},ls={Sphere:a(function(e,n){n.sphere()},"Sphere"),Point:a(function(e,n){e=e.coordinates,n.point(e[0],e[1],e[2])},"Point"),MultiPoint:a(function(e,n){for(var t=e.coordinates,i=-1,r=t.length;++i<r;)e=t[i],n.point(e[0],e[1],e[2])},"MultiPoint"),LineString:a(function(e,n){Yi(e.coordinates,n,0)},"LineString"),MultiLineString:a(function(e,n){for(var t=e.coordinates,i=-1,r=t.length;++i<r;)Yi(t[i],n,0)},"MultiLineString"),Polygon:a(function(e,n){us(e.coordinates,n)},"Polygon"),MultiPolygon:a(function(e,n){for(var t=e.coordinates,i=-1,r=t.length;++i<r;)us(t[i],n)},"MultiPolygon"),GeometryCollection:a(function(e,n){for(var t=e.geometries,i=-1,r=t.length;++i<r;)Jt(t[i],n)},"GeometryCollection")};function Yi(e,n,t){var i=-1,r=e.length-t,o;for(n.lineStart();++i<r;)o=e[i],n.point(o[0],o[1],o[2]);n.lineEnd()}a(Yi,"streamLine");function us(e,n){var t=-1,i=e.length;for(n.polygonStart();++t<i;)Yi(e[t],n,1);n.polygonEnd()}a(us,"streamPolygon");function Ve(e,n){e&&cs.hasOwnProperty(e.type)?cs[e.type](e,n):Jt(e,n)}a(Ve,"geoStream");var Qt=new Ie,ei=new Ie,vr,xr,qi,Gi,Xi,rn={point:xe,lineStart:xe,lineEnd:xe,polygonStart:a(function(){Qt=new Ie,rn.lineStart=nc,rn.lineEnd=tc},"polygonStart"),polygonEnd:a(function(){var e=+Qt;ei.add(e<0?Ae+e:e),this.lineStart=this.lineEnd=this.point=xe},"polygonEnd"),sphere:a(function(){ei.add(Ae)},"sphere")};function nc(){rn.point=ic}a(nc,"areaRingStart$1");function tc(){yr(vr,xr)}a(tc,"areaRingEnd$1");function ic(e,n){rn.point=yr,vr=e,xr=n,e*=H,n*=H,qi=e,Gi=W(n=n/2+Vt),Xi=L(n)}a(ic,"areaPointFirst$1");function yr(e,n){e*=H,n*=H,n=n/2+Vt;var t=e-qi,i=t>=0?1:-1,r=i*t,o=W(n),c=L(n),l=Xi*c,d=Gi*o+l*W(r),h=l*i*L(r);Qt.add(Re(h,d)),qi=e,Gi=o,Xi=c}a(yr,"areaPoint$1");function ac(e){return ei=new Ie,Ve(e,rn),ei*2}a(ac,"area");function ni(e){return[Re(e[1],e[0]),$e(e[2])]}a(ni,"spherical");function Rn(e){var n=e[0],t=e[1],i=W(t);return[i*W(n),i*L(n),L(t)]}a(Rn,"cartesian");function Rt(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]}a(Rt,"cartesianDot");function Gn(e,n){return[e[1]*n[2]-e[2]*n[1],e[2]*n[0]-e[0]*n[2],e[0]*n[1]-e[1]*n[0]]}a(Gn,"cartesianCross");function Oi(e,n){e[0]+=n[0],e[1]+=n[1],e[2]+=n[2]}a(Oi,"cartesianAddInPlace");function $t(e,n){return[e[0]*n,e[1]*n,e[2]*n]}a($t,"cartesianScale");function ti(e){var n=Se(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=n,e[1]/=n,e[2]/=n}a(ti,"cartesianNormalizeInPlace");var ve,Le,we,ze,An,wr,jr,Yn,ut,In,vn,fn={point:Zi,lineStart:ds,lineEnd:hs,polygonStart:a(function(){fn.point=br,fn.lineStart=sc,fn.lineEnd=rc,ut=new Ie,rn.polygonStart()},"polygonStart"),polygonEnd:a(function(){rn.polygonEnd(),fn.point=Zi,fn.lineStart=ds,fn.lineEnd=hs,Qt<0?(ve=-(we=180),Le=-(ze=90)):ut>Y?ze=90:ut<-1e-6&&(Le=-90),vn[0]=ve,vn[1]=we},"polygonEnd"),sphere:a(function(){ve=-(we=180),Le=-(ze=90)},"sphere")};function Zi(e,n){In.push(vn=[ve=e,we=e]),n<Le&&(Le=n),n>ze&&(ze=n)}a(Zi,"boundsPoint$1");function Nr(e,n){var t=Rn([e*H,n*H]);if(Yn){var i=Gn(Yn,t),r=[i[1],-i[0],0],o=Gn(r,i);ti(o),o=ni(o);var c=e-An,l=c>0?1:-1,d=o[0]*ge*l,h,u=ae(c)>180;u^(l*An<d&&d<l*e)?(h=o[1]*ge,h>ze&&(ze=h)):(d=(d+360)%360-180,u^(l*An<d&&d<l*e)?(h=-o[1]*ge,h<Le&&(Le=h)):(n<Le&&(Le=n),n>ze&&(ze=n))),u?e<An?De(ve,e)>De(ve,we)&&(we=e):De(e,we)>De(ve,we)&&(ve=e):we>=ve?(e<ve&&(ve=e),e>we&&(we=e)):e>An?De(ve,e)>De(ve,we)&&(we=e):De(e,we)>De(ve,we)&&(ve=e)}else In.push(vn=[ve=e,we=e]);n<Le&&(Le=n),n>ze&&(ze=n),Yn=t,An=e}a(Nr,"linePoint");function ds(){fn.point=Nr}a(ds,"boundsLineStart");function hs(){vn[0]=ve,vn[1]=we,fn.point=Zi,Yn=null}a(hs,"boundsLineEnd");function br(e,n){if(Yn){var t=e-An;ut.add(ae(t)>180?t+(t>0?360:-360):t)}else wr=e,jr=n;rn.point(e,n),Nr(e,n)}a(br,"boundsRingPoint");function sc(){rn.lineStart()}a(sc,"boundsRingStart");function rc(){br(wr,jr),rn.lineEnd(),ae(ut)>Y&&(ve=-(we=180)),vn[0]=ve,vn[1]=we,Yn=null}a(rc,"boundsRingEnd");function De(e,n){return(n-=e)<0?n+360:n}a(De,"angle");function oc(e,n){return e[0]-n[0]}a(oc,"rangeCompare");function fs(e,n){return e[0]<=e[1]?e[0]<=n&&n<=e[1]:n<e[0]||e[1]<n}a(fs,"rangeContains");function cc(e){var n,t,i,r,o,c,l;if(ze=we=-(ve=Le=1/0),In=[],Ve(e,fn),t=In.length){for(In.sort(oc),n=1,i=In[0],o=[i];n<t;++n)r=In[n],fs(i,r[0])||fs(i,r[1])?(De(i[0],r[1])>De(i[0],i[1])&&(i[1]=r[1]),De(r[0],i[1])>De(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(c=-1/0,t=o.length-1,n=0,i=o[t];n<=t;i=r,++n)r=o[n],(l=De(i[1],r[0]))>c&&(c=l,ve=r[0],we=i[1])}return In=vn=null,ve===1/0||Le===1/0?[[NaN,NaN],[NaN,NaN]]:[[ve,Le],[we,ze]]}a(cc,"bounds");var it,ii,ai,si,ri,oi,ci,li,Vi,Ki,Ji,Ir,Sr,Ee,ke,Pe,Ke={sphere:xe,point:Ia,lineStart:ms,lineEnd:ps,polygonStart:a(function(){Ke.lineStart=dc,Ke.lineEnd=hc},"polygonStart"),polygonEnd:a(function(){Ke.lineStart=ms,Ke.lineEnd=ps},"polygonEnd")};function Ia(e,n){e*=H,n*=H;var t=W(n);bt(t*W(e),t*L(e),L(n))}a(Ia,"centroidPoint$1");function bt(e,n,t){++it,ai+=(e-ai)/it,si+=(n-si)/it,ri+=(t-ri)/it}a(bt,"centroidPointCartesian");function ms(){Ke.point=lc}a(ms,"centroidLineStart$1");function lc(e,n){e*=H,n*=H;var t=W(n);Ee=t*W(e),ke=t*L(e),Pe=L(n),Ke.point=uc,bt(Ee,ke,Pe)}a(lc,"centroidLinePointFirst");function uc(e,n){e*=H,n*=H;var t=W(n),i=t*W(e),r=t*L(e),o=L(n),c=Re(Se((c=ke*o-Pe*r)*c+(c=Pe*i-Ee*o)*c+(c=Ee*r-ke*i)*c),Ee*i+ke*r+Pe*o);ii+=c,oi+=c*(Ee+(Ee=i)),ci+=c*(ke+(ke=r)),li+=c*(Pe+(Pe=o)),bt(Ee,ke,Pe)}a(uc,"centroidLinePoint");function ps(){Ke.point=Ia}a(ps,"centroidLineEnd$1");function dc(){Ke.point=fc}a(dc,"centroidRingStart$1");function hc(){_r(Ir,Sr),Ke.point=Ia}a(hc,"centroidRingEnd$1");function fc(e,n){Ir=e,Sr=n,e*=H,n*=H,Ke.point=_r;var t=W(n);Ee=t*W(e),ke=t*L(e),Pe=L(n),bt(Ee,ke,Pe)}a(fc,"centroidRingPointFirst");function _r(e,n){e*=H,n*=H;var t=W(n),i=t*W(e),r=t*L(e),o=L(n),c=ke*o-Pe*r,l=Pe*i-Ee*o,d=Ee*r-ke*i,h=Ui(c,l,d),u=$e(h),f=h&&-u/h;Vi.add(f*c),Ki.add(f*l),Ji.add(f*d),ii+=u,oi+=u*(Ee+(Ee=i)),ci+=u*(ke+(ke=r)),li+=u*(Pe+(Pe=o)),bt(Ee,ke,Pe)}a(_r,"centroidRingPoint");function mc(e){it=ii=ai=si=ri=oi=ci=li=0,Vi=new Ie,Ki=new Ie,Ji=new Ie,Ve(e,Ke);var n=+Vi,t=+Ki,i=+Ji,r=Ui(n,t,i);return r<Zt&&(n=oi,t=ci,i=li,ii<Y&&(n=ai,t=si,i=ri),r=Ui(n,t,i),r<Zt)?[NaN,NaN]:[Re(t,n)*ge,$e(i/r)*ge]}a(mc,"centroid");function Dn(e){return function(){return e}}a(Dn,"constant$3");function Qi(e,n){function t(i,r){return i=e(i,r),n(i[0],i[1])}return a(t,"compose"),e.invert&&n.invert&&(t.invert=function(i,r){return i=n.invert(i,r),i&&e.invert(i[0],i[1])}),t}a(Qi,"compose");function ea(e,n){return[ae(e)>ee?e+Math.round(-e/Ae)*Ae:e,n]}a(ea,"rotationIdentity");ea.invert=ea;function Sa(e,n,t){return(e%=Ae)?n||t?Qi(vs(e),xs(n,t)):vs(e):n||t?xs(n,t):ea}a(Sa,"rotateRadians");function gs(e){return function(n,t){return n+=e,[n>ee?n-Ae:n<-ee?n+Ae:n,t]}}a(gs,"forwardRotationLambda");function vs(e){var n=gs(e);return n.invert=gs(-e),n}a(vs,"rotationLambda");function xs(e,n){var t=W(e),i=L(e),r=W(n),o=L(n);function c(l,d){var h=W(d),u=W(l)*h,f=L(l)*h,m=L(d),p=m*t+u*i;return[Re(f*r-p*o,u*t-m*i),$e(p*r+f*o)]}return a(c,"rotation"),c.invert=function(l,d){var h=W(d),u=W(l)*h,f=L(l)*h,m=L(d),p=m*r-f*o;return[Re(f*r+m*o,u*t+p*i),$e(p*t-u*i)]},c}a(xs,"rotationPhiGamma");function Mr(e){e=Sa(e[0]*H,e[1]*H,e.length>2?e[2]*H:0);function n(t){return t=e(t[0]*H,t[1]*H),t[0]*=ge,t[1]*=ge,t}return a(n,"forward"),n.invert=function(t){return t=e.invert(t[0]*H,t[1]*H),t[0]*=ge,t[1]*=ge,t},n}a(Mr,"rotation");function Cr(e,n,t,i,r,o){if(t){var c=W(n),l=L(n),d=i*t;r==null?(r=n+i*Ae,o=n-d/2):(r=ys(c,r),o=ys(c,o),(i>0?r<o:r>o)&&(r+=i*Ae));for(var h,u=r;i>0?u>o:u<o;u-=d)h=ni([c,-l*W(u),-l*L(u)]),e.point(h[0],h[1])}}a(Cr,"circleStream");function ys(e,n){n=Rn(n),n[0]-=e,ti(n);var t=gr(-n[1]);return((-n[2]<0?-t:t)+Ae-Y)%Ae}a(ys,"circleRadius");function pc(){var e=Dn([0,0]),n=Dn(90),t=Dn(6),i,r,o={point:c};function c(d,h){i.push(d=r(d,h)),d[0]*=ge,d[1]*=ge}a(c,"point");function l(){var d=e.apply(this,arguments),h=n.apply(this,arguments)*H,u=t.apply(this,arguments)*H;return i=[],r=Sa(-d[0]*H,-d[1]*H,0).invert,Cr(o,h,u,1),d={type:"Polygon",coordinates:[i]},i=r=null,d}return a(l,"circle"),l.center=function(d){return arguments.length?(e=typeof d=="function"?d:Dn([+d[0],+d[1]]),l):e},l.radius=function(d){return arguments.length?(n=typeof d=="function"?d:Dn(+d),l):n},l.precision=function(d){return arguments.length?(t=typeof d=="function"?d:Dn(+d),l):t},l}a(pc,"circle$1");function Er(){var e=[],n;return{point:a(function(t,i,r){n.push([t,i,r])},"point"),lineStart:a(function(){e.push(n=[])},"lineStart"),lineEnd:xe,rejoin:a(function(){e.length>1&&e.push(e.pop().concat(e.shift()))},"rejoin"),result:a(function(){var t=e;return e=[],n=null,t},"result")}}a(Er,"clipBuffer");function zt(e,n){return ae(e[0]-n[0])<Y&&ae(e[1]-n[1])<Y}a(zt,"pointEqual");function Ot(e,n,t,i){this.x=e,this.z=n,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}a(Ot,"Intersection");function kr(e,n,t,i,r){var o=[],c=[],l,d;if(e.forEach(function(y){if(!((S=y.length-1)<=0)){var S,j=y[0],w=y[S],_;if(zt(j,w)){if(!j[2]&&!w[2]){for(r.lineStart(),l=0;l<S;++l)r.point((j=y[l])[0],j[1]);r.lineEnd();return}w[0]+=2*Y}o.push(_=new Ot(j,y,null,!0)),c.push(_.o=new Ot(j,null,_,!1)),o.push(_=new Ot(w,y,null,!1)),c.push(_.o=new Ot(w,null,_,!0))}}),!!o.length){for(c.sort(n),ws(o),ws(c),l=0,d=c.length;l<d;++l)c[l].e=t=!t;for(var h=o[0],u,f;;){for(var m=h,p=!0;m.v;)if((m=m.n)===h)return;u=m.z,r.lineStart();do{if(m.v=m.o.v=!0,m.e){if(p)for(l=0,d=u.length;l<d;++l)r.point((f=u[l])[0],f[1]);else i(m.x,m.n.x,1,r);m=m.n}else{if(p)for(u=m.p.z,l=u.length-1;l>=0;--l)r.point((f=u[l])[0],f[1]);else i(m.x,m.p.x,-1,r);m=m.p}m=m.o,u=m.z,p=!p}while(!m.v);r.lineEnd()}}}a(kr,"clipRejoin");function ws(e){if(n=e.length){for(var n,t=0,i=e[0],r;++t<n;)i.n=r=e[t],r.p=i,i=r;i.n=r=e[0],r.p=i}}a(ws,"link");function Ti(e){return ae(e[0])<=ee?e[0]:Ge(e[0])*((ae(e[0])+ee)%Ae-ee)}a(Ti,"longitude");function Pr(e,n){var t=Ti(n),i=n[1],r=L(i),o=[L(t),-W(t),0],c=0,l=0,d=new Ie;r===1?i=je+Y:r===-1&&(i=-je-Y);for(var h=0,u=e.length;h<u;++h)if(m=(f=e[h]).length)for(var f,m,p=f[m-1],y=Ti(p),S=p[1]/2+Vt,j=L(S),w=W(S),_=0;_<m;++_,y=N,j=M,w=O,p=b){var b=f[_],N=Ti(b),I=b[1]/2+Vt,M=L(I),O=W(I),F=N-y,G=F>=0?1:-1,K=G*F,z=K>ee,Z=j*M;if(d.add(Re(Z*G*L(K),w*O+Z*W(K))),c+=z?F+G*Ae:F,z^y>=t^N>=t){var U=Gn(Rn(p),Rn(b));ti(U);var g=Gn(o,U);ti(g);var v=(z^F>=0?-1:1)*$e(g[2]);(i>v||i===v&&(U[0]||U[1]))&&(l+=z^F>=0?1:-1)}}return(c<-1e-6||c<Y&&d<-1e-12)^l&1}a(Pr,"polygonContains");function Ar(e,n,t,i){return function(r){var o=n(r),c=Er(),l=n(c),d=!1,h,u,f,m={point:p,lineStart:S,lineEnd:j,polygonStart:a(function(){m.point=w,m.lineStart=_,m.lineEnd=b,u=[],h=[]},"polygonStart"),polygonEnd:a(function(){m.point=p,m.lineStart=S,m.lineEnd=j,u=mr(u);var N=Pr(h,i);u.length?(d||(r.polygonStart(),d=!0),kr(u,vc,N,t,r)):N&&(d||(r.polygonStart(),d=!0),r.lineStart(),t(null,null,1,r),r.lineEnd()),d&&(r.polygonEnd(),d=!1),u=h=null},"polygonEnd"),sphere:a(function(){r.polygonStart(),r.lineStart(),t(null,null,1,r),r.lineEnd(),r.polygonEnd()},"sphere")};function p(N,I){e(N,I)&&r.point(N,I)}a(p,"point");function y(N,I){o.point(N,I)}a(y,"pointLine");function S(){m.point=y,o.lineStart()}a(S,"lineStart");function j(){m.point=p,o.lineEnd()}a(j,"lineEnd");function w(N,I){f.push([N,I]),l.point(N,I)}a(w,"pointRing");function _(){l.lineStart(),f=[]}a(_,"ringStart");function b(){w(f[0][0],f[0][1]),l.lineEnd();var N=l.clean(),I=c.result(),M,O=I.length,F,G,K;if(f.pop(),h.push(f),f=null,!!O){if(N&1){if(G=I[0],(F=G.length-1)>0){for(d||(r.polygonStart(),d=!0),r.lineStart(),M=0;M<F;++M)r.point((K=G[M])[0],K[1]);r.lineEnd()}return}O>1&&N&2&&I.push(I.pop().concat(I.shift())),u.push(I.filter(gc))}}return a(b,"ringEnd"),m}}a(Ar,"clip");function gc(e){return e.length>1}a(gc,"validSegment");function vc(e,n){return((e=e.x)[0]<0?e[1]-je-Y:je-e[1])-((n=n.x)[0]<0?n[1]-je-Y:je-n[1])}a(vc,"compareIntersection");const na=Ar(function(){return!0},xc,wc,[-ee,-je]);function xc(e){var n=NaN,t=NaN,i=NaN,r;return{lineStart:a(function(){e.lineStart(),r=1},"lineStart"),point:a(function(o,c){var l=o>0?ee:-ee,d=ae(o-n);ae(d-ee)<Y?(e.point(n,t=(t+c)/2>0?je:-je),e.point(i,t),e.lineEnd(),e.lineStart(),e.point(l,t),e.point(o,t),r=0):i!==l&&d>=ee&&(ae(n-i)<Y&&(n-=i*Y),ae(o-l)<Y&&(o-=l*Y),t=yc(n,t,o,c),e.point(i,t),e.lineEnd(),e.lineStart(),e.point(l,t),r=0),e.point(n=o,t=c),i=l},"point"),lineEnd:a(function(){e.lineEnd(),n=t=NaN},"lineEnd"),clean:a(function(){return 2-r},"clean")}}a(xc,"clipAntimeridianLine");function yc(e,n,t,i){var r,o,c=L(e-t);return ae(c)>Y?Jn((L(n)*(o=W(i))*L(t)-L(i)*(r=W(n))*L(e))/(r*o*c)):(n+i)/2}a(yc,"clipAntimeridianIntersect");function wc(e,n,t,i){var r;if(e==null)r=t*je,i.point(-ee,r),i.point(0,r),i.point(ee,r),i.point(ee,0),i.point(ee,-r),i.point(0,-r),i.point(-ee,-r),i.point(-ee,0),i.point(-ee,r);else if(ae(e[0]-n[0])>Y){var o=e[0]<n[0]?ee:-ee;r=t*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(n[0],n[1])}a(wc,"clipAntimeridianInterpolate");function Rr(e){var n=W(e),t=6*H,i=n>0,r=ae(n)>Y;function o(u,f,m,p){Cr(p,e,t,m,u,f)}a(o,"interpolate");function c(u,f){return W(u)*W(f)>n}a(c,"visible");function l(u){var f,m,p,y,S;return{lineStart:a(function(){y=p=!1,S=1},"lineStart"),point:a(function(j,w){var _=[j,w],b,N=c(j,w),I=i?N?0:h(j,w):N?h(j+(j<0?ee:-ee),w):0;if(!f&&(y=p=N)&&u.lineStart(),N!==p&&(b=d(f,_),(!b||zt(f,b)||zt(_,b))&&(_[2]=1)),N!==p)S=0,N?(u.lineStart(),b=d(_,f),u.point(b[0],b[1])):(b=d(f,_),u.point(b[0],b[1],2),u.lineEnd()),f=b;else if(r&&f&&i^N){var M;!(I&m)&&(M=d(_,f,!0))&&(S=0,i?(u.lineStart(),u.point(M[0][0],M[0][1]),u.point(M[1][0],M[1][1]),u.lineEnd()):(u.point(M[1][0],M[1][1]),u.lineEnd(),u.lineStart(),u.point(M[0][0],M[0][1],3)))}N&&(!f||!zt(f,_))&&u.point(_[0],_[1]),f=_,p=N,m=I},"point"),lineEnd:a(function(){p&&u.lineEnd(),f=null},"lineEnd"),clean:a(function(){return S|(y&&p)<<1},"clean")}}a(l,"clipLine");function d(u,f,m){var p=Rn(u),y=Rn(f),S=[1,0,0],j=Gn(p,y),w=Rt(j,j),_=j[0],b=w-_*_;if(!b)return!m&&u;var N=n*w/b,I=-n*_/b,M=Gn(S,j),O=$t(S,N),F=$t(j,I);Oi(O,F);var G=M,K=Rt(O,G),z=Rt(G,G),Z=K*K-z*(Rt(O,O)-1);if(!(Z<0)){var U=Se(Z),g=$t(G,(-K-U)/z);if(Oi(g,O),g=ni(g),!m)return g;var v=u[0],x=f[0],P=u[1],A=f[1],T;x<v&&(T=v,v=x,x=T);var D=x-v,X=ae(D-ee)<Y,ne=X||D<Y;if(!X&&A<P&&(T=P,P=A,A=T),ne?X?P+A>0^g[1]<(ae(g[0]-v)<Y?P:A):P<=g[1]&&g[1]<=A:D>ee^(v<=g[0]&&g[0]<=x)){var le=$t(G,(-K+U)/z);return Oi(le,O),[g,ni(le)]}}}a(d,"intersect");function h(u,f){var m=i?e:ee-e,p=0;return u<-m?p|=1:u>m&&(p|=2),f<-m?p|=4:f>m&&(p|=8),p}return a(h,"code"),Ar(c,l,o,i?[0,-e]:[-ee,e-ee])}a(Rr,"clipCircle");function jc(e,n,t,i,r,o){var c=e[0],l=e[1],d=n[0],h=n[1],u=0,f=1,m=d-c,p=h-l,y;if(y=t-c,!(!m&&y>0)){if(y/=m,m<0){if(y<u)return;y<f&&(f=y)}else if(m>0){if(y>f)return;y>u&&(u=y)}if(y=r-c,!(!m&&y<0)){if(y/=m,m<0){if(y>f)return;y>u&&(u=y)}else if(m>0){if(y<u)return;y<f&&(f=y)}if(y=i-l,!(!p&&y>0)){if(y/=p,p<0){if(y<u)return;y<f&&(f=y)}else if(p>0){if(y>f)return;y>u&&(u=y)}if(y=o-l,!(!p&&y<0)){if(y/=p,p<0){if(y>f)return;y>u&&(u=y)}else if(p>0){if(y<u)return;y<f&&(f=y)}return u>0&&(e[0]=c+u*m,e[1]=l+u*p),f<1&&(n[0]=c+f*m,n[1]=l+f*p),!0}}}}}a(jc,"clipLine");var Tt=1e9,Lt=-1e9;function Si(e,n,t,i){function r(h,u){return e<=h&&h<=t&&n<=u&&u<=i}a(r,"visible");function o(h,u,f,m){var p=0,y=0;if(h==null||(p=c(h,f))!==(y=c(u,f))||d(h,u)<0^f>0)do m.point(p===0||p===3?e:t,p>1?i:n);while((p=(p+f+4)%4)!==y);else m.point(u[0],u[1])}a(o,"interpolate");function c(h,u){return ae(h[0]-e)<Y?u>0?0:3:ae(h[0]-t)<Y?u>0?2:1:ae(h[1]-n)<Y?u>0?1:0:u>0?3:2}a(c,"corner");function l(h,u){return d(h.x,u.x)}a(l,"compareIntersection");function d(h,u){var f=c(h,1),m=c(u,1);return f!==m?f-m:f===0?u[1]-h[1]:f===1?h[0]-u[0]:f===2?h[1]-u[1]:u[0]-h[0]}return a(d,"comparePoint"),function(h){var u=h,f=Er(),m,p,y,S,j,w,_,b,N,I,M,O={point:F,lineStart:Z,lineEnd:U,polygonStart:K,polygonEnd:z};function F(v,x){r(v,x)&&u.point(v,x)}a(F,"point");function G(){for(var v=0,x=0,P=p.length;x<P;++x)for(var A=p[x],T=1,D=A.length,X=A[0],ne,le,te=X[0],V=X[1];T<D;++T)ne=te,le=V,X=A[T],te=X[0],V=X[1],le<=i?V>i&&(te-ne)*(i-le)>(V-le)*(e-ne)&&++v:V<=i&&(te-ne)*(i-le)<(V-le)*(e-ne)&&--v;return v}a(G,"polygonInside");function K(){u=f,m=[],p=[],M=!0}a(K,"polygonStart");function z(){var v=G(),x=M&&v,P=(m=mr(m)).length;(x||P)&&(h.polygonStart(),x&&(h.lineStart(),o(null,null,1,h),h.lineEnd()),P&&kr(m,l,v,o,h),h.polygonEnd()),u=h,m=p=y=null}a(z,"polygonEnd");function Z(){O.point=g,p&&p.push(y=[]),I=!0,N=!1,_=b=NaN}a(Z,"lineStart");function U(){m&&(g(S,j),w&&N&&f.rejoin(),m.push(f.result())),O.point=F,N&&u.lineEnd()}a(U,"lineEnd");function g(v,x){var P=r(v,x);if(p&&y.push([v,x]),I)S=v,j=x,w=P,I=!1,P&&(u.lineStart(),u.point(v,x));else if(P&&N)u.point(v,x);else{var A=[_=Math.max(Lt,Math.min(Tt,_)),b=Math.max(Lt,Math.min(Tt,b))],T=[v=Math.max(Lt,Math.min(Tt,v)),x=Math.max(Lt,Math.min(Tt,x))];jc(A,T,e,n,t,i)?(N||(u.lineStart(),u.point(A[0],A[1])),u.point(T[0],T[1]),P||u.lineEnd(),M=!1):P&&(u.lineStart(),u.point(v,x),M=!1)}_=v,b=x,N=P}return a(g,"linePoint"),O}}a(Si,"clipRectangle");function Nc(){var e=0,n=0,t=960,i=500,r,o,c;return c={stream:a(function(l){return r&&o===l?r:r=Si(e,n,t,i)(o=l)},"stream"),extent:a(function(l){return arguments.length?(e=+l[0][0],n=+l[0][1],t=+l[1][0],i=+l[1][1],r=o=null,c):[[e,n],[t,i]]},"extent")}}a(Nc,"extent");var ta,ia,Ht,Ut,Xn={sphere:xe,point:xe,lineStart:bc,lineEnd:xe,polygonStart:xe,polygonEnd:xe};function bc(){Xn.point=Sc,Xn.lineEnd=Ic}a(bc,"lengthLineStart");function Ic(){Xn.point=Xn.lineEnd=xe}a(Ic,"lengthLineEnd");function Sc(e,n){e*=H,n*=H,ia=e,Ht=L(n),Ut=W(n),Xn.point=_c}a(Sc,"lengthPointFirst$1");function _c(e,n){e*=H,n*=H;var t=L(n),i=W(n),r=ae(e-ia),o=W(r),c=L(r),l=i*c,d=Ut*t-Ht*i*o,h=Ht*t+Ut*i*o;ta.add(Re(Se(l*l+d*d),h)),ia=e,Ht=t,Ut=i}a(_c,"lengthPoint$1");function $r(e){return ta=new Ie,Ve(e,Xn),+ta}a($r,"length");var aa=[null,null],Mc={type:"LineString",coordinates:aa};function ui(e,n){return aa[0]=e,aa[1]=n,$r(Mc)}a(ui,"distance");var js={Feature:a(function(e,n){return di(e.geometry,n)},"Feature"),FeatureCollection:a(function(e,n){for(var t=e.features,i=-1,r=t.length;++i<r;)if(di(t[i].geometry,n))return!0;return!1},"FeatureCollection")},Ns={Sphere:a(function(){return!0},"Sphere"),Point:a(function(e,n){return bs(e.coordinates,n)},"Point"),MultiPoint:a(function(e,n){for(var t=e.coordinates,i=-1,r=t.length;++i<r;)if(bs(t[i],n))return!0;return!1},"MultiPoint"),LineString:a(function(e,n){return Is(e.coordinates,n)},"LineString"),MultiLineString:a(function(e,n){for(var t=e.coordinates,i=-1,r=t.length;++i<r;)if(Is(t[i],n))return!0;return!1},"MultiLineString"),Polygon:a(function(e,n){return Ss(e.coordinates,n)},"Polygon"),MultiPolygon:a(function(e,n){for(var t=e.coordinates,i=-1,r=t.length;++i<r;)if(Ss(t[i],n))return!0;return!1},"MultiPolygon"),GeometryCollection:a(function(e,n){for(var t=e.geometries,i=-1,r=t.length;++i<r;)if(di(t[i],n))return!0;return!1},"GeometryCollection")};function di(e,n){return e&&Ns.hasOwnProperty(e.type)?Ns[e.type](e,n):!1}a(di,"containsGeometry");function bs(e,n){return ui(e,n)===0}a(bs,"containsPoint");function Is(e,n){for(var t,i,r,o=0,c=e.length;o<c;o++){if(i=ui(e[o],n),i===0||o>0&&(r=ui(e[o],e[o-1]),r>0&&t<=r&&i<=r&&(t+i-r)*(1-Math.pow((t-i)/r,2))<Zt*r))return!0;t=i}return!1}a(Is,"containsLine");function Ss(e,n){return!!Pr(e.map(Cc),Or(n))}a(Ss,"containsPolygon");function Cc(e){return e=e.map(Or),e.pop(),e}a(Cc,"ringRadians");function Or(e){return[e[0]*H,e[1]*H]}a(Or,"pointRadians");function Ec(e,n){return(e&&js.hasOwnProperty(e.type)?js[e.type]:di)(e,n)}a(Ec,"contains");function _s(e,n,t){var i=zn(e,n-Y,t).concat(n);return function(r){return i.map(function(o){return[r,o]})}}a(_s,"graticuleX");function Ms(e,n,t){var i=zn(e,n-Y,t).concat(n);return function(r){return i.map(function(o){return[o,r]})}}a(Ms,"graticuleY");function _a(){var e,n,t,i,r,o,c,l,d=10,h=d,u=90,f=360,m,p,y,S,j=2.5;function w(){return{type:"MultiLineString",coordinates:_()}}a(w,"graticule");function _(){return zn(At(i/u)*u,t,u).map(y).concat(zn(At(l/f)*f,c,f).map(S)).concat(zn(At(n/d)*d,e,d).filter(function(b){return ae(b%u)>Y}).map(m)).concat(zn(At(o/h)*h,r,h).filter(function(b){return ae(b%f)>Y}).map(p))}return a(_,"lines"),w.lines=function(){return _().map(function(b){return{type:"LineString",coordinates:b}})},w.outline=function(){return{type:"Polygon",coordinates:[y(i).concat(S(c).slice(1),y(t).reverse().slice(1),S(l).reverse().slice(1))]}},w.extent=function(b){return arguments.length?w.extentMajor(b).extentMinor(b):w.extentMinor()},w.extentMajor=function(b){return arguments.length?(i=+b[0][0],t=+b[1][0],l=+b[0][1],c=+b[1][1],i>t&&(b=i,i=t,t=b),l>c&&(b=l,l=c,c=b),w.precision(j)):[[i,l],[t,c]]},w.extentMinor=function(b){return arguments.length?(n=+b[0][0],e=+b[1][0],o=+b[0][1],r=+b[1][1],n>e&&(b=n,n=e,e=b),o>r&&(b=o,o=r,r=b),w.precision(j)):[[n,o],[e,r]]},w.step=function(b){return arguments.length?w.stepMajor(b).stepMinor(b):w.stepMinor()},w.stepMajor=function(b){return arguments.length?(u=+b[0],f=+b[1],w):[u,f]},w.stepMinor=function(b){return arguments.length?(d=+b[0],h=+b[1],w):[d,h]},w.precision=function(b){return arguments.length?(j=+b,m=_s(o,r,90),p=Ms(n,e,j),y=_s(l,c,90),S=Ms(i,t,j),w):j},w.extentMajor([[-180,-90+Y],[180,90-Y]]).extentMinor([[-180,-80-Y],[180,80+Y]])}a(_a,"graticule");function kc(){return _a()()}a(kc,"graticule10");function Pc(e,n){var t=e[0]*H,i=e[1]*H,r=n[0]*H,o=n[1]*H,c=W(i),l=L(i),d=W(o),h=L(o),u=c*W(t),f=c*L(t),m=d*W(r),p=d*L(r),y=2*$e(Se(os(o-i)+c*d*os(r-t))),S=L(y),j=y?function(w){var _=L(w*=y)/S,b=L(y-w)/S,N=b*u+_*m,I=b*f+_*p,M=b*l+_*h;return[Re(I,N)*ge,Re(M,Se(N*N+I*I))*ge]}:function(){return[t*ge,i*ge]};return j.distance=y,j}a(Pc,"interpolate$1");const pt=a(e=>e,"identity$4");var Li=new Ie,sa=new Ie,Tr,Lr,ra,oa,mn={point:xe,lineStart:xe,lineEnd:xe,polygonStart:a(function(){mn.lineStart=Ac,mn.lineEnd=$c},"polygonStart"),polygonEnd:a(function(){mn.lineStart=mn.lineEnd=mn.point=xe,Li.add(ae(sa)),sa=new Ie},"polygonEnd"),result:a(function(){var e=Li/2;return Li=new Ie,e},"result")};function Ac(){mn.point=Rc}a(Ac,"areaRingStart");function Rc(e,n){mn.point=Br,Tr=ra=e,Lr=oa=n}a(Rc,"areaPointFirst");function Br(e,n){sa.add(oa*e-ra*n),ra=e,oa=n}a(Br,"areaPoint");function $c(){Br(Tr,Lr)}a($c,"areaRingEnd");var Zn=1/0,hi=Zn,gt=-Zn,fi=gt,mi={point:Oc,lineStart:xe,lineEnd:xe,polygonStart:xe,polygonEnd:xe,result:a(function(){var e=[[Zn,hi],[gt,fi]];return gt=fi=-(hi=Zn=1/0),e},"result")};function Oc(e,n){e<Zn&&(Zn=e),e>gt&&(gt=e),n<hi&&(hi=n),n>fi&&(fi=n)}a(Oc,"boundsPoint");var ca=0,la=0,at=0,pi=0,gi=0,Hn=0,ua=0,da=0,st=0,Fr,Wr,nn,tn,qe={point:$n,lineStart:Cs,lineEnd:Es,polygonStart:a(function(){qe.lineStart=Bc,qe.lineEnd=Fc},"polygonStart"),polygonEnd:a(function(){qe.point=$n,qe.lineStart=Cs,qe.lineEnd=Es},"polygonEnd"),result:a(function(){var e=st?[ua/st,da/st]:Hn?[pi/Hn,gi/Hn]:at?[ca/at,la/at]:[NaN,NaN];return ca=la=at=pi=gi=Hn=ua=da=st=0,e},"result")};function $n(e,n){ca+=e,la+=n,++at}a($n,"centroidPoint");function Cs(){qe.point=Tc}a(Cs,"centroidLineStart");function Tc(e,n){qe.point=Lc,$n(nn=e,tn=n)}a(Tc,"centroidPointFirstLine");function Lc(e,n){var t=e-nn,i=n-tn,r=Se(t*t+i*i);pi+=r*(nn+e)/2,gi+=r*(tn+n)/2,Hn+=r,$n(nn=e,tn=n)}a(Lc,"centroidPointLine");function Es(){qe.point=$n}a(Es,"centroidLineEnd");function Bc(){qe.point=Wc}a(Bc,"centroidRingStart");function Fc(){Dr(Fr,Wr)}a(Fc,"centroidRingEnd");function Wc(e,n){qe.point=Dr,$n(Fr=nn=e,Wr=tn=n)}a(Wc,"centroidPointFirstRing");function Dr(e,n){var t=e-nn,i=n-tn,r=Se(t*t+i*i);pi+=r*(nn+e)/2,gi+=r*(tn+n)/2,Hn+=r,r=tn*e-nn*n,ua+=r*(nn+e),da+=r*(tn+n),st+=r*3,$n(nn=e,tn=n)}a(Dr,"centroidPointRing");function zr(e){this._context=e}a(zr,"PathContext");zr.prototype={_radius:4.5,pointRadius:a(function(e){return this._radius=e,this},"pointRadius"),polygonStart:a(function(){this._line=0},"polygonStart"),polygonEnd:a(function(){this._line=NaN},"polygonEnd"),lineStart:a(function(){this._point=0},"lineStart"),lineEnd:a(function(){this._line===0&&this._context.closePath(),this._point=NaN},"lineEnd"),point:a(function(e,n){switch(this._point){case 0:{this._context.moveTo(e,n),this._point=1;break}case 1:{this._context.lineTo(e,n);break}default:{this._context.moveTo(e+this._radius,n),this._context.arc(e,n,this._radius,0,Ae);break}}},"point"),result:xe};var ha=new Ie,Bi,Hr,Ur,rt,ot,vt={point:xe,lineStart:a(function(){vt.point=Dc},"lineStart"),lineEnd:a(function(){Bi&&Yr(Hr,Ur),vt.point=xe},"lineEnd"),polygonStart:a(function(){Bi=!0},"polygonStart"),polygonEnd:a(function(){Bi=null},"polygonEnd"),result:a(function(){var e=+ha;return ha=new Ie,e},"result")};function Dc(e,n){vt.point=Yr,Hr=rt=e,Ur=ot=n}a(Dc,"lengthPointFirst");function Yr(e,n){rt-=e,ot-=n,ha.add(Se(rt*rt+ot*ot)),rt=e,ot=n}a(Yr,"lengthPoint");function qr(){this._string=[]}a(qr,"PathString");qr.prototype={_radius:4.5,_circle:ks(4.5),pointRadius:a(function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},"pointRadius"),polygonStart:a(function(){this._line=0},"polygonStart"),polygonEnd:a(function(){this._line=NaN},"polygonEnd"),lineStart:a(function(){this._point=0},"lineStart"),lineEnd:a(function(){this._line===0&&this._string.push("Z"),this._point=NaN},"lineEnd"),point:a(function(e,n){switch(this._point){case 0:{this._string.push("M",e,",",n),this._point=1;break}case 1:{this._string.push("L",e,",",n);break}default:{this._circle==null&&(this._circle=ks(this._radius)),this._string.push("M",e,",",n,this._circle);break}}},"point"),result:a(function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null},"result")};function ks(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}a(ks,"circle");function Gr(e,n){var t=4.5,i,r;function o(c){return c&&(typeof t=="function"&&r.pointRadius(+t.apply(this,arguments)),Ve(c,i(r))),r.result()}return a(o,"path"),o.area=function(c){return Ve(c,i(mn)),mn.result()},o.measure=function(c){return Ve(c,i(vt)),vt.result()},o.bounds=function(c){return Ve(c,i(mi)),mi.result()},o.centroid=function(c){return Ve(c,i(qe)),qe.result()},o.projection=function(c){return arguments.length?(i=c==null?(e=null,pt):(e=c).stream,o):e},o.context=function(c){return arguments.length?(r=c==null?(n=null,new qr):new zr(n=c),typeof t!="function"&&r.pointRadius(t),o):n},o.pointRadius=function(c){return arguments.length?(t=typeof c=="function"?c:(r.pointRadius(+c),+c),o):t},o.projection(e).context(n)}a(Gr,"index");function zc(e){return{stream:It(e)}}a(zc,"transform$1");function It(e){return function(n){var t=new fa;for(var i in e)t[i]=e[i];return t.stream=n,t}}a(It,"transformer");function fa(){}a(fa,"TransformStream");fa.prototype={constructor:fa,point:a(function(e,n){this.stream.point(e,n)},"point"),sphere:a(function(){this.stream.sphere()},"sphere"),lineStart:a(function(){this.stream.lineStart()},"lineStart"),lineEnd:a(function(){this.stream.lineEnd()},"lineEnd"),polygonStart:a(function(){this.stream.polygonStart()},"polygonStart"),polygonEnd:a(function(){this.stream.polygonEnd()},"polygonEnd")};function Ma(e,n,t){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),Ve(t,e.stream(mi)),n(mi.result()),i!=null&&e.clipExtent(i),e}a(Ma,"fit");function _i(e,n,t){return Ma(e,function(i){var r=n[1][0]-n[0][0],o=n[1][1]-n[0][1],c=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),l=+n[0][0]+(r-c*(i[1][0]+i[0][0]))/2,d=+n[0][1]+(o-c*(i[1][1]+i[0][1]))/2;e.scale(150*c).translate([l,d])},t)}a(_i,"fitExtent");function Ca(e,n,t){return _i(e,[[0,0],n],t)}a(Ca,"fitSize");function Ea(e,n,t){return Ma(e,function(i){var r=+n,o=r/(i[1][0]-i[0][0]),c=(r-o*(i[1][0]+i[0][0]))/2,l=-o*i[0][1];e.scale(150*o).translate([c,l])},t)}a(Ea,"fitWidth");function ka(e,n,t){return Ma(e,function(i){var r=+n,o=r/(i[1][1]-i[0][1]),c=-o*i[0][0],l=(r-o*(i[1][1]+i[0][1]))/2;e.scale(150*o).translate([c,l])},t)}a(ka,"fitHeight");var Ps=16,Hc=W(30*H);function As(e,n){return+n?Yc(e,n):Uc(e)}a(As,"resample");function Uc(e){return It({point:a(function(n,t){n=e(n,t),this.stream.point(n[0],n[1])},"point")})}a(Uc,"resampleNone");function Yc(e,n){function t(i,r,o,c,l,d,h,u,f,m,p,y,S,j){var w=h-i,_=u-r,b=w*w+_*_;if(b>4*n&&S--){var N=c+m,I=l+p,M=d+y,O=Se(N*N+I*I+M*M),F=$e(M/=O),G=ae(ae(M)-1)<Y||ae(o-f)<Y?(o+f)/2:Re(I,N),K=e(G,F),z=K[0],Z=K[1],U=z-i,g=Z-r,v=_*U-w*g;(v*v/b>n||ae((w*U+_*g)/b-.5)>.3||c*m+l*p+d*y<Hc)&&(t(i,r,o,c,l,d,z,Z,G,N/=O,I/=O,M,S,j),j.point(z,Z),t(z,Z,G,N,I,M,h,u,f,m,p,y,S,j))}}return a(t,"resampleLineTo"),function(i){var r,o,c,l,d,h,u,f,m,p,y,S,j={point:w,lineStart:_,lineEnd:N,polygonStart:a(function(){i.polygonStart(),j.lineStart=I},"polygonStart"),polygonEnd:a(function(){i.polygonEnd(),j.lineStart=_},"polygonEnd")};function w(F,G){F=e(F,G),i.point(F[0],F[1])}a(w,"point");function _(){f=NaN,j.point=b,i.lineStart()}a(_,"lineStart");function b(F,G){var K=Rn([F,G]),z=e(F,G);t(f,m,u,p,y,S,f=z[0],m=z[1],u=F,p=K[0],y=K[1],S=K[2],Ps,i),i.point(f,m)}a(b,"linePoint");function N(){j.point=w,i.lineEnd()}a(N,"lineEnd");function I(){_(),j.point=M,j.lineEnd=O}a(I,"ringStart");function M(F,G){b(r=F,G),o=f,c=m,l=p,d=y,h=S,j.point=b}a(M,"ringPoint");function O(){t(f,m,u,p,y,S,o,c,r,l,d,h,Ps,i),j.lineEnd=N,N()}return a(O,"ringEnd"),j}}a(Yc,"resample$1");var qc=It({point:a(function(e,n){this.stream.point(e*H,n*H)},"point")});function Gc(e){return It({point:a(function(n,t){var i=e(n,t);return this.stream.point(i[0],i[1])},"point")})}a(Gc,"transformRotate");function Xc(e,n,t,i,r){function o(c,l){return c*=i,l*=r,[n+e*c,t-e*l]}return a(o,"transform"),o.invert=function(c,l){return[(c-n)/e*i,(t-l)/e*r]},o}a(Xc,"scaleTranslate");function Rs(e,n,t,i,r,o){if(!o)return Xc(e,n,t,i,r);var c=W(o),l=L(o),d=c*e,h=l*e,u=c/e,f=l/e,m=(l*t-c*n)/e,p=(l*n+c*t)/e;function y(S,j){return S*=i,j*=r,[d*S-h*j+n,t-h*S-d*j]}return a(y,"transform"),y.invert=function(S,j){return[i*(u*S-f*j+m),r*(p-f*S-u*j)]},y}a(Rs,"scaleTranslateRotate");function on(e){return Pa(function(){return e})()}a(on,"projection");function Pa(e){var n,t=150,i=480,r=250,o=0,c=0,l=0,d=0,h=0,u,f=0,m=1,p=1,y=null,S=na,j=null,w,_,b,N=pt,I=.5,M,O,F,G,K;function z(v){return F(v[0]*H,v[1]*H)}a(z,"projection");function Z(v){return v=F.invert(v[0],v[1]),v&&[v[0]*ge,v[1]*ge]}a(Z,"invert"),z.stream=function(v){return G&&K===v?G:G=qc(Gc(u)(S(M(N(K=v)))))},z.preclip=function(v){return arguments.length?(S=v,y=void 0,g()):S},z.postclip=function(v){return arguments.length?(N=v,j=w=_=b=null,g()):N},z.clipAngle=function(v){return arguments.length?(S=+v?Rr(y=v*H):(y=null,na),g()):y*ge},z.clipExtent=function(v){return arguments.length?(N=v==null?(j=w=_=b=null,pt):Si(j=+v[0][0],w=+v[0][1],_=+v[1][0],b=+v[1][1]),g()):j==null?null:[[j,w],[_,b]]},z.scale=function(v){return arguments.length?(t=+v,U()):t},z.translate=function(v){return arguments.length?(i=+v[0],r=+v[1],U()):[i,r]},z.center=function(v){return arguments.length?(o=v[0]%360*H,c=v[1]%360*H,U()):[o*ge,c*ge]},z.rotate=function(v){return arguments.length?(l=v[0]%360*H,d=v[1]%360*H,h=v.length>2?v[2]%360*H:0,U()):[l*ge,d*ge,h*ge]},z.angle=function(v){return arguments.length?(f=v%360*H,U()):f*ge},z.reflectX=function(v){return arguments.length?(m=v?-1:1,U()):m<0},z.reflectY=function(v){return arguments.length?(p=v?-1:1,U()):p<0},z.precision=function(v){return arguments.length?(M=As(O,I=v*v),g()):Se(I)},z.fitExtent=function(v,x){return _i(z,v,x)},z.fitSize=function(v,x){return Ca(z,v,x)},z.fitWidth=function(v,x){return Ea(z,v,x)},z.fitHeight=function(v,x){return ka(z,v,x)};function U(){var v=Rs(t,0,0,m,p,f).apply(null,n(o,c)),x=Rs(t,i-v[0],r-v[1],m,p,f);return u=Sa(l,d,h),O=Qi(n,x),F=Qi(u,O),M=As(O,I),g()}a(U,"recenter");function g(){return G=K=null,z}return a(g,"reset"),function(){return n=e.apply(this,arguments),z.invert=n.invert&&Z,U()}}a(Pa,"projectionMutator");function Aa(e){var n=0,t=ee/3,i=Pa(e),r=i(n,t);return r.parallels=function(o){return arguments.length?i(n=o[0]*H,t=o[1]*H):[n*ge,t*ge]},r}a(Aa,"conicProjection");function Zc(e){var n=W(e);function t(i,r){return[i*n,L(r)/n]}return a(t,"forward"),t.invert=function(i,r){return[i/n,$e(r*n)]},t}a(Zc,"cylindricalEqualAreaRaw");function Xr(e,n){var t=L(e),i=(t+L(n))/2;if(ae(i)<Y)return Zc(e);var r=1+t*(2*i-t),o=Se(r)/i;function c(l,d){var h=Se(r-2*i*L(d))/i;return[h*L(l*=i),o-h*W(l)]}return a(c,"project"),c.invert=function(l,d){var h=o-d,u=Re(l,ae(h))*Ge(h);return h*i<0&&(u-=ee*Ge(l)*Ge(h)),[u/i,$e((r-(l*l+h*h)*i*i)/(2*i))]},c}a(Xr,"conicEqualAreaRaw");function vi(){return Aa(Xr).scale(155.424).center([0,33.6442])}a(vi,"conicEqualArea");function Zr(){return vi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}a(Zr,"albers");function Vc(e){var n=e.length;return{point:a(function(t,i){for(var r=-1;++r<n;)e[r].point(t,i)},"point"),sphere:a(function(){for(var t=-1;++t<n;)e[t].sphere()},"sphere"),lineStart:a(function(){for(var t=-1;++t<n;)e[t].lineStart()},"lineStart"),lineEnd:a(function(){for(var t=-1;++t<n;)e[t].lineEnd()},"lineEnd"),polygonStart:a(function(){for(var t=-1;++t<n;)e[t].polygonStart()},"polygonStart"),polygonEnd:a(function(){for(var t=-1;++t<n;)e[t].polygonEnd()},"polygonEnd")}}a(Vc,"multiplex");function Kc(){var e,n,t=Zr(),i,r=vi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,c=vi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,d,h={point:a(function(m,p){d=[m,p]},"point")};function u(m){var p=m[0],y=m[1];return d=null,i.point(p,y),d||(o.point(p,y),d)||(l.point(p,y),d)}a(u,"albersUsa"),u.invert=function(m){var p=t.scale(),y=t.translate(),S=(m[0]-y[0])/p,j=(m[1]-y[1])/p;return(j>=.12&&j<.234&&S>=-.425&&S<-.214?r:j>=.166&&j<.234&&S>=-.214&&S<-.115?c:t).invert(m)},u.stream=function(m){return e&&n===m?e:e=Vc([t.stream(n=m),r.stream(m),c.stream(m)])},u.precision=function(m){return arguments.length?(t.precision(m),r.precision(m),c.precision(m),f()):t.precision()},u.scale=function(m){return arguments.length?(t.scale(m),r.scale(m*.35),c.scale(m),u.translate(t.translate())):t.scale()},u.translate=function(m){if(!arguments.length)return t.translate();var p=t.scale(),y=+m[0],S=+m[1];return i=t.translate(m).clipExtent([[y-.455*p,S-.238*p],[y+.455*p,S+.238*p]]).stream(h),o=r.translate([y-.307*p,S+.201*p]).clipExtent([[y-.425*p+Y,S+.12*p+Y],[y-.214*p-Y,S+.234*p-Y]]).stream(h),l=c.translate([y-.205*p,S+.212*p]).clipExtent([[y-.214*p+Y,S+.166*p+Y],[y-.115*p-Y,S+.234*p-Y]]).stream(h),f()},u.fitExtent=function(m,p){return _i(u,m,p)},u.fitSize=function(m,p){return Ca(u,m,p)},u.fitWidth=function(m,p){return Ea(u,m,p)},u.fitHeight=function(m,p){return ka(u,m,p)};function f(){return e=n=null,u}return a(f,"reset"),u.scale(1070)}a(Kc,"albersUsa");function Vr(e){return function(n,t){var i=W(n),r=W(t),o=e(i*r);return o===1/0?[2,0]:[o*r*L(n),o*L(t)]}}a(Vr,"azimuthalRaw");function St(e){return function(n,t){var i=Se(n*n+t*t),r=e(i),o=L(r),c=W(r);return[Re(n*o,i*c),$e(i&&t*o/i)]}}a(St,"azimuthalInvert");var Ra=Vr(function(e){return Se(2/(1+e))});Ra.invert=St(function(e){return 2*$e(e/2)});function Jc(){return on(Ra).scale(124.75).clipAngle(180-.001)}a(Jc,"azimuthalEqualArea");var $a=Vr(function(e){return(e=gr(e))&&e/L(e)});$a.invert=St(function(e){return e});function Qc(){return on($a).scale(79.4188).clipAngle(180-.001)}a(Qc,"azimuthalEquidistant");function _t(e,n){return[e,Kt(ba((je+n)/2))]}a(_t,"mercatorRaw");_t.invert=function(e,n){return[e,2*Jn(pr(n))-je]};function el(){return Kr(_t).scale(961/Ae)}a(el,"mercator");function Kr(e){var n=on(e),t=n.center,i=n.scale,r=n.translate,o=n.clipExtent,c=null,l,d,h;n.scale=function(f){return arguments.length?(i(f),u()):i()},n.translate=function(f){return arguments.length?(r(f),u()):r()},n.center=function(f){return arguments.length?(t(f),u()):t()},n.clipExtent=function(f){return arguments.length?(f==null?c=l=d=h=null:(c=+f[0][0],l=+f[0][1],d=+f[1][0],h=+f[1][1]),u()):c==null?null:[[c,l],[d,h]]};function u(){var f=ee*i(),m=n(Mr(n.rotate()).invert([0,0]));return o(c==null?[[m[0]-f,m[1]-f],[m[0]+f,m[1]+f]]:e===_t?[[Math.max(m[0]-f,c),l],[Math.min(m[0]+f,d),h]]:[[c,Math.max(m[1]-f,l)],[d,Math.min(m[1]+f,h)]])}return a(u,"reclip"),u()}a(Kr,"mercatorProjection");function Bt(e){return ba((je+e)/2)}a(Bt,"tany");function Jr(e,n){var t=W(e),i=e===n?L(e):Kt(t/W(n))/Kt(Bt(n)/Bt(e)),r=t*$i(Bt(e),i)/i;if(!i)return _t;function o(c,l){r>0?l<-je+Y&&(l=-je+Y):l>je-Y&&(l=je-Y);var d=r/$i(Bt(l),i);return[d*L(i*c),r-d*W(i*c)]}return a(o,"project"),o.invert=function(c,l){var d=r-l,h=Ge(i)*Se(c*c+d*d),u=Re(c,ae(d))*Ge(d);return d*i<0&&(u-=ee*Ge(c)*Ge(d)),[u/i,2*Jn($i(r/h,1/i))-je]},o}a(Jr,"conicConformalRaw");function nl(){return Aa(Jr).scale(109.5).parallels([30,30])}a(nl,"conicConformal");function xt(e,n){return[e,n]}a(xt,"equirectangularRaw");xt.invert=xt;function tl(){return on(xt).scale(152.63)}a(tl,"equirectangular");function Qr(e,n){var t=W(e),i=e===n?L(e):(t-W(n))/(n-e),r=t/i+e;if(ae(i)<Y)return xt;function o(c,l){var d=r-l,h=i*c;return[d*L(h),r-d*W(h)]}return a(o,"project"),o.invert=function(c,l){var d=r-l,h=Re(c,ae(d))*Ge(d);return d*i<0&&(h-=ee*Ge(c)*Ge(d)),[h/i,r-Ge(i)*Se(c*c+d*d)]},o}a(Qr,"conicEquidistantRaw");function il(){return Aa(Qr).scale(131.154).center([0,13.9389])}a(il,"conicEquidistant");var dt=1.340264,ht=-.081106,ft=893e-6,mt=.003796,xi=Se(3)/2,al=12;function Oa(e,n){var t=$e(xi*L(n)),i=t*t,r=i*i*i;return[e*W(t)/(xi*(dt+3*ht*i+r*(7*ft+9*mt*i))),t*(dt+ht*i+r*(ft+mt*i))]}a(Oa,"equalEarthRaw");Oa.invert=function(e,n){for(var t=n,i=t*t,r=i*i*i,o=0,c,l,d;o<al&&(l=t*(dt+ht*i+r*(ft+mt*i))-n,d=dt+3*ht*i+r*(7*ft+9*mt*i),t-=c=l/d,i=t*t,r=i*i*i,!(ae(c)<Zt));++o);return[xi*e*(dt+3*ht*i+r*(7*ft+9*mt*i))/W(t),$e(L(t)/xi)]};function sl(){return on(Oa).scale(177.158)}a(sl,"equalEarth");function Ta(e,n){var t=W(n),i=W(e)*t;return[t*L(e)/i,L(n)/i]}a(Ta,"gnomonicRaw");Ta.invert=St(Jn);function rl(){return on(Ta).scale(144.049).clipAngle(60)}a(rl,"gnomonic");function ol(){var e=1,n=0,t=0,i=1,r=1,o=0,c,l,d=null,h,u,f,m=1,p=1,y=It({point:a(function(N,I){var M=b([N,I]);this.stream.point(M[0],M[1])},"point")}),S=pt,j,w;function _(){return m=e*i,p=e*r,j=w=null,b}a(_,"reset");function b(N){var I=N[0]*m,M=N[1]*p;if(o){var O=M*c-I*l;I=I*c+M*l,M=O}return[I+n,M+t]}return a(b,"projection"),b.invert=function(N){var I=N[0]-n,M=N[1]-t;if(o){var O=M*c+I*l;I=I*c-M*l,M=O}return[I/m,M/p]},b.stream=function(N){return j&&w===N?j:j=y(S(w=N))},b.postclip=function(N){return arguments.length?(S=N,d=h=u=f=null,_()):S},b.clipExtent=function(N){return arguments.length?(S=N==null?(d=h=u=f=null,pt):Si(d=+N[0][0],h=+N[0][1],u=+N[1][0],f=+N[1][1]),_()):d==null?null:[[d,h],[u,f]]},b.scale=function(N){return arguments.length?(e=+N,_()):e},b.translate=function(N){return arguments.length?(n=+N[0],t=+N[1],_()):[n,t]},b.angle=function(N){return arguments.length?(o=N%360*H,l=L(o),c=W(o),_()):o*ge},b.reflectX=function(N){return arguments.length?(i=N?-1:1,_()):i<0},b.reflectY=function(N){return arguments.length?(r=N?-1:1,_()):r<0},b.fitExtent=function(N,I){return _i(b,N,I)},b.fitSize=function(N,I){return Ca(b,N,I)},b.fitWidth=function(N,I){return Ea(b,N,I)},b.fitHeight=function(N,I){return ka(b,N,I)},b}a(ol,"identity$3");function La(e,n){var t=n*n,i=t*t;return[e*(.8707-.131979*t+i*(-.013791+i*(.003971*t-.001529*i))),n*(1.007226+t*(.015085+i*(-.044475+.028874*t-.005916*i)))]}a(La,"naturalEarth1Raw");La.invert=function(e,n){var t=n,i=25,r;do{var o=t*t,c=o*o;t-=r=(t*(1.007226+o*(.015085+c*(-.044475+.028874*o-.005916*c)))-n)/(1.007226+o*(.015085*3+c*(-.044475*7+.028874*9*o-.005916*11*c)))}while(ae(r)>Y&&--i>0);return[e/(.8707+(o=t*t)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),t]};function cl(){return on(La).scale(175.295)}a(cl,"naturalEarth1");function Ba(e,n){return[W(n)*L(e),L(n)]}a(Ba,"orthographicRaw");Ba.invert=St($e);function ll(){return on(Ba).scale(249.5).clipAngle(90+Y)}a(ll,"orthographic");function Fa(e,n){var t=W(n),i=1+W(e)*t;return[t*L(e)/i,L(n)/i]}a(Fa,"stereographicRaw");Fa.invert=St(function(e){return 2*Jn(e)});function ul(){return on(Fa).scale(250).clipAngle(142)}a(ul,"stereographic");function Wa(e,n){return[Kt(ba((je+n)/2)),-e]}a(Wa,"transverseMercatorRaw");Wa.invert=function(e,n){return[-n,2*Jn(pr(e))-je]};function dl(){var e=Kr(Wa),n=e.center,t=e.rotate;return e.center=function(i){return arguments.length?n([-i[1],i[0]]):(i=n(),[i[1],-i[0]])},e.rotate=function(i){return arguments.length?t([i[0],i[1],i.length>2?i[2]+90:90]):(i=t(),[i[0],i[1],i[2]-90])},t([0,0,90]).scale(159.155)}a(dl,"transverseMercator");const hl=Object.freeze({__proto__:null,geoAlbers:Zr,geoAlbersUsa:Kc,geoArea:ac,geoAzimuthalEqualArea:Jc,geoAzimuthalEqualAreaRaw:Ra,geoAzimuthalEquidistant:Qc,geoAzimuthalEquidistantRaw:$a,geoBounds:cc,geoCentroid:mc,geoCircle:pc,geoClipAntimeridian:na,geoClipCircle:Rr,geoClipExtent:Nc,geoClipRectangle:Si,geoConicConformal:nl,geoConicConformalRaw:Jr,geoConicEqualArea:vi,geoConicEqualAreaRaw:Xr,geoConicEquidistant:il,geoConicEquidistantRaw:Qr,geoContains:Ec,geoDistance:ui,geoEqualEarth:sl,geoEqualEarthRaw:Oa,geoEquirectangular:tl,geoEquirectangularRaw:xt,geoGnomonic:rl,geoGnomonicRaw:Ta,geoGraticule:_a,geoGraticule10:kc,geoIdentity:ol,geoInterpolate:Pc,geoLength:$r,geoMercator:el,geoMercatorRaw:_t,geoNaturalEarth1:cl,geoNaturalEarth1Raw:La,geoOrthographic:ll,geoOrthographicRaw:Ba,geoPath:Gr,geoProjection:on,geoProjectionMutator:Pa,geoRotation:Mr,geoStereographic:ul,geoStereographicRaw:Fa,geoStream:Ve,geoTransform:zc,geoTransverseMercator:dl,geoTransverseMercatorRaw:Wa});function fl(e){return e}a(fl,"identity$2");function ml(e){if(e==null)return fl;var n,t,i=e.scale[0],r=e.scale[1],o=e.translate[0],c=e.translate[1];return function(l,d){d||(n=t=0);var h=2,u=l.length,f=new Array(u);for(f[0]=(n+=l[0])*i+o,f[1]=(t+=l[1])*r+c;h<u;)f[h]=l[h],++h;return f}}a(ml,"transform");function pl(e,n){for(var t,i=e.length,r=i-n;r<--i;)t=e[r],e[r++]=e[i],e[i]=t}a(pl,"reverse");function gl(e,n){return typeof n=="string"&&(n=e.objects[n]),n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(t){return $s(e,t)})}:$s(e,n)}a(gl,"feature");function $s(e,n){var t=n.id,i=n.bbox,r=n.properties==null?{}:n.properties,o=eo(e,n);return t==null&&i==null?{type:"Feature",properties:r,geometry:o}:i==null?{type:"Feature",id:t,properties:r,geometry:o}:{type:"Feature",id:t,bbox:i,properties:r,geometry:o}}a($s,"feature$1");function eo(e,n){var t=ml(e.transform),i=e.arcs;function r(u,f){f.length&&f.pop();for(var m=i[u<0?~u:u],p=0,y=m.length;p<y;++p)f.push(t(m[p],p));u<0&&pl(f,y)}a(r,"arc");function o(u){return t(u)}a(o,"point");function c(u){for(var f=[],m=0,p=u.length;m<p;++m)r(u[m],f);return f.length<2&&f.push(f[0]),f}a(c,"line");function l(u){for(var f=c(u);f.length<4;)f.push(f[0]);return f}a(l,"ring");function d(u){return u.map(l)}a(d,"polygon");function h(u){var f=u.type,m;switch(f){case"GeometryCollection":return{type:f,geometries:u.geometries.map(h)};case"Point":m=o(u.coordinates);break;case"MultiPoint":m=u.coordinates.map(o);break;case"LineString":m=c(u.arcs);break;case"MultiLineString":m=u.arcs.map(c);break;case"Polygon":m=d(u.arcs);break;case"MultiPolygon":m=u.arcs.map(d);break;default:return null}return{type:f,coordinates:m}}return a(h,"geometry"),h(n)}a(eo,"object");function vl(e,n){var t={},i={},r={},o=[],c=-1;n.forEach(function(h,u){var f=e.arcs[h<0?~h:h],m;f.length<3&&!f[1][0]&&!f[1][1]&&(m=n[++c],n[c]=h,n[u]=m)}),n.forEach(function(h){var u=l(h),f=u[0],m=u[1],p,y;if(p=r[f])if(delete r[p.end],p.push(h),p.end=m,y=i[m]){delete i[y.start];var S=y===p?p:p.concat(y);i[S.start=p.start]=r[S.end=y.end]=S}else i[p.start]=r[p.end]=p;else if(p=i[m])if(delete i[p.start],p.unshift(h),p.start=f,y=r[f]){delete r[y.end];var j=y===p?p:y.concat(p);i[j.start=y.start]=r[j.end=p.end]=j}else i[p.start]=r[p.end]=p;else p=[h],i[p.start=f]=r[p.end=m]=p});function l(h){var u=e.arcs[h<0?~h:h],f=u[0],m;return e.transform?(m=[0,0],u.forEach(function(p){m[0]+=p[0],m[1]+=p[1]})):m=u[u.length-1],h<0?[m,f]:[f,m]}a(l,"ends");function d(h,u){for(var f in h){var m=h[f];delete u[m.start],delete m.start,delete m.end,m.forEach(function(p){t[p<0?~p:p]=1}),o.push(m)}}return a(d,"flush"),d(r,i),d(i,r),n.forEach(function(h){t[h<0?~h:h]||o.push([h])}),o}a(vl,"stitch");function Os(e){return eo(e,xl.apply(this,arguments))}a(Os,"mesh");function xl(e,n,t){var i,r,o;if(arguments.length>1)i=yl(e,n,t);else for(r=0,i=new Array(o=e.arcs.length);r<o;++r)i[r]=r;return{type:"MultiLineString",arcs:vl(e,i)}}a(xl,"meshArcs");function yl(e,n,t){var i=[],r=[],o;function c(f){var m=f<0?~f:f;(r[m]||(r[m]=[])).push({i:f,g:o})}a(c,"extract0");function l(f){f.forEach(c)}a(l,"extract1");function d(f){f.forEach(l)}a(d,"extract2");function h(f){f.forEach(d)}a(h,"extract3");function u(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(u);break;case"LineString":l(f.arcs);break;case"MultiLineString":case"Polygon":d(f.arcs);break;case"MultiPolygon":h(f.arcs);break}}return a(u,"geometry"),u(n),r.forEach(t==null?function(f){i.push(f[0].i)}:function(f){t(f[0].g,f[f.length-1].g)&&i.push(f[0].i)}),i}a(yl,"extractArcs");var wl={value:a(()=>{},"value")};function Da(){for(var e=0,n=arguments.length,t={},i;e<n;++e){if(!(i=arguments[e]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new Yt(t)}a(Da,"dispatch");function Yt(e){this._=e}a(Yt,"Dispatch");function jl(e,n){return e.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}a(jl,"parseTypenames$1");Yt.prototype=Da.prototype={constructor:Yt,on:a(function(e,n){var t=this._,i=jl(e+"",t),r,o=-1,c=i.length;if(arguments.length<2){for(;++o<c;)if((r=(e=i[o]).type)&&(r=Nl(t[r],e.name)))return r;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<c;)if(r=(e=i[o]).type)t[r]=Ts(t[r],e.name,n);else if(n==null)for(r in t)t[r]=Ts(t[r],e.name,null);return this},"on"),copy:a(function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new Yt(e)},"copy"),call:a(function(e,n){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,o;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(n,t)},"call"),apply:a(function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(n,t)},"apply")};function Nl(e,n){for(var t=0,i=e.length,r;t<i;++t)if((r=e[t]).name===n)return r.value}a(Nl,"get$1");function Ts(e,n,t){for(var i=0,r=e.length;i<r;++i)if(e[i].name===n){e[i]=wl,e=e.slice(0,i).concat(e.slice(i+1));break}return t!=null&&e.push({name:n,value:t}),e}a(Ts,"set$1");var ma="http://www.w3.org/1999/xhtml";const Ls={svg:"http://www.w3.org/2000/svg",xhtml:ma,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mi(e){var n=e+="",t=n.indexOf(":");return t>=0&&(n=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),Ls.hasOwnProperty(n)?{space:Ls[n],local:e}:e}a(Mi,"namespace");function bl(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===ma&&n.documentElement.namespaceURI===ma?n.createElement(e):n.createElementNS(t,e)}}a(bl,"creatorInherit");function Il(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}a(Il,"creatorFixed");function no(e){var n=Mi(e);return(n.local?Il:bl)(n)}a(no,"creator");function Sl(){}a(Sl,"none");function za(e){return e==null?Sl:function(){return this.querySelector(e)}}a(za,"selector");function _l(e){typeof e!="function"&&(e=za(e));for(var n=this._groups,t=n.length,i=new Array(t),r=0;r<t;++r)for(var o=n[r],c=o.length,l=i[r]=new Array(c),d,h,u=0;u<c;++u)(d=o[u])&&(h=e.call(d,d.__data__,u,o))&&("__data__"in d&&(h.__data__=d.__data__),l[u]=h);return new Fe(i,this._parents)}a(_l,"selection_select");function to(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}a(to,"array");function Ml(){return[]}a(Ml,"empty");function io(e){return e==null?Ml:function(){return this.querySelectorAll(e)}}a(io,"selectorAll");function Cl(e){return function(){var n=e.apply(this,arguments);return n==null?[]:to(n)}}a(Cl,"arrayAll");function El(e){typeof e=="function"?e=Cl(e):e=io(e);for(var n=this._groups,t=n.length,i=[],r=[],o=0;o<t;++o)for(var c=n[o],l=c.length,d,h=0;h<l;++h)(d=c[h])&&(i.push(e.call(d,d.__data__,h,c)),r.push(d));return new Fe(i,r)}a(El,"selection_selectAll");function ao(e){return function(){return this.matches(e)}}a(ao,"matcher");function so(e){return function(n){return n.matches(e)}}a(so,"childMatcher");var kl=Array.prototype.find;function Pl(e){return function(){return kl.call(this.children,e)}}a(Pl,"childFind");function Al(){return this.firstElementChild}a(Al,"childFirst");function Rl(e){return this.select(e==null?Al:Pl(typeof e=="function"?e:so(e)))}a(Rl,"selection_selectChild");var $l=Array.prototype.filter;function Ol(){return this.children}a(Ol,"children");function Tl(e){return function(){return $l.call(this.children,e)}}a(Tl,"childrenFilter");function Ll(e){return this.selectAll(e==null?Ol:Tl(typeof e=="function"?e:so(e)))}a(Ll,"selection_selectChildren");function Bl(e){typeof e!="function"&&(e=ao(e));for(var n=this._groups,t=n.length,i=new Array(t),r=0;r<t;++r)for(var o=n[r],c=o.length,l=i[r]=[],d,h=0;h<c;++h)(d=o[h])&&e.call(d,d.__data__,h,o)&&l.push(d);return new Fe(i,this._parents)}a(Bl,"selection_filter");function ro(e){return new Array(e.length)}a(ro,"sparse");function Fl(){return new Fe(this._enter||this._groups.map(ro),this._parents)}a(Fl,"selection_enter");function yi(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}a(yi,"EnterNode");yi.prototype={constructor:yi,appendChild:a(function(e){return this._parent.insertBefore(e,this._next)},"appendChild"),insertBefore:a(function(e,n){return this._parent.insertBefore(e,n)},"insertBefore"),querySelector:a(function(e){return this._parent.querySelector(e)},"querySelector"),querySelectorAll:a(function(e){return this._parent.querySelectorAll(e)},"querySelectorAll")};function Wl(e){return function(){return e}}a(Wl,"constant$2");function Dl(e,n,t,i,r,o){for(var c=0,l,d=n.length,h=o.length;c<h;++c)(l=n[c])?(l.__data__=o[c],i[c]=l):t[c]=new yi(e,o[c]);for(;c<d;++c)(l=n[c])&&(r[c]=l)}a(Dl,"bindIndex");function zl(e,n,t,i,r,o,c){var l,d,h=new Map,u=n.length,f=o.length,m=new Array(u),p;for(l=0;l<u;++l)(d=n[l])&&(m[l]=p=c.call(d,d.__data__,l,n)+"",h.has(p)?r[l]=d:h.set(p,d));for(l=0;l<f;++l)p=c.call(e,o[l],l,o)+"",(d=h.get(p))?(i[l]=d,d.__data__=o[l],h.delete(p)):t[l]=new yi(e,o[l]);for(l=0;l<u;++l)(d=n[l])&&h.get(m[l])===d&&(r[l]=d)}a(zl,"bindKey");function Hl(e){return e.__data__}a(Hl,"datum");function Ul(e,n){if(!arguments.length)return Array.from(this,Hl);var t=n?zl:Dl,i=this._parents,r=this._groups;typeof e!="function"&&(e=Wl(e));for(var o=r.length,c=new Array(o),l=new Array(o),d=new Array(o),h=0;h<o;++h){var u=i[h],f=r[h],m=f.length,p=to(e.call(u,u&&u.__data__,h,i)),y=p.length,S=l[h]=new Array(y),j=c[h]=new Array(y),w=d[h]=new Array(m);t(u,f,S,j,w,p,n);for(var _=0,b=0,N,I;_<y;++_)if(N=S[_]){for(_>=b&&(b=_+1);!(I=j[b])&&++b<y;);N._next=I||null}}return c=new Fe(c,i),c._enter=l,c._exit=d,c}a(Ul,"selection_data");function Yl(){return new Fe(this._exit||this._groups.map(ro),this._parents)}a(Yl,"selection_exit");function ql(e,n,t){var i=this.enter(),r=this,o=this.exit();return i=typeof e=="function"?e(i):i.append(e+""),n!=null&&(r=n(r)),t==null?o.remove():t(o),i&&r?i.merge(r).order():r}a(ql,"selection_join");function Gl(e){if(!(e instanceof Fe))throw new Error("invalid merge");for(var n=this._groups,t=e._groups,i=n.length,r=t.length,o=Math.min(i,r),c=new Array(i),l=0;l<o;++l)for(var d=n[l],h=t[l],u=d.length,f=c[l]=new Array(u),m,p=0;p<u;++p)(m=d[p]||h[p])&&(f[p]=m);for(;l<i;++l)c[l]=n[l];return new Fe(c,this._parents)}a(Gl,"selection_merge");function Xl(){for(var e=this._groups,n=-1,t=e.length;++n<t;)for(var i=e[n],r=i.length-1,o=i[r],c;--r>=0;)(c=i[r])&&(o&&c.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(c,o),o=c);return this}a(Xl,"selection_order");function Zl(e){e||(e=Vl);function n(f,m){return f&&m?e(f.__data__,m.__data__):!f-!m}a(n,"compareNode");for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o){for(var c=t[o],l=c.length,d=r[o]=new Array(l),h,u=0;u<l;++u)(h=c[u])&&(d[u]=h);d.sort(n)}return new Fe(r,this._parents).order()}a(Zl,"selection_sort");function Vl(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}a(Vl,"ascending");function Kl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}a(Kl,"selection_call");function Jl(){return Array.from(this)}a(Jl,"selection_nodes");function Ql(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var i=e[n],r=0,o=i.length;r<o;++r){var c=i[r];if(c)return c}return null}a(Ql,"selection_node");function eu(){let e=0;for(const n of this)++e;return e}a(eu,"selection_size");function nu(){return!this.node()}a(nu,"selection_empty");function tu(e){for(var n=this._groups,t=0,i=n.length;t<i;++t)for(var r=n[t],o=0,c=r.length,l;o<c;++o)(l=r[o])&&e.call(l,l.__data__,o,r);return this}a(tu,"selection_each");function iu(e){return function(){this.removeAttribute(e)}}a(iu,"attrRemove$1");function au(e){return function(){this.removeAttributeNS(e.space,e.local)}}a(au,"attrRemoveNS$1");function su(e,n){return function(){this.setAttribute(e,n)}}a(su,"attrConstant$1");function ru(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}a(ru,"attrConstantNS$1");function ou(e,n){return function(){var t=n.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}a(ou,"attrFunction$1");function cu(e,n){return function(){var t=n.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}a(cu,"attrFunctionNS$1");function lu(e,n){var t=Mi(e);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((n==null?t.local?au:iu:typeof n=="function"?t.local?cu:ou:t.local?ru:su)(t,n))}a(lu,"selection_attr");function oo(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}a(oo,"defaultView");function uu(e){return function(){this.style.removeProperty(e)}}a(uu,"styleRemove$1");function du(e,n,t){return function(){this.style.setProperty(e,n,t)}}a(du,"styleConstant$1");function hu(e,n,t){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,t)}}a(hu,"styleFunction$1");function fu(e,n,t){return arguments.length>1?this.each((n==null?uu:typeof n=="function"?hu:du)(e,n,t==null?"":t)):Vn(this.node(),e)}a(fu,"selection_style");function Vn(e,n){return e.style.getPropertyValue(n)||oo(e).getComputedStyle(e,null).getPropertyValue(n)}a(Vn,"styleValue");function mu(e){return function(){delete this[e]}}a(mu,"propertyRemove");function pu(e,n){return function(){this[e]=n}}a(pu,"propertyConstant");function gu(e,n){return function(){var t=n.apply(this,arguments);t==null?delete this[e]:this[e]=t}}a(gu,"propertyFunction");function vu(e,n){return arguments.length>1?this.each((n==null?mu:typeof n=="function"?gu:pu)(e,n)):this.node()[e]}a(vu,"selection_property");function co(e){return e.trim().split(/^|\s+/)}a(co,"classArray");function Ha(e){return e.classList||new lo(e)}a(Ha,"classList");function lo(e){this._node=e,this._names=co(e.getAttribute("class")||"")}a(lo,"ClassList");lo.prototype={add:a(function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},"add"),remove:a(function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},"remove"),contains:a(function(e){return this._names.indexOf(e)>=0},"contains")};function uo(e,n){for(var t=Ha(e),i=-1,r=n.length;++i<r;)t.add(n[i])}a(uo,"classedAdd");function ho(e,n){for(var t=Ha(e),i=-1,r=n.length;++i<r;)t.remove(n[i])}a(ho,"classedRemove");function xu(e){return function(){uo(this,e)}}a(xu,"classedTrue");function yu(e){return function(){ho(this,e)}}a(yu,"classedFalse");function wu(e,n){return function(){(n.apply(this,arguments)?uo:ho)(this,e)}}a(wu,"classedFunction");function ju(e,n){var t=co(e+"");if(arguments.length<2){for(var i=Ha(this.node()),r=-1,o=t.length;++r<o;)if(!i.contains(t[r]))return!1;return!0}return this.each((typeof n=="function"?wu:n?xu:yu)(t,n))}a(ju,"selection_classed");function Nu(){this.textContent=""}a(Nu,"textRemove");function bu(e){return function(){this.textContent=e}}a(bu,"textConstant$1");function Iu(e){return function(){var n=e.apply(this,arguments);this.textContent=n==null?"":n}}a(Iu,"textFunction$1");function Su(e){return arguments.length?this.each(e==null?Nu:(typeof e=="function"?Iu:bu)(e)):this.node().textContent}a(Su,"selection_text");function _u(){this.innerHTML=""}a(_u,"htmlRemove");function Mu(e){return function(){this.innerHTML=e}}a(Mu,"htmlConstant");function Cu(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n==null?"":n}}a(Cu,"htmlFunction");function Eu(e){return arguments.length?this.each(e==null?_u:(typeof e=="function"?Cu:Mu)(e)):this.node().innerHTML}a(Eu,"selection_html");function ku(){this.nextSibling&&this.parentNode.appendChild(this)}a(ku,"raise");function Pu(){return this.each(ku)}a(Pu,"selection_raise");function Au(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}a(Au,"lower");function Ru(){return this.each(Au)}a(Ru,"selection_lower");function $u(e){var n=typeof e=="function"?e:no(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}a($u,"selection_append");function Ou(){return null}a(Ou,"constantNull");function Tu(e,n){var t=typeof e=="function"?e:no(e),i=n==null?Ou:typeof n=="function"?n:za(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})}a(Tu,"selection_insert");function Lu(){var e=this.parentNode;e&&e.removeChild(this)}a(Lu,"remove");function Bu(){return this.each(Lu)}a(Bu,"selection_remove");function Fu(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}a(Fu,"selection_cloneShallow");function Wu(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}a(Wu,"selection_cloneDeep");function Du(e){return this.select(e?Wu:Fu)}a(Du,"selection_clone");function zu(e){return arguments.length?this.property("__data__",e):this.node().__data__}a(zu,"selection_datum");function Hu(e){return function(n){e.call(this,n,this.__data__)}}a(Hu,"contextListener");function Uu(e){return e.trim().split(/^|\s+/).map(function(n){var t="",i=n.indexOf(".");return i>=0&&(t=n.slice(i+1),n=n.slice(0,i)),{type:n,name:t}})}a(Uu,"parseTypenames");function Yu(e){return function(){var n=this.__on;if(n){for(var t=0,i=-1,r=n.length,o;t<r;++t)o=n[t],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):n[++i]=o;++i?n.length=i:delete this.__on}}}a(Yu,"onRemove");function qu(e,n,t){return function(){var i=this.__on,r,o=Hu(n);if(i){for(var c=0,l=i.length;c<l;++c)if((r=i[c]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=t),r.value=n;return}}this.addEventListener(e.type,o,t),r={type:e.type,name:e.name,value:n,listener:o,options:t},i?i.push(r):this.__on=[r]}}a(qu,"onAdd");function Gu(e,n,t){var i=Uu(e+""),r,o=i.length,c;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,h=l.length,u;d<h;++d)for(r=0,u=l[d];r<o;++r)if((c=i[r]).type===u.type&&c.name===u.name)return u.value}return}for(l=n?qu:Yu,r=0;r<o;++r)this.each(l(i[r],n,t));return this}a(Gu,"selection_on");function fo(e,n,t){var i=oo(e),r=i.CustomEvent;typeof r=="function"?r=new r(n,t):(r=i.document.createEvent("Event"),t?(r.initEvent(n,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(n,!1,!1)),e.dispatchEvent(r)}a(fo,"dispatchEvent");function Xu(e,n){return function(){return fo(this,e,n)}}a(Xu,"dispatchConstant");function Zu(e,n){return function(){return fo(this,e,n.apply(this,arguments))}}a(Zu,"dispatchFunction");function Vu(e,n){return this.each((typeof n=="function"?Zu:Xu)(e,n))}a(Vu,"selection_dispatch");function*Ku(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var i=e[n],r=0,o=i.length,c;r<o;++r)(c=i[r])&&(yield c)}a(Ku,"selection_iterator");var mo=[null];function Fe(e,n){this._groups=e,this._parents=n}a(Fe,"Selection$1");function Mt(){return new Fe([[document.documentElement]],mo)}a(Mt,"selection");function Ju(){return this}a(Ju,"selection_selection");Fe.prototype=Mt.prototype={constructor:Fe,select:_l,selectAll:El,selectChild:Rl,selectChildren:Ll,filter:Bl,data:Ul,enter:Fl,exit:Yl,join:ql,merge:Gl,selection:Ju,order:Xl,sort:Zl,call:Kl,nodes:Jl,node:Ql,size:eu,empty:nu,each:tu,attr:lu,style:fu,property:vu,classed:ju,text:Su,html:Eu,raise:Pu,lower:Ru,append:$u,insert:Tu,remove:Bu,clone:Du,datum:zu,on:Gu,dispatch:Vu,[Symbol.iterator]:Ku};function pn(e){return typeof e=="string"?new Fe([[document.querySelector(e)]],[document.documentElement]):new Fe([[e]],mo)}a(pn,"select");function Qu(e){let n;for(;n=e.sourceEvent;)e=n;return e}a(Qu,"sourceEvent");function kn(e,n){if(e=Qu(e),n===void 0&&(n=e.currentTarget),n){var t=n.ownerSVGElement||n;if(t.createSVGPoint){var i=t.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[e.clientX-r.left-n.clientLeft,e.clientY-r.top-n.clientTop]}}return[e.pageX,e.pageY]}a(kn,"pointer");function pa(e){e.preventDefault(),e.stopImmediatePropagation()}a(pa,"noevent$1");function ed(e){var n=e.document.documentElement,t=pn(e).on("dragstart.drag",pa,!0);"onselectstart"in n?t.on("selectstart.drag",pa,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}a(ed,"dragDisable");function nd(e,n){var t=e.document.documentElement,i=pn(e).on("dragstart.drag",null);n&&(i.on("click.drag",pa,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in t?i.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}a(nd,"yesdrag");function Ua(e,n,t){e.prototype=n.prototype=t,t.constructor=e}a(Ua,"define");function po(e,n){var t=Object.create(e.prototype);for(var i in n)t[i]=n[i];return t}a(po,"extend");function Ct(){}a(Ct,"Color");var yt=.7,wi=1/yt,qn="\\s*([+-]?\\d+)\\s*",wt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",sn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",td=/^#([0-9a-f]{3,8})$/,id=new RegExp("^rgb\\("+[qn,qn,qn]+"\\)$"),ad=new RegExp("^rgb\\("+[sn,sn,sn]+"\\)$"),sd=new RegExp("^rgba\\("+[qn,qn,qn,wt]+"\\)$"),rd=new RegExp("^rgba\\("+[sn,sn,sn,wt]+"\\)$"),od=new RegExp("^hsl\\("+[wt,sn,sn]+"\\)$"),cd=new RegExp("^hsla\\("+[wt,sn,sn,wt]+"\\)$"),Bs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ua(Ct,jt,{copy:a(function(e){return Object.assign(new this.constructor,this,e)},"copy"),displayable:a(function(){return this.rgb().displayable()},"displayable"),hex:Fs,formatHex:Fs,formatHsl:ld,formatRgb:Ws,toString:Ws});function Fs(){return this.rgb().formatHex()}a(Fs,"color_formatHex");function ld(){return go(this).formatHsl()}a(ld,"color_formatHsl");function Ws(){return this.rgb().formatRgb()}a(Ws,"color_formatRgb");function jt(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=td.exec(e))?(t=n[1].length,n=parseInt(n[1],16),t===6?Ds(n):t===3?new He(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):t===8?Ft(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):t===4?Ft(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=id.exec(e))?new He(n[1],n[2],n[3],1):(n=ad.exec(e))?new He(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=sd.exec(e))?Ft(n[1],n[2],n[3],n[4]):(n=rd.exec(e))?Ft(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=od.exec(e))?Us(n[1],n[2]/100,n[3]/100,1):(n=cd.exec(e))?Us(n[1],n[2]/100,n[3]/100,n[4]):Bs.hasOwnProperty(e)?Ds(Bs[e]):e==="transparent"?new He(NaN,NaN,NaN,0):null}a(jt,"color");function Ds(e){return new He(e>>16&255,e>>8&255,e&255,1)}a(Ds,"rgbn");function Ft(e,n,t,i){return i<=0&&(e=n=t=NaN),new He(e,n,t,i)}a(Ft,"rgba");function ud(e){return e instanceof Ct||(e=jt(e)),e?(e=e.rgb(),new He(e.r,e.g,e.b,e.opacity)):new He}a(ud,"rgbConvert");function ga(e,n,t,i){return arguments.length===1?ud(e):new He(e,n,t,i==null?1:i)}a(ga,"rgb");function He(e,n,t,i){this.r=+e,this.g=+n,this.b=+t,this.opacity=+i}a(He,"Rgb");Ua(He,ga,po(Ct,{brighter:a(function(e){return e=e==null?wi:Math.pow(wi,e),new He(this.r*e,this.g*e,this.b*e,this.opacity)},"brighter"),darker:a(function(e){return e=e==null?yt:Math.pow(yt,e),new He(this.r*e,this.g*e,this.b*e,this.opacity)},"darker"),rgb:a(function(){return this},"rgb"),displayable:a(function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},"displayable"),hex:zs,formatHex:zs,formatRgb:Hs,toString:Hs}));function zs(){return"#"+Fi(this.r)+Fi(this.g)+Fi(this.b)}a(zs,"rgb_formatHex");function Hs(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}a(Hs,"rgb_formatRgb");function Fi(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}a(Fi,"hex");function Us(e,n,t,i){return i<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new an(e,n,t,i)}a(Us,"hsla");function go(e){if(e instanceof an)return new an(e.h,e.s,e.l,e.opacity);if(e instanceof Ct||(e=jt(e)),!e)return new an;if(e instanceof an)return e;e=e.rgb();var n=e.r/255,t=e.g/255,i=e.b/255,r=Math.min(n,t,i),o=Math.max(n,t,i),c=NaN,l=o-r,d=(o+r)/2;return l?(n===o?c=(t-i)/l+(t<i)*6:t===o?c=(i-n)/l+2:c=(n-t)/l+4,l/=d<.5?o+r:2-o-r,c*=60):l=d>0&&d<1?0:c,new an(c,l,d,e.opacity)}a(go,"hslConvert");function dd(e,n,t,i){return arguments.length===1?go(e):new an(e,n,t,i==null?1:i)}a(dd,"hsl");function an(e,n,t,i){this.h=+e,this.s=+n,this.l=+t,this.opacity=+i}a(an,"Hsl");Ua(an,dd,po(Ct,{brighter:a(function(e){return e=e==null?wi:Math.pow(wi,e),new an(this.h,this.s,this.l*e,this.opacity)},"brighter"),darker:a(function(e){return e=e==null?yt:Math.pow(yt,e),new an(this.h,this.s,this.l*e,this.opacity)},"darker"),rgb:a(function(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*n,r=2*t-i;return new He(Wi(e>=240?e-240:e+120,r,i),Wi(e,r,i),Wi(e<120?e+240:e-120,r,i),this.opacity)},"rgb"),displayable:a(function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},"displayable"),formatHsl:a(function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")},"formatHsl")}));function Wi(e,n,t){return(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)*255}a(Wi,"hsl2rgb");const vo=a(e=>()=>e,"constant$1");function hd(e,n){return function(t){return e+t*n}}a(hd,"linear");function fd(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(i){return Math.pow(e+i*n,t)}}a(fd,"exponential");function md(e){return(e=+e)==1?xo:function(n,t){return t-n?fd(n,t,e):vo(isNaN(n)?t:n)}}a(md,"gamma");function xo(e,n){var t=n-e;return t?hd(e,t):vo(isNaN(e)?n:e)}a(xo,"nogamma");const Ys=a(function e(n){var t=md(n);function i(r,o){var c=t((r=ga(r)).r,(o=ga(o)).r),l=t(r.g,o.g),d=t(r.b,o.b),h=xo(r.opacity,o.opacity);return function(u){return r.r=c(u),r.g=l(u),r.b=d(u),r.opacity=h(u),r+""}}return a(i,"rgb$1"),i.gamma=e,i},"rgbGamma")(1);function Sn(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}a(Sn,"interpolateNumber");var va=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Di=new RegExp(va.source,"g");function pd(e){return function(){return e}}a(pd,"zero");function gd(e){return function(n){return e(n)+""}}a(gd,"one");function vd(e,n){var t=va.lastIndex=Di.lastIndex=0,i,r,o,c=-1,l=[],d=[];for(e=e+"",n=n+"";(i=va.exec(e))&&(r=Di.exec(n));)(o=r.index)>t&&(o=n.slice(t,o),l[c]?l[c]+=o:l[++c]=o),(i=i[0])===(r=r[0])?l[c]?l[c]+=r:l[++c]=r:(l[++c]=null,d.push({i:c,x:Sn(i,r)})),t=Di.lastIndex;return t<n.length&&(o=n.slice(t),l[c]?l[c]+=o:l[++c]=o),l.length<2?d[0]?gd(d[0].x):pd(n):(n=d.length,function(h){for(var u=0,f;u<n;++u)l[(f=d[u]).i]=f.x(h);return l.join("")})}a(vd,"interpolateString");var qs=180/Math.PI,xa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yo(e,n,t,i,r,o){var c,l,d;return(c=Math.sqrt(e*e+n*n))&&(e/=c,n/=c),(d=e*t+n*i)&&(t-=e*d,i-=n*d),(l=Math.sqrt(t*t+i*i))&&(t/=l,i/=l,d/=l),e*i<n*t&&(e=-e,n=-n,d=-d,c=-c),{translateX:r,translateY:o,rotate:Math.atan2(n,e)*qs,skewX:Math.atan(d)*qs,scaleX:c,scaleY:l}}a(yo,"decompose");var Wt;function xd(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?xa:yo(n.a,n.b,n.c,n.d,n.e,n.f)}a(xd,"parseCss");function yd(e){return e==null||(Wt||(Wt=document.createElementNS("http://www.w3.org/2000/svg","g")),Wt.setAttribute("transform",e),!(e=Wt.transform.baseVal.consolidate()))?xa:(e=e.matrix,yo(e.a,e.b,e.c,e.d,e.e,e.f))}a(yd,"parseSvg");function wo(e,n,t,i){function r(h){return h.length?h.pop()+" ":""}a(r,"pop");function o(h,u,f,m,p,y){if(h!==f||u!==m){var S=p.push("translate(",null,n,null,t);y.push({i:S-4,x:Sn(h,f)},{i:S-2,x:Sn(u,m)})}else(f||m)&&p.push("translate("+f+n+m+t)}a(o,"translate");function c(h,u,f,m){h!==u?(h-u>180?u+=360:u-h>180&&(h+=360),m.push({i:f.push(r(f)+"rotate(",null,i)-2,x:Sn(h,u)})):u&&f.push(r(f)+"rotate("+u+i)}a(c,"rotate");function l(h,u,f,m){h!==u?m.push({i:f.push(r(f)+"skewX(",null,i)-2,x:Sn(h,u)}):u&&f.push(r(f)+"skewX("+u+i)}a(l,"skewX");function d(h,u,f,m,p,y){if(h!==f||u!==m){var S=p.push(r(p)+"scale(",null,",",null,")");y.push({i:S-4,x:Sn(h,f)},{i:S-2,x:Sn(u,m)})}else(f!==1||m!==1)&&p.push(r(p)+"scale("+f+","+m+")")}return a(d,"scale"),function(h,u){var f=[],m=[];return h=e(h),u=e(u),o(h.translateX,h.translateY,u.translateX,u.translateY,f,m),c(h.rotate,u.rotate,f,m),l(h.skewX,u.skewX,f,m),d(h.scaleX,h.scaleY,u.scaleX,u.scaleY,f,m),h=u=null,function(p){for(var y=-1,S=m.length,j;++y<S;)f[(j=m[y]).i]=j.x(p);return f.join("")}}}a(wo,"interpolateTransform");var wd=wo(xd,"px, ","px)","deg)"),jd=wo(yd,", ",")",")"),Nd=1e-12;function Gs(e){return((e=Math.exp(e))+1/e)/2}a(Gs,"cosh");function bd(e){return((e=Math.exp(e))-1/e)/2}a(bd,"sinh");function Id(e){return((e=Math.exp(2*e))-1)/(e+1)}a(Id,"tanh");const Sd=a(function e(n,t,i){function r(o,c){var l=o[0],d=o[1],h=o[2],u=c[0],f=c[1],m=c[2],p=u-l,y=f-d,S=p*p+y*y,j,w;if(S<Nd)w=Math.log(m/h)/n,j=a(function(O){return[l+O*p,d+O*y,h*Math.exp(n*O*w)]},"i");else{var _=Math.sqrt(S),b=(m*m-h*h+i*S)/(2*h*t*_),N=(m*m-h*h-i*S)/(2*m*t*_),I=Math.log(Math.sqrt(b*b+1)-b),M=Math.log(Math.sqrt(N*N+1)-N);w=(M-I)/n,j=a(function(O){var F=O*w,G=Gs(I),K=h/(t*_)*(G*Id(n*F+I)-bd(I));return[l+K*p,d+K*y,h*G/Gs(n*F+I)]},"i")}return j.duration=w*1e3*n/Math.SQRT2,j}return a(r,"zoom"),r.rho=function(o){var c=Math.max(.001,+o),l=c*c,d=l*l;return e(c,l,d)},r},"zoomRho")(Math.SQRT2,2,4);var Kn=0,ct=0,nt=0,jo=1e3,ji,lt,Ni=0,On=0,Ci=0,Nt=typeof performance=="object"&&performance.now?performance:Date,No=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ya(){return On||(No(_d),On=Nt.now()+Ci)}a(Ya,"now");function _d(){On=0}a(_d,"clearNow");function bi(){this._call=this._time=this._next=null}a(bi,"Timer");bi.prototype=bo.prototype={constructor:bi,restart:a(function(e,n,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?Ya():+t)+(n==null?0:+n),!this._next&&lt!==this&&(lt?lt._next=this:ji=this,lt=this),this._call=e,this._time=t,ya()},"restart"),stop:a(function(){this._call&&(this._call=null,this._time=1/0,ya())},"stop")};function bo(e,n,t){var i=new bi;return i.restart(e,n,t),i}a(bo,"timer");function Md(){Ya(),++Kn;for(var e=ji,n;e;)(n=On-e._time)>=0&&e._call.call(null,n),e=e._next;--Kn}a(Md,"timerFlush");function Xs(){On=(Ni=Nt.now())+Ci,Kn=ct=0;try{Md()}finally{Kn=0,Ed(),On=0}}a(Xs,"wake");function Cd(){var e=Nt.now(),n=e-Ni;n>jo&&(Ci-=n,Ni=e)}a(Cd,"poke");function Ed(){for(var e,n=ji,t,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ji=t);lt=e,ya(i)}a(Ed,"nap");function ya(e){if(!Kn){ct&&(ct=clearTimeout(ct));var n=e-On;n>24?(e<1/0&&(ct=setTimeout(Xs,e-Nt.now()-Ci)),nt&&(nt=clearInterval(nt))):(nt||(Ni=Nt.now(),nt=setInterval(Cd,jo)),Kn=1,No(Xs))}}a(ya,"sleep");function Zs(e,n,t){var i=new bi;return n=n==null?0:+n,i.restart(r=>{i.stop(),e(r+n)},n,t),i}a(Zs,"timeout");var kd=Da("start","end","cancel","interrupt"),Pd=[],Io=0,Vs=1,wa=2,qt=3,Ks=4,ja=5,Gt=6;function Ei(e,n,t,i,r,o){var c=e.__transition;if(!c)e.__transition={};else if(t in c)return;Ad(e,t,{name:n,index:i,group:r,on:kd,tween:Pd,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Io})}a(Ei,"schedule");function qa(e,n){var t=Je(e,n);if(t.state>Io)throw new Error("too late; already scheduled");return t}a(qa,"init");function cn(e,n){var t=Je(e,n);if(t.state>qt)throw new Error("too late; already running");return t}a(cn,"set");function Je(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}a(Je,"get");function Ad(e,n,t){var i=e.__transition,r;i[n]=t,t.timer=bo(o,0,t.time);function o(h){t.state=Vs,t.timer.restart(c,t.delay,t.time),t.delay<=h&&c(h-t.delay)}a(o,"schedule");function c(h){var u,f,m,p;if(t.state!==Vs)return d();for(u in i)if(p=i[u],p.name===t.name){if(p.state===qt)return Zs(c);p.state===Ks?(p.state=Gt,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete i[u]):+u<n&&(p.state=Gt,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete i[u])}if(Zs(function(){t.state===qt&&(t.state=Ks,t.timer.restart(l,t.delay,t.time),l(h))}),t.state=wa,t.on.call("start",e,e.__data__,t.index,t.group),t.state===wa){for(t.state=qt,r=new Array(m=t.tween.length),u=0,f=-1;u<m;++u)(p=t.tween[u].value.call(e,e.__data__,t.index,t.group))&&(r[++f]=p);r.length=f+1}}a(c,"start");function l(h){for(var u=h<t.duration?t.ease.call(null,h/t.duration):(t.timer.restart(d),t.state=ja,1),f=-1,m=r.length;++f<m;)r[f].call(e,u);t.state===ja&&(t.on.call("end",e,e.__data__,t.index,t.group),d())}a(l,"tick");function d(){t.state=Gt,t.timer.stop(),delete i[n];for(var h in i)return;delete e.__transition}a(d,"stop")}a(Ad,"create");function Xt(e,n){var t=e.__transition,i,r,o=!0,c;if(t){n=n==null?null:n+"";for(c in t){if((i=t[c]).name!==n){o=!1;continue}r=i.state>wa&&i.state<ja,i.state=Gt,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete t[c]}o&&delete e.__transition}}a(Xt,"interrupt");function Rd(e){return this.each(function(){Xt(this,e)})}a(Rd,"selection_interrupt");function $d(e,n){var t,i;return function(){var r=cn(this,e),o=r.tween;if(o!==t){i=t=o;for(var c=0,l=i.length;c<l;++c)if(i[c].name===n){i=i.slice(),i.splice(c,1);break}}r.tween=i}}a($d,"tweenRemove");function Od(e,n,t){var i,r;if(typeof t!="function")throw new Error;return function(){var o=cn(this,e),c=o.tween;if(c!==i){r=(i=c).slice();for(var l={name:n,value:t},d=0,h=r.length;d<h;++d)if(r[d].name===n){r[d]=l;break}d===h&&r.push(l)}o.tween=r}}a(Od,"tweenFunction");function Td(e,n){var t=this._id;if(e+="",arguments.length<2){for(var i=Je(this.node(),t).tween,r=0,o=i.length,c;r<o;++r)if((c=i[r]).name===e)return c.value;return null}return this.each((n==null?$d:Od)(t,e,n))}a(Td,"transition_tween");function Ga(e,n,t){var i=e._id;return e.each(function(){var r=cn(this,i);(r.value||(r.value={}))[n]=t.apply(this,arguments)}),function(r){return Je(r,i).value[n]}}a(Ga,"tweenValue");function So(e,n){var t;return(typeof n=="number"?Sn:n instanceof jt?Ys:(t=jt(n))?(n=t,Ys):vd)(e,n)}a(So,"interpolate");function Ld(e){return function(){this.removeAttribute(e)}}a(Ld,"attrRemove");function Bd(e){return function(){this.removeAttributeNS(e.space,e.local)}}a(Bd,"attrRemoveNS");function Fd(e,n,t){var i,r=t+"",o;return function(){var c=this.getAttribute(e);return c===r?null:c===i?o:o=n(i=c,t)}}a(Fd,"attrConstant");function Wd(e,n,t){var i,r=t+"",o;return function(){var c=this.getAttributeNS(e.space,e.local);return c===r?null:c===i?o:o=n(i=c,t)}}a(Wd,"attrConstantNS");function Dd(e,n,t){var i,r,o;return function(){var c,l=t(this),d;return l==null?void this.removeAttribute(e):(c=this.getAttribute(e),d=l+"",c===d?null:c===i&&d===r?o:(r=d,o=n(i=c,l)))}}a(Dd,"attrFunction");function zd(e,n,t){var i,r,o;return function(){var c,l=t(this),d;return l==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),d=l+"",c===d?null:c===i&&d===r?o:(r=d,o=n(i=c,l)))}}a(zd,"attrFunctionNS");function Hd(e,n){var t=Mi(e),i=t==="transform"?jd:So;return this.attrTween(e,typeof n=="function"?(t.local?zd:Dd)(t,i,Ga(this,"attr."+e,n)):n==null?(t.local?Bd:Ld)(t):(t.local?Wd:Fd)(t,i,n))}a(Hd,"transition_attr");function Ud(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}a(Ud,"attrInterpolate");function Yd(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}a(Yd,"attrInterpolateNS");function qd(e,n){var t,i;function r(){var o=n.apply(this,arguments);return o!==i&&(t=(i=o)&&Yd(e,o)),t}return a(r,"tween"),r._value=n,r}a(qd,"attrTweenNS");function Gd(e,n){var t,i;function r(){var o=n.apply(this,arguments);return o!==i&&(t=(i=o)&&Ud(e,o)),t}return a(r,"tween"),r._value=n,r}a(Gd,"attrTween");function Xd(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;var i=Mi(e);return this.tween(t,(i.local?qd:Gd)(i,n))}a(Xd,"transition_attrTween");function Zd(e,n){return function(){qa(this,e).delay=+n.apply(this,arguments)}}a(Zd,"delayFunction");function Vd(e,n){return n=+n,function(){qa(this,e).delay=n}}a(Vd,"delayConstant");function Kd(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?Zd:Vd)(n,e)):Je(this.node(),n).delay}a(Kd,"transition_delay");function Jd(e,n){return function(){cn(this,e).duration=+n.apply(this,arguments)}}a(Jd,"durationFunction");function Qd(e,n){return n=+n,function(){cn(this,e).duration=n}}a(Qd,"durationConstant");function eh(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?Jd:Qd)(n,e)):Je(this.node(),n).duration}a(eh,"transition_duration");function nh(e,n){if(typeof n!="function")throw new Error;return function(){cn(this,e).ease=n}}a(nh,"easeConstant");function th(e){var n=this._id;return arguments.length?this.each(nh(n,e)):Je(this.node(),n).ease}a(th,"transition_ease");function ih(e,n){return function(){var t=n.apply(this,arguments);if(typeof t!="function")throw new Error;cn(this,e).ease=t}}a(ih,"easeVarying");function ah(e){if(typeof e!="function")throw new Error;return this.each(ih(this._id,e))}a(ah,"transition_easeVarying");function sh(e){typeof e!="function"&&(e=ao(e));for(var n=this._groups,t=n.length,i=new Array(t),r=0;r<t;++r)for(var o=n[r],c=o.length,l=i[r]=[],d,h=0;h<c;++h)(d=o[h])&&e.call(d,d.__data__,h,o)&&l.push(d);return new xn(i,this._parents,this._name,this._id)}a(sh,"transition_filter");function rh(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,i=n.length,r=t.length,o=Math.min(i,r),c=new Array(i),l=0;l<o;++l)for(var d=n[l],h=t[l],u=d.length,f=c[l]=new Array(u),m,p=0;p<u;++p)(m=d[p]||h[p])&&(f[p]=m);for(;l<i;++l)c[l]=n[l];return new xn(c,this._parents,this._name,this._id)}a(rh,"transition_merge");function oh(e){return(e+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||n==="start"})}a(oh,"start");function ch(e,n,t){var i,r,o=oh(n)?qa:cn;return function(){var c=o(this,e),l=c.on;l!==i&&(r=(i=l).copy()).on(n,t),c.on=r}}a(ch,"onFunction");function lh(e,n){var t=this._id;return arguments.length<2?Je(this.node(),t).on.on(e):this.each(ch(t,e,n))}a(lh,"transition_on");function uh(e){return function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}}a(uh,"removeFunction");function dh(){return this.on("end.remove",uh(this._id))}a(dh,"transition_remove");function hh(e){var n=this._name,t=this._id;typeof e!="function"&&(e=za(e));for(var i=this._groups,r=i.length,o=new Array(r),c=0;c<r;++c)for(var l=i[c],d=l.length,h=o[c]=new Array(d),u,f,m=0;m<d;++m)(u=l[m])&&(f=e.call(u,u.__data__,m,l))&&("__data__"in u&&(f.__data__=u.__data__),h[m]=f,Ei(h[m],n,t,m,h,Je(u,t)));return new xn(o,this._parents,n,t)}a(hh,"transition_select");function fh(e){var n=this._name,t=this._id;typeof e!="function"&&(e=io(e));for(var i=this._groups,r=i.length,o=[],c=[],l=0;l<r;++l)for(var d=i[l],h=d.length,u,f=0;f<h;++f)if(u=d[f]){for(var m=e.call(u,u.__data__,f,d),p,y=Je(u,t),S=0,j=m.length;S<j;++S)(p=m[S])&&Ei(p,n,t,S,m,y);o.push(m),c.push(u)}return new xn(o,c,n,t)}a(fh,"transition_selectAll");var mh=Mt.prototype.constructor;function ph(){return new mh(this._groups,this._parents)}a(ph,"transition_selection");function gh(e,n){var t,i,r;return function(){var o=Vn(this,e),c=(this.style.removeProperty(e),Vn(this,e));return o===c?null:o===t&&c===i?r:r=n(t=o,i=c)}}a(gh,"styleNull");function _o(e){return function(){this.style.removeProperty(e)}}a(_o,"styleRemove");function vh(e,n,t){var i,r=t+"",o;return function(){var c=Vn(this,e);return c===r?null:c===i?o:o=n(i=c,t)}}a(vh,"styleConstant");function xh(e,n,t){var i,r,o;return function(){var c=Vn(this,e),l=t(this),d=l+"";return l==null&&(d=l=(this.style.removeProperty(e),Vn(this,e))),c===d?null:c===i&&d===r?o:(r=d,o=n(i=c,l))}}a(xh,"styleFunction");function yh(e,n){var t,i,r,o="style."+n,c="end."+o,l;return function(){var d=cn(this,e),h=d.on,u=d.value[o]==null?l||(l=_o(n)):void 0;(h!==t||r!==u)&&(i=(t=h).copy()).on(c,r=u),d.on=i}}a(yh,"styleMaybeRemove");function wh(e,n,t){var i=(e+="")=="transform"?wd:So;return n==null?this.styleTween(e,gh(e,i)).on("end.style."+e,_o(e)):typeof n=="function"?this.styleTween(e,xh(e,i,Ga(this,"style."+e,n))).each(yh(this._id,e)):this.styleTween(e,vh(e,i,n),t).on("end.style."+e,null)}a(wh,"transition_style");function jh(e,n,t){return function(i){this.style.setProperty(e,n.call(this,i),t)}}a(jh,"styleInterpolate");function Nh(e,n,t){var i,r;function o(){var c=n.apply(this,arguments);return c!==r&&(i=(r=c)&&jh(e,c,t)),i}return a(o,"tween"),o._value=n,o}a(Nh,"styleTween");function bh(e,n,t){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,Nh(e,n,t==null?"":t))}a(bh,"transition_styleTween");function Ih(e){return function(){this.textContent=e}}a(Ih,"textConstant");function Sh(e){return function(){var n=e(this);this.textContent=n==null?"":n}}a(Sh,"textFunction");function _h(e){return this.tween("text",typeof e=="function"?Sh(Ga(this,"text",e)):Ih(e==null?"":e+""))}a(_h,"transition_text");function Mh(e){return function(n){this.textContent=e.call(this,n)}}a(Mh,"textInterpolate");function Ch(e){var n,t;function i(){var r=e.apply(this,arguments);return r!==t&&(n=(t=r)&&Mh(r)),n}return a(i,"tween"),i._value=e,i}a(Ch,"textTween");function Eh(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Ch(e))}a(Eh,"transition_textTween");function kh(){for(var e=this._name,n=this._id,t=Mo(),i=this._groups,r=i.length,o=0;o<r;++o)for(var c=i[o],l=c.length,d,h=0;h<l;++h)if(d=c[h]){var u=Je(d,n);Ei(d,e,t,h,c,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new xn(i,this._parents,e,t)}a(kh,"transition_transition");function Ph(){var e,n,t=this,i=t._id,r=t.size();return new Promise(function(o,c){var l={value:c},d={value:a(function(){--r===0&&o()},"value")};t.each(function(){var h=cn(this,i),u=h.on;u!==e&&(n=(e=u).copy(),n._.cancel.push(l),n._.interrupt.push(l),n._.end.push(d)),h.on=n}),r===0&&o()})}a(Ph,"transition_end");var Ah=0;function xn(e,n,t,i){this._groups=e,this._parents=n,this._name=t,this._id=i}a(xn,"Transition");function Mo(){return++Ah}a(Mo,"newId");var Pn=Mt.prototype;xn.prototype={constructor:xn,select:hh,selectAll:fh,filter:sh,merge:rh,selection:ph,transition:kh,call:Pn.call,nodes:Pn.nodes,node:Pn.node,size:Pn.size,empty:Pn.empty,each:Pn.each,on:lh,attr:Hd,attrTween:Xd,style:wh,styleTween:bh,text:_h,textTween:Eh,remove:dh,tween:Td,delay:Kd,duration:eh,ease:th,easeVarying:ah,end:Ph,[Symbol.iterator]:Pn[Symbol.iterator]};function Rh(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}a(Rh,"cubicInOut");var $h={time:null,delay:0,duration:250,ease:Rh};function Oh(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return t}a(Oh,"inherit");function Th(e){var n,t;e instanceof xn?(n=e._id,e=e._name):(n=Mo(),(t=$h).time=Ya(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var c=i[o],l=c.length,d,h=0;h<l;++h)(d=c[h])&&Ei(d,e,n,h,c,t||Oh(d,n));return new xn(i,this._parents,e,n)}a(Th,"selection_transition");Mt.prototype.interrupt=Rd;Mt.prototype.transition=Th;const Dt=a(e=>()=>e,"constant");function Lh(e,{sourceEvent:n,target:t,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}a(Lh,"ZoomEvent");function gn(e,n,t){this.k=e,this.x=n,this.y=t}a(gn,"Transform");gn.prototype={constructor:gn,scale:a(function(e){return e===1?this:new gn(this.k*e,this.x,this.y)},"scale"),translate:a(function(e,n){return e===0&n===0?this:new gn(this.k,this.x+this.k*e,this.y+this.k*n)},"translate"),apply:a(function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},"apply"),applyX:a(function(e){return e*this.k+this.x},"applyX"),applyY:a(function(e){return e*this.k+this.y},"applyY"),invert:a(function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},"invert"),invertX:a(function(e){return(e-this.x)/this.k},"invertX"),invertY:a(function(e){return(e-this.y)/this.k},"invertY"),rescaleX:a(function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},"rescaleX"),rescaleY:a(function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},"rescaleY"),toString:a(function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"},"toString")};var Xa=new gn(1,0,0);gn.prototype;function zi(e){e.stopImmediatePropagation()}a(zi,"nopropagation");function tt(e){e.preventDefault(),e.stopImmediatePropagation()}a(tt,"noevent");function Bh(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}a(Bh,"defaultFilter");function Fh(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}a(Fh,"defaultExtent");function Js(){return this.__zoom||Xa}a(Js,"defaultTransform");function Wh(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}a(Wh,"defaultWheelDelta");function Dh(){return navigator.maxTouchPoints||"ontouchstart"in this}a(Dh,"defaultTouchable");function zh(e,n,t){var i=e.invertX(n[0][0])-t[0][0],r=e.invertX(n[1][0])-t[1][0],o=e.invertY(n[0][1])-t[0][1],c=e.invertY(n[1][1])-t[1][1];return e.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),c>o?(o+c)/2:Math.min(0,o)||Math.max(0,c))}a(zh,"defaultConstrain");function Hh(){var e=Bh,n=Fh,t=zh,i=Wh,r=Dh,o=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,d=Sd,h=Da("start","zoom","end"),u,f,m,p=500,y=150,S=0,j=10;function w(g){g.property("__zoom",Js).on("wheel.zoom",F).on("mousedown.zoom",G).on("dblclick.zoom",K).filter(r).on("touchstart.zoom",z).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}a(w,"zoom"),w.transform=function(g,v,x,P){var A=g.selection?g.selection():g;A.property("__zoom",Js),g!==A?I(g,v,x,P):A.interrupt().each(function(){M(this,arguments).event(P).start().zoom(null,typeof v=="function"?v.apply(this,arguments):v).end()})},w.scaleBy=function(g,v,x,P){w.scaleTo(g,function(){var A=this.__zoom.k,T=typeof v=="function"?v.apply(this,arguments):v;return A*T},x,P)},w.scaleTo=function(g,v,x,P){w.transform(g,function(){var A=n.apply(this,arguments),T=this.__zoom,D=x==null?N(A):typeof x=="function"?x.apply(this,arguments):x,X=T.invert(D),ne=typeof v=="function"?v.apply(this,arguments):v;return t(b(_(T,ne),D,X),A,c)},x,P)},w.translateBy=function(g,v,x,P){w.transform(g,function(){return t(this.__zoom.translate(typeof v=="function"?v.apply(this,arguments):v,typeof x=="function"?x.apply(this,arguments):x),n.apply(this,arguments),c)},null,P)},w.translateTo=function(g,v,x,P,A){w.transform(g,function(){var T=n.apply(this,arguments),D=this.__zoom,X=P==null?N(T):typeof P=="function"?P.apply(this,arguments):P;return t(Xa.translate(X[0],X[1]).scale(D.k).translate(typeof v=="function"?-v.apply(this,arguments):-v,typeof x=="function"?-x.apply(this,arguments):-x),T,c)},P,A)};function _(g,v){return v=Math.max(o[0],Math.min(o[1],v)),v===g.k?g:new gn(v,g.x,g.y)}a(_,"scale");function b(g,v,x){var P=v[0]-x[0]*g.k,A=v[1]-x[1]*g.k;return P===g.x&&A===g.y?g:new gn(g.k,P,A)}a(b,"translate");function N(g){return[(+g[0][0]+ +g[1][0])/2,(+g[0][1]+ +g[1][1])/2]}a(N,"centroid");function I(g,v,x,P){g.on("start.zoom",function(){M(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(P).end()}).tween("zoom",function(){var A=this,T=arguments,D=M(A,T).event(P),X=n.apply(A,T),ne=x==null?N(X):typeof x=="function"?x.apply(A,T):x,le=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),te=A.__zoom,V=typeof v=="function"?v.apply(A,T):v,J=d(te.invert(ne).concat(le/te.k),V.invert(ne).concat(le/V.k));return function(ie){if(ie===1)ie=V;else{var ye=J(ie),re=le/ye[2];ie=new gn(re,ne[0]-ye[0]*re,ne[1]-ye[1]*re)}D.zoom(null,ie)}})}a(I,"schedule");function M(g,v,x){return!x&&g.__zooming||new O(g,v)}a(M,"gesture");function O(g,v){this.that=g,this.args=v,this.active=0,this.sourceEvent=null,this.extent=n.apply(g,v),this.taps=0}a(O,"Gesture"),O.prototype={event:a(function(g){return g&&(this.sourceEvent=g),this},"event"),start:a(function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},"start"),zoom:a(function(g,v){return this.mouse&&g!=="mouse"&&(this.mouse[1]=v.invert(this.mouse[0])),this.touch0&&g!=="touch"&&(this.touch0[1]=v.invert(this.touch0[0])),this.touch1&&g!=="touch"&&(this.touch1[1]=v.invert(this.touch1[0])),this.that.__zoom=v,this.emit("zoom"),this},"zoom"),end:a(function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},"end"),emit:a(function(g){var v=pn(this.that).datum();h.call(g,this.that,new Lh(g,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:h}),v)},"emit")};function F(g,...v){if(!e.apply(this,arguments))return;var x=M(this,v).event(g),P=this.__zoom,A=Math.max(o[0],Math.min(o[1],P.k*Math.pow(2,i.apply(this,arguments)))),T=kn(g);if(x.wheel)(x.mouse[0][0]!==T[0]||x.mouse[0][1]!==T[1])&&(x.mouse[1]=P.invert(x.mouse[0]=T)),clearTimeout(x.wheel);else{if(P.k===A)return;x.mouse=[T,P.invert(T)],Xt(this),x.start()}tt(g),x.wheel=setTimeout(D,y),x.zoom("mouse",t(b(_(P,A),x.mouse[0],x.mouse[1]),x.extent,c));function D(){x.wheel=null,x.end()}a(D,"wheelidled")}a(F,"wheeled");function G(g,...v){if(m||!e.apply(this,arguments))return;var x=M(this,v,!0).event(g),P=pn(g.view).on("mousemove.zoom",ne,!0).on("mouseup.zoom",le,!0),A=kn(g,T),T=g.currentTarget,D=g.clientX,X=g.clientY;ed(g.view),zi(g),x.mouse=[A,this.__zoom.invert(A)],Xt(this),x.start();function ne(te){if(tt(te),!x.moved){var V=te.clientX-D,J=te.clientY-X;x.moved=V*V+J*J>S}x.event(te).zoom("mouse",t(b(x.that.__zoom,x.mouse[0]=kn(te,T),x.mouse[1]),x.extent,c))}a(ne,"mousemoved");function le(te){P.on("mousemove.zoom mouseup.zoom",null),nd(te.view,x.moved),tt(te),x.event(te).end()}a(le,"mouseupped")}a(G,"mousedowned");function K(g,...v){if(e.apply(this,arguments)){var x=this.__zoom,P=kn(g.changedTouches?g.changedTouches[0]:g,this),A=x.invert(P),T=x.k*(g.shiftKey?.5:2),D=t(b(_(x,T),P,A),n.apply(this,v),c);tt(g),l>0?pn(this).transition().duration(l).call(I,D,P,g):pn(this).call(w.transform,D,P,g)}}a(K,"dblclicked");function z(g,...v){if(e.apply(this,arguments)){var x=g.touches,P=x.length,A=M(this,v,g.changedTouches.length===P).event(g),T,D,X,ne;for(zi(g),D=0;D<P;++D)X=x[D],ne=kn(X,this),ne=[ne,this.__zoom.invert(ne),X.identifier],A.touch0?!A.touch1&&A.touch0[2]!==ne[2]&&(A.touch1=ne,A.taps=0):(A.touch0=ne,T=!0,A.taps=1+!!u);u&&(u=clearTimeout(u)),T&&(A.taps<2&&(f=ne[0],u=setTimeout(function(){u=null},p)),Xt(this),A.start())}}a(z,"touchstarted");function Z(g,...v){if(this.__zooming){var x=M(this,v).event(g),P=g.changedTouches,A=P.length,T,D,X,ne;for(tt(g),T=0;T<A;++T)D=P[T],X=kn(D,this),x.touch0&&x.touch0[2]===D.identifier?x.touch0[0]=X:x.touch1&&x.touch1[2]===D.identifier&&(x.touch1[0]=X);if(D=x.that.__zoom,x.touch1){var le=x.touch0[0],te=x.touch0[1],V=x.touch1[0],J=x.touch1[1],ie=(ie=V[0]-le[0])*ie+(ie=V[1]-le[1])*ie,ye=(ye=J[0]-te[0])*ye+(ye=J[1]-te[1])*ye;D=_(D,Math.sqrt(ie/ye)),X=[(le[0]+V[0])/2,(le[1]+V[1])/2],ne=[(te[0]+J[0])/2,(te[1]+J[1])/2]}else if(x.touch0)X=x.touch0[0],ne=x.touch0[1];else return;x.zoom("touch",t(b(D,X,ne),x.extent,c))}}a(Z,"touchmoved");function U(g,...v){if(this.__zooming){var x=M(this,v).event(g),P=g.changedTouches,A=P.length,T,D;for(zi(g),m&&clearTimeout(m),m=setTimeout(function(){m=null},p),T=0;T<A;++T)D=P[T],x.touch0&&x.touch0[2]===D.identifier?delete x.touch0:x.touch1&&x.touch1[2]===D.identifier&&delete x.touch1;if(x.touch1&&!x.touch0&&(x.touch0=x.touch1,delete x.touch1),x.touch0)x.touch0[1]=this.__zoom.invert(x.touch0[0]);else if(x.end(),x.taps===2&&(D=kn(D,this),Math.hypot(f[0]-D[0],f[1]-D[1])<j)){var X=pn(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return a(U,"touchended"),w.wheelDelta=function(g){return arguments.length?(i=typeof g=="function"?g:Dt(+g),w):i},w.filter=function(g){return arguments.length?(e=typeof g=="function"?g:Dt(!!g),w):e},w.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:Dt(!!g),w):r},w.extent=function(g){return arguments.length?(n=typeof g=="function"?g:Dt([[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]]),w):n},w.scaleExtent=function(g){return arguments.length?(o[0]=+g[0],o[1]=+g[1],w):[o[0],o[1]]},w.translateExtent=function(g){return arguments.length?(c[0][0]=+g[0][0],c[1][0]=+g[1][0],c[0][1]=+g[0][1],c[1][1]=+g[1][1],w):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},w.constrain=function(g){return arguments.length?(t=g,w):t},w.duration=function(g){return arguments.length?(l=+g,w):l},w.interpolate=function(g){return arguments.length?(d=g,w):d},w.on=function(){var g=h.on.apply(h,arguments);return g===h?w:g},w.clickDistance=function(g){return arguments.length?(S=(g=+g)*g,w):Math.sqrt(S)},w.tapDistance=function(g){return arguments.length?(j=+g,w):j},w}a(Hh,"zoom");function Qs(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}a(Qs,"ownKeys");function Un(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Qs(Object(t),!0).forEach(function(i){Uh(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qs(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e}a(Un,"_objectSpread2");function Na(e){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Na(e)}a(Na,"_typeof");function Uh(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}a(Uh,"_defineProperty");function We(){return We=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},We.apply(this,arguments)}a(We,"_extends");function Yh(e,n){if(e==null)return{};var t={},i=Object.keys(e),r,o;for(o=0;o<i.length;o++)r=i[o],!(n.indexOf(r)>=0)&&(t[r]=e[r]);return t}a(Yh,"_objectWithoutPropertiesLoose");function Xe(e,n){if(e==null)return{};var t=Yh(e,n),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(t[i]=e[i])}return t}a(Xe,"_objectWithoutProperties");function _e(e,n){return qh(e)||Gh(e,n)||Xh(e,n)||Zh()}a(_e,"_slicedToArray");function qh(e){if(Array.isArray(e))return e}a(qh,"_arrayWithHoles");function Gh(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var i=[],r=!0,o=!1,c,l;try{for(t=t.call(e);!(r=(c=t.next()).done)&&(i.push(c.value),!(n&&i.length===n));r=!0);}catch(d){o=!0,l=d}finally{try{!r&&t.return!=null&&t.return()}finally{if(o)throw l}}return i}}a(Gh,"_iterableToArrayLimit");function Xh(e,n){if(e){if(typeof e=="string")return er(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return er(e,n)}}a(Xh,"_unsupportedIterableToArray");function er(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}a(er,"_arrayLikeToArray");function Zh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(Zh,"_nonIterableRest");var Vh=["width","height","projection","projectionConfig"],Kh=Gr,Jh=Xe(hl,["geoPath"]),ln=$.createContext(),Qh=a(function(n){var t=n.projectionConfig,i=t===void 0?{}:t,r=n.projection,o=r===void 0?"geoEqualEarth":r,c=n.width,l=c===void 0?800:c,d=n.height,h=d===void 0?600:d,u=typeof o=="function";if(u)return o;var f=Jh[o]().translate([l/2,h/2]),m=[f.center?"center":null,f.rotate?"rotate":null,f.scale?"scale":null,f.parallels?"parallels":null];return m.forEach(function(p){p&&(f=f[p](i[p]||f[p]()))}),f},"makeProjection"),Co=a(function(n){var t=n.width,i=n.height,r=n.projection,o=n.projectionConfig,c=Xe(n,Vh),l=o.center||[],d=_e(l,2),h=d[0],u=d[1],f=o.rotate||[],m=_e(f,3),p=m[0],y=m[1],S=m[2],j=o.parallels||[],w=_e(j,2),_=w[0],b=w[1],N=o.scale||null,I=$.useMemo(function(){return Qh({projectionConfig:{center:h||h===0||u||u===0?[h,u]:null,rotate:p||p===0||y||y===0?[p,y,S]:null,parallels:_||_===0||b||b===0?[_,b]:null,scale:N},projection:r,width:t,height:i})},[t,i,r,h,u,p,y,S,_,b,N]),M=$.useCallback(I,[I]),O=$.useMemo(function(){return{width:t,height:i,projection:M,path:Kh().projection(M)}},[t,i,M]);return Ne.createElement(ln.Provider,We({value:O},c))},"MapProvider");Co.propTypes={width:R.number,height:R.number,projection:R.oneOfType([R.string,R.func]),projectionConfig:R.object};var ef=["width","height","projection","projectionConfig","className"],Za=$.forwardRef(function(e,n){var t=e.width,i=t===void 0?800:t,r=e.height,o=r===void 0?600:r,c=e.projection,l=c===void 0?"geoEqualEarth":c,d=e.projectionConfig,h=d===void 0?{}:d,u=e.className,f=u===void 0?"":u,m=Xe(e,ef);return Ne.createElement(Co,{width:i,height:o,projection:l,projectionConfig:h},Ne.createElement("svg",We({ref:n,viewBox:"0 0 ".concat(i," ").concat(o),className:"rsm-svg ".concat(f)},m)))});Za.displayName="ComposableMap";Za.propTypes={width:R.number,height:R.number,projection:R.oneOfType([R.string,R.func]),projectionConfig:R.object,className:R.string};function nr(e,n,t){var i=(e*t.k-e)/2,r=(n*t.k-n)/2;return[e/2-(i+t.x)/t.k,n/2-(r+t.y)/t.k]}a(nr,"getCoords");function nf(e){return fetch(e).then(function(n){if(!n.ok)throw Error(n.statusText);return n.json()}).catch(function(n){console.log("There was a problem when fetching the data: ",n)})}a(nf,"fetchGeographies");function tr(e,n){var t=e.type==="Topology";if(!t)return n?n(e.features||e):e.features||e;var i=gl(e,e.objects[Object.keys(e.objects)[0]]).features;return n?n(i):i}a(tr,"getFeatures");function ir(e){var n=e.type==="Topology";if(!n)return null;var t=Os(e,e.objects[Object.keys(e.objects)[0]],function(r,o){return r===o}),i=Os(e,e.objects[Object.keys(e.objects)[0]],function(r,o){return r!==o});return{outline:t,borders:i}}a(ir,"getMesh");function tf(e,n,t){return e&&n?{outline:Un(Un({},e),{},{rsmKey:"outline",svgPath:t(e)}),borders:Un(Un({},n),{},{rsmKey:"borders",svgPath:t(n)})}:{}}a(tf,"prepareMesh");function af(e,n){return e?e.map(function(t,i){return Un(Un({},t),{},{rsmKey:"geo-".concat(i),svgPath:n(t)})}):[]}a(af,"prepareFeatures");function sf(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,i=Array.isArray(t)?t:[t,t],r=e/2*i[0],o=n/2*i[1];return"M".concat(0,",",0," Q",-e/2-r,",").concat(-n/2+o," ").concat(-e,",").concat(-n)}a(sf,"createConnectorPath");function rf(e){return typeof e=="string"}a(rf,"isString");function of(e){var n=e.geography,t=e.parseGeographies,i=$.useContext(ln),r=i.path,o=$.useState({}),c=_e(o,2),l=c[0],d=c[1];$.useEffect(function(){(typeof window=="undefined"?"undefined":Na(window))!=="undefined"&&n&&(rf(n)?nf(n).then(function(p){p&&d({geographies:tr(p,t),mesh:ir(p)})}):d({geographies:tr(n,t),mesh:ir(n)}))},[n,t]);var h=$.useMemo(function(){var p=l.mesh||{},y=tf(p.outline,p.borders,r);return{geographies:af(l.geographies,r),outline:y.outline,borders:y.borders}},[l,r]),u=h.geographies,f=h.outline,m=h.borders;return{geographies:u,outline:f,borders:m}}a(of,"useGeographies");var cf=["geography","children","parseGeographies","className"],Va=$.forwardRef(function(e,n){var t=e.geography,i=e.children,r=e.parseGeographies,o=e.className,c=o===void 0?"":o,l=Xe(e,cf),d=$.useContext(ln),h=d.path,u=d.projection,f=of({geography:t,parseGeographies:r}),m=f.geographies,p=f.outline,y=f.borders;return Ne.createElement("g",We({ref:n,className:"rsm-geographies ".concat(c)},l),m&&m.length>0&&i({geographies:m,outline:p,borders:y,path:h,projection:u}))});Va.displayName="Geographies";Va.propTypes={geography:R.oneOfType([R.string,R.object,R.array]),children:R.func,parseGeographies:R.func,className:R.string};var lf=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Ka=$.forwardRef(function(e,n){var t=e.geography,i=e.onMouseEnter,r=e.onMouseLeave,o=e.onMouseDown,c=e.onMouseUp,l=e.onFocus,d=e.onBlur,h=e.style,u=h===void 0?{}:h,f=e.className,m=f===void 0?"":f,p=Xe(e,lf),y=$.useState(!1),S=_e(y,2),j=S[0],w=S[1],_=$.useState(!1),b=_e(_,2),N=b[0],I=b[1];function M(Z){I(!0),i&&i(Z)}a(M,"handleMouseEnter");function O(Z){I(!1),j&&w(!1),r&&r(Z)}a(O,"handleMouseLeave");function F(Z){I(!0),l&&l(Z)}a(F,"handleFocus");function G(Z){I(!1),j&&w(!1),d&&d(Z)}a(G,"handleBlur");function K(Z){w(!0),o&&o(Z)}a(K,"handleMouseDown");function z(Z){w(!1),c&&c(Z)}return a(z,"handleMouseUp"),Ne.createElement("path",We({ref:n,tabIndex:"0",className:"rsm-geography ".concat(m),d:t.svgPath,onMouseEnter:M,onMouseLeave:O,onFocus:F,onBlur:G,onMouseDown:K,onMouseUp:z,style:u[j||N?j?"pressed":"hover":"default"]},p))});Ka.displayName="Geography";Ka.propTypes={geography:R.object,onMouseEnter:R.func,onMouseLeave:R.func,onMouseDown:R.func,onMouseUp:R.func,onFocus:R.func,onBlur:R.func,style:R.object,className:R.string};var uf=$.memo(Ka),df=["fill","stroke","step","className"],Ja=$.forwardRef(function(e,n){var t=e.fill,i=t===void 0?"transparent":t,r=e.stroke,o=r===void 0?"currentcolor":r,c=e.step,l=c===void 0?[10,10]:c,d=e.className,h=d===void 0?"":d,u=Xe(e,df),f=$.useContext(ln),m=f.path;return Ne.createElement("path",We({ref:n,d:m(_a().step(l)()),fill:i,stroke:o,className:"rsm-graticule ".concat(h)},u))});Ja.displayName="Graticule";Ja.propTypes={fill:R.string,stroke:R.string,step:R.array,className:R.string};$.memo(Ja);var hf=["value"],ff=$.createContext(),mf={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},Eo=a(function(n){var t=n.value,i=t===void 0?mf:t,r=Xe(n,hf);return Ne.createElement(ff.Provider,We({value:i},r))},"ZoomPanProvider");Eo.propTypes={x:R.number,y:R.number,k:R.number,transformString:R.string};function pf(e){var n=e.center,t=e.filterZoomEvent,i=e.onMoveStart,r=e.onMoveEnd,o=e.onMove,c=e.translateExtent,l=c===void 0?[[-1/0,-1/0],[1/0,1/0]]:c,d=e.scaleExtent,h=d===void 0?[1,8]:d,u=e.zoom,f=u===void 0?1:u,m=$.useContext(ln),p=m.width,y=m.height,S=m.projection,j=_e(n,2),w=j[0],_=j[1],b=$.useState({x:0,y:0,k:1}),N=_e(b,2),I=N[0],M=N[1],O=$.useRef({x:0,y:0,k:1}),F=$.useRef(),G=$.useRef(),K=$.useRef(!1),z=_e(l,2),Z=z[0],U=z[1],g=_e(Z,2),v=g[0],x=g[1],P=_e(U,2),A=P[0],T=P[1],D=_e(h,2),X=D[0],ne=D[1];return $.useEffect(function(){var le=pn(F.current);function te(re){!i||K.current||i({coordinates:S.invert(nr(p,y,re.transform)),zoom:re.transform.k},re)}a(te,"handleZoomStart");function V(re){if(!K.current){var Me=re.transform,Q=re.sourceEvent;M({x:Me.x,y:Me.y,k:Me.k,dragging:Q}),o&&o({x:Me.x,y:Me.y,zoom:Me.k,dragging:Q},re)}}a(V,"handleZoom");function J(re){if(K.current){K.current=!1;return}var Me=S.invert(nr(p,y,re.transform)),Q=_e(Me,2),Tn=Q[0],Ue=Q[1];O.current={x:Tn,y:Ue,k:re.transform.k},r&&r({coordinates:[Tn,Ue],zoom:re.transform.k},re)}a(J,"handleZoomEnd");function ie(re){return t?t(re):re?!re.ctrlKey&&!re.button:!1}a(ie,"filterFunc");var ye=Hh().filter(ie).scaleExtent([X,ne]).translateExtent([[v,x],[A,T]]).on("start",te).on("zoom",V).on("end",J);G.current=ye,le.call(ye)},[p,y,v,x,A,T,X,ne,S,i,o,r,t]),$.useEffect(function(){if(!(w===O.current.x&&_===O.current.y&&f===O.current.k)){var le=S([w,_]),te=le[0]*f,V=le[1]*f,J=pn(F.current);K.current=!0,J.call(G.current.transform,Xa.translate(p/2-te,y/2-V).scale(f)),M({x:p/2-te,y:y/2-V,k:f}),O.current={x:w,y:_,k:f}}},[w,_,f,p,y,S]),{mapRef:F,position:I,transformString:"translate(".concat(I.x," ").concat(I.y,") scale(").concat(I.k,")")}}a(pf,"useZoomPan");var gf=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],Qa=$.forwardRef(function(e,n){var t=e.center,i=t===void 0?[0,0]:t,r=e.zoom,o=r===void 0?1:r,c=e.minZoom,l=c===void 0?1:c,d=e.maxZoom,h=d===void 0?8:d,u=e.translateExtent,f=e.filterZoomEvent,m=e.onMoveStart,p=e.onMove,y=e.onMoveEnd,S=e.className,j=Xe(e,gf),w=$.useContext(ln),_=w.width,b=w.height,N=pf({center:i,filterZoomEvent:f,onMoveStart:m,onMove:p,onMoveEnd:y,scaleExtent:[l,h],translateExtent:u,zoom:o}),I=N.mapRef,M=N.transformString,O=N.position;return Ne.createElement(Eo,{value:{x:O.x,y:O.y,k:O.k,transformString:M}},Ne.createElement("g",{ref:I},Ne.createElement("rect",{width:_,height:b,fill:"transparent"}),Ne.createElement("g",We({ref:n,transform:M,className:"rsm-zoomable-group ".concat(S)},j))))});Qa.displayName="ZoomableGroup";Qa.propTypes={center:R.array,zoom:R.number,minZoom:R.number,maxZoom:R.number,translateExtent:R.arrayOf(R.array),onMoveStart:R.func,onMove:R.func,onMoveEnd:R.func,className:R.string};var vf=["id","fill","stroke","strokeWidth","className"],es=$.forwardRef(function(e,n){var t=e.id,i=t===void 0?"rsm-sphere":t,r=e.fill,o=r===void 0?"transparent":r,c=e.stroke,l=c===void 0?"currentcolor":c,d=e.strokeWidth,h=d===void 0?.5:d,u=e.className,f=u===void 0?"":u,m=Xe(e,vf),p=$.useContext(ln),y=p.path,S=$.useMemo(function(){return y({type:"Sphere"})},[y]);return Ne.createElement($.Fragment,null,Ne.createElement("defs",null,Ne.createElement("clipPath",{id:i},Ne.createElement("path",{d:S}))),Ne.createElement("path",We({ref:n,d:S,fill:o,stroke:l,strokeWidth:h,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(f)},m)))});es.displayName="Sphere";es.propTypes={id:R.string,fill:R.string,stroke:R.string,strokeWidth:R.number,className:R.string};$.memo(es);var xf=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],ko=$.forwardRef(function(e,n){var t=e.coordinates,i=e.children,r=e.onMouseEnter,o=e.onMouseLeave,c=e.onMouseDown,l=e.onMouseUp,d=e.onFocus,h=e.onBlur,u=e.style,f=u===void 0?{}:u,m=e.className,p=m===void 0?"":m,y=Xe(e,xf),S=$.useContext(ln),j=S.projection,w=$.useState(!1),_=_e(w,2),b=_[0],N=_[1],I=$.useState(!1),M=_e(I,2),O=M[0],F=M[1],G=j(t),K=_e(G,2),z=K[0],Z=K[1];function U(T){F(!0),r&&r(T)}a(U,"handleMouseEnter");function g(T){F(!1),b&&N(!1),o&&o(T)}a(g,"handleMouseLeave");function v(T){F(!0),d&&d(T)}a(v,"handleFocus");function x(T){F(!1),b&&N(!1),h&&h(T)}a(x,"handleBlur");function P(T){N(!0),c&&c(T)}a(P,"handleMouseDown");function A(T){N(!1),l&&l(T)}return a(A,"handleMouseUp"),Ne.createElement("g",We({ref:n,transform:"translate(".concat(z,", ").concat(Z,")"),className:"rsm-marker ".concat(p),onMouseEnter:U,onMouseLeave:g,onFocus:v,onBlur:x,onMouseDown:P,onMouseUp:A,style:f[b||O?b?"pressed":"hover":"default"]},y),i)});ko.displayName="Marker";ko.propTypes={coordinates:R.array,children:R.oneOfType([R.node,R.arrayOf(R.node)]),onMouseEnter:R.func,onMouseLeave:R.func,onMouseDown:R.func,onMouseUp:R.func,onFocus:R.func,onBlur:R.func,style:R.object,className:R.string};var yf=["from","to","coordinates","stroke","strokeWidth","fill","className"],Po=$.forwardRef(function(e,n){var t=e.from,i=t===void 0?[0,0]:t,r=e.to,o=r===void 0?[0,0]:r,c=e.coordinates,l=e.stroke,d=l===void 0?"currentcolor":l,h=e.strokeWidth,u=h===void 0?3:h,f=e.fill,m=f===void 0?"transparent":f,p=e.className,y=p===void 0?"":p,S=Xe(e,yf),j=$.useContext(ln),w=j.path,_={type:"LineString",coordinates:c||[i,o]};return Ne.createElement("path",We({ref:n,d:w(_),className:"rsm-line ".concat(y),stroke:d,strokeWidth:u,fill:m},S))});Po.displayName="Line";Po.propTypes={from:R.array,to:R.array,coordinates:R.array,stroke:R.string,strokeWidth:R.number,fill:R.string,className:R.string};var wf=["subject","children","connectorProps","dx","dy","curve","className"],Ao=$.forwardRef(function(e,n){var t=e.subject,i=e.children,r=e.connectorProps,o=e.dx,c=o===void 0?30:o,l=e.dy,d=l===void 0?30:l,h=e.curve,u=h===void 0?0:h,f=e.className,m=f===void 0?"":f,p=Xe(e,wf),y=$.useContext(ln),S=y.projection,j=S(t),w=_e(j,2),_=w[0],b=w[1],N=sf(c,d,u);return Ne.createElement("g",We({ref:n,transform:"translate(".concat(_+c,", ").concat(b+d,")"),className:"rsm-annotation ".concat(m)},p),Ne.createElement("path",We({d:N,fill:"transparent",stroke:"#000"},r)),i)});Ao.displayName="Annotation";Ao.propTypes={subject:R.array,children:R.oneOfType([R.node,R.arrayOf(R.node)]),dx:R.number,dy:R.number,curve:R.number,connectorProps:R.object,className:R.string};const Te=[{name:"Alabama",minWage:7.25,medianBottom50Annual:38e3,costIndices:{housingIndex:.7,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:.9},info:{summary:"Alabama has a low cost of living, particularly for housing. However, it also has a low minimum wage and median income.",population:"5,024,279",costOfLivingRank:3}},{name:"Alaska",minWage:11.73,medianBottom50Annual:52e3,costIndices:{housingIndex:1.3,foodIndex:1.2,utilitiesIndex:1.5,educationCostIndex:1.2},info:{summary:"Alaska has a high cost of living, especially for housing and utilities. However, it has a higher minimum wage and no state income tax.",population:"733,391",costOfLivingRank:48}},{name:"Arizona",minWage:14.35,medianBottom50Annual:45e3,costIndices:{housingIndex:1.2,foodIndex:1,utilitiesIndex:1,educationCostIndex:1.1},info:{summary:"Arizona has a moderate cost of living, with housing being the biggest expense. It has a higher minimum wage than the federal level.",population:"7,151,502",costOfLivingRank:39}},{name:"Arkansas",minWage:11,medianBottom50Annual:37e3,costIndices:{housingIndex:.75,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:.9},info:{summary:"Arkansas has a low cost of living, but also a low median income. It has a state minimum wage higher than the federal level.",population:"3,011,524",costOfLivingRank:4}},{name:"California",minWage:16,medianBottom50Annual:55e3,costIndices:{housingIndex:2,foodIndex:1.3,utilitiesIndex:1.2,educationCostIndex:1.4},info:{summary:"California has a very high cost of living, especially for housing. It has a high minimum wage and a large, diverse economy.",population:"39,538,223",costOfLivingRank:49}},{name:"Colorado",minWage:14.42,medianBottom50Annual:53e3,costIndices:{housingIndex:1.5,foodIndex:1.1,utilitiesIndex:1,educationCostIndex:1.2},info:{summary:"Colorado has a high cost of living, particularly for housing. It has a strong economy and a high minimum wage.",population:"5,773,714",costOfLivingRank:43}},{name:"Connecticut",minWage:15.69,medianBottom50Annual:58e3,costIndices:{housingIndex:1.25,foodIndex:1.1,utilitiesIndex:1.2,educationCostIndex:1.2},info:{summary:"Connecticut has a high cost of living, but also a high median income. It has a high minimum wage.",population:"3,605,944",costOfLivingRank:45}},{name:"Delaware",minWage:13.25,medianBottom50Annual:48e3,costIndices:{housingIndex:1.1,foodIndex:1,utilitiesIndex:1,educationCostIndex:1.1},info:{summary:"Delaware has a moderate cost of living and a median income that is slightly above the national average. It has a state minimum wage that is higher than the federal level.",population:"989,948",costOfLivingRank:36}},{name:"Florida",minWage:12,medianBottom50Annual:42e3,costIndices:{housingIndex:1.15,foodIndex:1.1,utilitiesIndex:1,educationCostIndex:1},info:{summary:"Florida has a moderate cost of living, with a growing population and economy. It has a state minimum wage that is higher than the federal level.",population:"21,538,187",costOfLivingRank:31}},{name:"Georgia",minWage:7.25,medianBottom50Annual:43e3,costIndices:{housingIndex:.9,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:1},info:{summary:"Georgia has a moderate cost of living and a growing economy. It has a low minimum wage.",population:"10,711,908",costOfLivingRank:22}},{name:"Hawaii",minWage:14,medianBottom50Annual:6e4,costIndices:{housingIndex:2.2,foodIndex:1.6,utilitiesIndex:1.8,educationCostIndex:1.5},info:{summary:"Hawaii has the highest cost of living in the nation, largely due to housing and import costs. It has a high minimum wage and a strong tourism industry.",population:"1,455,271",costOfLivingRank:50}},{name:"Idaho",minWage:7.25,medianBottom50Annual:41e3,costIndices:{housingIndex:1,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:1},info:{summary:"Idaho has a moderate cost of living and a growing population. It has a low minimum wage.",population:"1,839,106",costOfLivingRank:26}},{name:"Illinois",minWage:14,medianBottom50Annual:49e3,costIndices:{housingIndex:.95,foodIndex:1,utilitiesIndex:1,educationCostIndex:1.1},info:{summary:"Illinois has a moderate cost of living, with a large and diverse economy. It has a high minimum wage.",population:"12,812,508",costOfLivingRank:29}},{name:"Indiana",minWage:7.25,medianBottom50Annual:42e3,costIndices:{housingIndex:.8,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:1},info:{summary:"Indiana has a low cost of living and a strong manufacturing sector. It has a low minimum wage.",population:"6,785,528",costOfLivingRank:11}},{name:"Iowa",minWage:7.25,medianBottom50Annual:43e3,costIndices:{housingIndex:.8,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:1},info:{summary:"Iowa has a low cost of living and a strong agricultural sector. It has a low minimum wage.",population:"3,190,369",costOfLivingRank:12}},{name:"Kansas",minWage:7.25,medianBottom50Annual:42e3,costIndices:{housingIndex:.8,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:1},info:{summary:"Kansas has a low cost of living and a strong agricultural and aviation industry. It has a low minimum wage.",population:"2,937,880",costOfLivingRank:10}},{name:"Kentucky",minWage:7.25,medianBottom50Annual:39e3,costIndices:{housingIndex:.75,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:.9},info:{summary:"Kentucky has a low cost of living and a diverse economy that includes manufacturing and healthcare. It has a low minimum wage.",population:"4,505,836",costOfLivingRank:8}},{name:"Louisiana",minWage:7.25,medianBottom50Annual:39e3,costIndices:{housingIndex:.8,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:1},info:{summary:"Louisiana has a low cost of living and a strong oil and gas industry. It has a low minimum wage.",population:"4,657,757",costOfLivingRank:14}},{name:"Maine",minWage:14.15,medianBottom50Annual:46e3,costIndices:{housingIndex:1.1,foodIndex:1,utilitiesIndex:1.1,educationCostIndex:1.1},info:{summary:"Maine has a moderate cost of living and a strong tourism industry. It has a high minimum wage.",population:"1,362,359",costOfLivingRank:37}},{name:"Maryland",minWage:15,medianBottom50Annual:6e4,costIndices:{housingIndex:1.4,foodIndex:1.1,utilitiesIndex:1.1,educationCostIndex:1.2},info:{summary:"Maryland has a high cost of living, but also a high median income. It has a high minimum wage and a strong technology and government sector.",population:"6,177,224",costOfLivingRank:46}},{name:"Massachusetts",minWage:15,medianBottom50Annual:62e3,costIndices:{housingIndex:1.6,foodIndex:1.2,utilitiesIndex:1.2,educationCostIndex:1.3},info:{summary:"Massachusetts has a very high cost of living, but also a high median income. It has a high minimum wage and a strong technology and education sector.",population:"7,029,917",costOfLivingRank:47}},{name:"Michigan",minWage:10.33,medianBottom50Annual:44e3,costIndices:{housingIndex:.85,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:1},info:{summary:"Michigan has a low cost of living and a strong manufacturing sector. It has a state minimum wage that is higher than the federal level.",population:"10,077,331",costOfLivingRank:16}},{name:"Minnesota",minWage:10.85,medianBottom50Annual:51e3,costIndices:{housingIndex:1,foodIndex:1,utilitiesIndex:1,educationCostIndex:1.1},info:{summary:"Minnesota has a moderate cost of living and a diverse economy. It has a state minimum wage that is higher than the federal level.",population:"5,706,494",costOfLivingRank:30}},{name:"Mississippi",minWage:7.25,medianBottom50Annual:35e3,costIndices:{housingIndex:.65,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:.9},info:{summary:"Mississippi has the lowest cost of living in the nation, but also the lowest median income. It has a low minimum wage.",population:"2,961,279",costOfLivingRank:1}},{name:"Missouri",minWage:12.3,medianBottom50Annual:41e3,costIndices:{housingIndex:.8,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:1},info:{summary:"Missouri has a low cost of living and a diverse economy. It has a state minimum wage that is higher than the federal level.",population:"6,154,913",costOfLivingRank:9}},{name:"Montana",minWage:10.3,medianBottom50Annual:42e3,costIndices:{housingIndex:1.1,foodIndex:1,utilitiesIndex:.9,educationCostIndex:1.1},info:{summary:"Montana has a moderate cost of living and a strong tourism and natural resources industry. It has a state minimum wage that is higher than the federal level.",population:"1,084,225",costOfLivingRank:34}},{name:"Nebraska",minWage:12,medianBottom50Annual:44e3,costIndices:{housingIndex:.85,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:1},info:{summary:"Nebraska has a low cost of living and a strong agricultural sector. It has a state minimum wage that is higher than the federal level.",population:"1,961,504",costOfLivingRank:15}},{name:"Nevada",minWage:12,medianBottom50Annual:46e3,costIndices:{housingIndex:1.3,foodIndex:1,utilitiesIndex:1,educationCostIndex:1.1},info:{summary:"Nevada has a moderate cost of living and a strong tourism and entertainment industry. It has a state minimum wage that is higher than the federal level.",population:"3,104,614",costOfLivingRank:40}},{name:"New Hampshire",minWage:7.25,medianBottom50Annual:56e3,costIndices:{housingIndex:1.2,foodIndex:1.1,utilitiesIndex:1.1,educationCostIndex:1.2},info:{summary:"New Hampshire has a high cost of living, but also a high median income. It has a low minimum wage, but no state income tax.",population:"1,377,529",costOfLivingRank:44}},{name:"New Jersey",minWage:15.13,medianBottom50Annual:59e3,costIndices:{housingIndex:1.3,foodIndex:1.1,utilitiesIndex:1.1,educationCostIndex:1.2},info:{summary:"New Jersey has a high cost of living, but also a high median income. It has a high minimum wage and a diverse economy.",population:"9,288,994",costOfLivingRank:42}},{name:"New Mexico",minWage:12,medianBottom50Annual:38e3,costIndices:{housingIndex:.9,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:1},info:{summary:"New Mexico has a low cost of living and a unique culture. It has a state minimum wage that is higher than the federal level.",population:"2,117,522",costOfLivingRank:21}},{name:"New York",minWage:16,medianBottom50Annual:61e3,costIndices:{housingIndex:1.7,foodIndex:1.2,utilitiesIndex:1.1,educationCostIndex:1.3},info:{summary:"New York has a very high cost of living, especially in New York City. It has a high minimum wage and a large, diverse economy.",population:"20,201,249",costOfLivingRank:48}},{name:"North Carolina",minWage:7.25,medianBottom50Annual:43e3,costIndices:{housingIndex:.95,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:1},info:{summary:"North Carolina has a moderate cost of living and a growing technology and research sector. It has a low minimum wage.",population:"10,439,388",costOfLivingRank:24}},{name:"North Dakota",minWage:7.25,medianBottom50Annual:47e3,costIndices:{housingIndex:.9,foodIndex:1,utilitiesIndex:1,educationCostIndex:1},info:{summary:"North Dakota has a low cost of living and a strong energy sector. It has a low minimum wage.",population:"779,094",costOfLivingRank:20}},{name:"Ohio",minWage:10.45,medianBottom50Annual:43e3,costIndices:{housingIndex:.8,foodIndex:.9,utilitiesIndex:1,educationCostIndex:1},info:{summary:"Ohio has a low cost of living and a strong manufacturing sector. It has a state minimum wage that is higher than the federal level.",population:"11,799,448",costOfLivingRank:13}},{name:"Oklahoma",minWage:7.25,medianBottom50Annual:39e3,costIndices:{housingIndex:.75,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:.9},info:{summary:"Oklahoma has a very low cost of living and a strong energy sector. It has a low minimum wage.",population:"3,959,353",costOfLivingRank:2}},{name:"Oregon",minWage:14.2,medianBottom50Annual:5e4,costIndices:{housingIndex:1.4,foodIndex:1.1,utilitiesIndex:1,educationCostIndex:1.2},info:{summary:"Oregon has a high cost of living, particularly for housing. It has a high minimum wage and a strong technology and outdoor recreation industry.",population:"4,237,256",costOfLivingRank:41}},{name:"Pennsylvania",minWage:7.25,medianBottom50Annual:46e3,costIndices:{housingIndex:.9,foodIndex:1,utilitiesIndex:1,educationCostIndex:1.1},info:{summary:"Pennsylvania has a moderate cost of living and a diverse economy. It has a low minimum wage.",population:"13,002,700",costOfLivingRank:25}},{name:"Rhode Island",minWage:14,medianBottom50Annual:54e3,costIndices:{housingIndex:1.2,foodIndex:1.1,utilitiesIndex:1.1,educationCostIndex:1.2},info:{summary:"Rhode Island has a high cost of living, but also a high median income. It has a high minimum wage.",population:"1,097,379",costOfLivingRank:38}},{name:"South Carolina",minWage:7.25,medianBottom50Annual:4e4,costIndices:{housingIndex:.85,foodIndex:.9,utilitiesIndex:1,educationCostIndex:1},info:{summary:"South Carolina has a low cost of living and a strong manufacturing and tourism industry. It has a low minimum wage.",population:"5,118,425",costOfLivingRank:18}},{name:"South Dakota",minWage:11.2,medianBottom50Annual:43e3,costIndices:{housingIndex:.85,foodIndex:.9,utilitiesIndex:1,educationCostIndex:1},info:{summary:"South Dakota has a low cost of living and a strong agricultural and tourism industry. It has a state minimum wage that is higher than the federal level.",population:"886,667",costOfLivingRank:17}},{name:"Tennessee",minWage:7.25,medianBottom50Annual:41e3,costIndices:{housingIndex:.85,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:1},info:{summary:"Tennessee has a low cost of living and a strong music and tourism industry. It has a low minimum wage.",population:"6,910,840",costOfLivingRank:19}},{name:"Texas",minWage:7.25,medianBottom50Annual:44e3,costIndices:{housingIndex:.9,foodIndex:.9,utilitiesIndex:1,educationCostIndex:1},info:{summary:"Texas has a moderate cost of living and a large, diverse economy. It has a low minimum wage.",population:"29,145,505",costOfLivingRank:23}},{name:"Utah",minWage:7.25,medianBottom50Annual:48e3,costIndices:{housingIndex:1.2,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:1.1},info:{summary:"Utah has a moderate cost of living and a strong technology and outdoor recreation industry. It has a low minimum wage.",population:"3,271,616",costOfLivingRank:33}},{name:"Vermont",minWage:13.67,medianBottom50Annual:51e3,costIndices:{housingIndex:1.15,foodIndex:1.1,utilitiesIndex:1.1,educationCostIndex:1.2},info:{summary:"Vermont has a high cost of living and a strong tourism and agriculture industry. It has a high minimum wage.",population:"643,077",costOfLivingRank:40}},{name:"Virginia",minWage:12,medianBottom50Annual:52e3,costIndices:{housingIndex:1.1,foodIndex:1,utilitiesIndex:1,educationCostIndex:1.1},info:{summary:"Virginia has a moderate cost of living and a diverse economy that includes technology, agriculture, and government. It has a state minimum wage that is higher than the federal level.",population:"8,631,393",costOfLivingRank:32}},{name:"Washington",minWage:16.28,medianBottom50Annual:57e3,costIndices:{housingIndex:1.5,foodIndex:1.1,utilitiesIndex:1,educationCostIndex:1.2},info:{summary:"Washington has a high cost of living, particularly for housing. It has a high minimum wage and a strong technology and aerospace industry.",population:"7,705,281",costOfLivingRank:42}},{name:"West Virginia",minWage:8.75,medianBottom50Annual:36e3,costIndices:{housingIndex:.7,foodIndex:.9,utilitiesIndex:.9,educationCostIndex:.9},info:{summary:"West Virginia has a low cost of living and a strong coal mining industry. It has a state minimum wage that is higher than the federal level.",population:"1,793,716",costOfLivingRank:6}},{name:"Wisconsin",minWage:7.25,medianBottom50Annual:46e3,costIndices:{housingIndex:.9,foodIndex:.9,utilitiesIndex:1,educationCostIndex:1.1},info:{summary:"Wisconsin has a moderate cost of living and a strong manufacturing and agriculture industry. It has a low minimum wage.",population:"5,893,718",costOfLivingRank:27}},{name:"Wyoming",minWage:7.25,medianBottom50Annual:45e3,costIndices:{housingIndex:.9,foodIndex:1,utilitiesIndex:.9,educationCostIndex:1},info:{summary:"Wyoming has a low cost of living and a strong mining and tourism industry. It has a low minimum wage.",population:"576,851",costOfLivingRank:28}}],E={housing:{roommate:{rent:750,happinessImpact:-10,healthImpact:-5,description:"Share a space with roommates to save on costs. Less privacy and potential conflicts."},cheapApartment:{rent:1100,happinessImpact:-5,healthImpact:0,description:"A basic apartment in a less desirable area. Functional but not fancy."},averageApartment:{rent:1600,happinessImpact:0,healthImpact:0,description:"A decent apartment in an average neighborhood with standard amenities."},niceApartment:{rent:2e3,happinessImpact:5,healthImpact:0,description:"A quality apartment with good amenities in a nice area."},houseRental:{rent:2500,happinessImpact:10,healthImpact:5,description:"A whole house with more space and privacy."}},food:{budget:65,basic:85,medium:140,premium:220,descriptions:{budget:"Bare minimum, lots of ramen. Limited fresh produce.",basic:"Simple home cooking, some fresh ingredients.",medium:"Balanced diet, regular fresh produce, occasional eating out.",premium:"High-quality groceries, regular restaurant meals."}},entertainment:{none:{cost:0,happinessImpact:-5,description:"No entertainment budget."},minimal:{cost:20,happinessImpact:0,description:"Occasional streaming service."},budget:{cost:40,happinessImpact:5,description:"Basic streaming and occasional outings."},moderate:{cost:80,happinessImpact:10,description:"Multiple services, occasional events."},deluxe:{cost:160,happinessImpact:15,description:"Regular dining out, shows, events."}},healthcare:{none:{cost:0,healthImpact:-10,description:"No health insurance. High risk."},minimal:{cost:30,healthImpact:-5,description:"Catastrophic coverage only."},basic:{cost:85,healthImpact:5,description:"Basic health insurance."},comprehensive:{cost:160,healthImpact:10,description:"Good health insurance."},premium:{cost:260,healthImpact:15,description:"Excellent health insurance."}},education:{none:{baseCost:0,skillImpact:0,description:"No investment in education."},selfLearning:{baseCost:20,skillImpact:1,description:"Self-directed learning."},onlineCourses:{baseCost:40,skillImpact:2,description:"Structured online courses."},communityClass:{baseCost:70,skillImpact:3,description:"In-person community classes."},nightSchool:{baseCost:110,skillImpact:5,description:"Formal evening education."},degreePath:{baseCost:220,skillImpact:8,description:"Working towards a degree."}},transportation:{bicycle:{weeklyCost:5,happinessImpact:2,healthImpact:5,description:"Cycling is cheap and healthy, but slow and weather-dependent."},publicTransit:{weeklyCost:30,happinessImpact:-5,description:"Using public transportation."},usedCar:{weeklyCost:70,happinessImpact:5,description:"Reliable used vehicle with expenses."},newCar:{weeklyCost:130,happinessImpact:10,description:"New vehicle with higher payments."},rideshare:{weeklyCost:110,happinessImpact:0,description:"Using rideshare services."}},family:{costPerDependent:160,happinessBonusPerDependent:5,descriptions:{dependent:"Each dependent adds expenses but can increase happiness."}},amenities:{basicUtilitiesPerMonth:270,internetPerMonth:80,cellPhonePerMonth:65,descriptions:{utilities:"Electricity, water, gas, trash.",internet:"Home internet service.",cellPhone:"Basic cell phone plan."}},wellbeing:{gym:{name:"Gym Session",description:"Hit the gym for a workout.",cost:25,healthBoost:5,happinessBoost:2},meditation:{name:"Meditation App",description:"Use a guided meditation app.",cost:10,healthBoost:1,happinessBoost:4},hobby:{name:"Engage in Hobby",description:"Spend time on a relaxing hobby.",cost:20,healthBoost:0,happinessBoost:6},natureWalk:{name:"Nature Walk",description:"Take a refreshing walk in nature.",cost:0,healthBoost:3,happinessBoost:3},therapy:{name:"Therapy Session",description:"Talk through issues with a professional.",cost:120,healthBoost:0,happinessBoost:15},weekendTrip:{name:"Weekend Trip",description:"A short getaway to de-stress.",cost:350,healthBoost:5,happinessBoost:25}},savings:{description:"Manage your savings account with interest."},investments:{safe:{name:"Safe Investments",description:"Low-risk options like bonds or CDs with steady returns.",baseReturnRate:.03,volatility:.01},balanced:{name:"Balanced Portfolio",description:"Mix of stocks and bonds for moderate growth and risk.",baseReturnRate:.06,volatility:.05},aggressive:{name:"Aggressive Stocks",description:"High-risk, high-reward stock investments with potential for big gains or losses.",baseReturnRate:.1,volatility:.15},realEstate:{name:"Real Estate",description:"Property investments with rental income potential, affected by market conditions.",baseReturnRate:.08,volatility:.08}},careers:{entry:{name:"Entry Level",incomeMultiplier:1,requiredProductivity:1,description:"Starting position with base pay."},mid:{name:"Mid Level",incomeMultiplier:1.3,requiredProductivity:3,description:"Promoted role with better pay."},senior:{name:"Senior Level",incomeMultiplier:1.7,requiredProductivity:5,description:"Experienced position with high pay."},executive:{name:"Executive Level",incomeMultiplier:2.2,requiredProductivity:8,description:"Top-tier role with premium pay."}}},jf=[{name:"Unexpected Bill",description:"An unexpected medical bill or repair cost.",chance:.05,costRange:[50,300],healthChange:-2,happinessChange:-5},{name:"Found Cash",description:"You found some cash on the street!",chance:.02,costRange:[-100,-20],happinessChange:5},{name:"Feeling Sick",description:"You're not feeling well this week.",chance:.08,costRange:[10,50],healthChange:-10,happinessChange:-5},{name:"Minor Accident",description:"A small fender bender or household accident causes minor repair costs.",chance:.03,costRange:[100,500],happinessChange:-8},{name:"Productivity Boost",description:"You had a particularly productive week at work!",chance:.04,happinessChange:3},{name:"Layoff Scare",description:"Rumors of layoffs at your workplace are causing stress.",chance:.02,happinessChange:-10},{name:"Actual Layoff",description:"Unfortunately, you've been laid off.",chance:.01,healthChange:-5,happinessChange:-20,effect:"layoff"},{name:"Sudden Celebration",description:"An unexpected celebration or social event.",chance:.03,costRange:[20,80],happinessChange:10},{name:"Child's School Event",description:"Your child has a school event that requires some spending.",chance:.05,costRange:[15,60],happinessChange:2,requiresChildren:!0},{name:"Winter Blues",description:"The cold weather is getting you down.",chance:.1,happinessChange:-5,seasonal:"winter"},{name:"Summer Fun Cost",description:"Extra costs for summer activities or higher AC bills.",chance:.08,costRange:[30,150],happinessChange:2,seasonal:"summer"},{name:"Gift from a Friend",description:"A friend gave you a thoughtful gift.",chance:.03,costRange:[-50,-20],happinessChange:10},{name:"Car Trouble",description:"Your car needs unexpected repairs.",chance:.04,costRange:[200,800],happinessChange:-10,requiresTransportation:"car"},{name:"Public Transit Delays",description:"Public transit is running late, causing you stress.",chance:.06,happinessChange:-5,requiresTransportation:"publicTransit"},{name:"Good News!",description:"You received some unexpected good news.",chance:.03,happinessChange:15},{name:"Bad News...",description:"You received some unexpected bad news.",chance:.03,happinessChange:-15},{name:"Workplace Conflict",description:"A conflict at work is causing you stress.",chance:.05,happinessChange:-10},{name:"Unexpected Day Off",description:"You get an unexpected day off from work.",chance:.02,happinessChange:10},{name:"Jury Duty",description:"You've been summoned for jury duty.",chance:.01,costRange:[50,100],happinessChange:-5},{name:"Won a Small Lottery",description:"You won a small amount in the lottery!",chance:.005,costRange:[-500,-100],happinessChange:20},{name:"Identity Theft Scare",description:"You had to spend time and money dealing with an identity theft scare.",chance:.01,costRange:[100,300],happinessChange:-15},{name:"Productivity Slump",description:"You're feeling unmotivated and your productivity takes a hit.",chance:.05,productivityChange:-.1,happinessChange:-5},{name:"Innovative Idea",description:"You came up with a brilliant idea that boosts your productivity.",chance:.02,productivityChange:.15,happinessChange:10}],bn=a(e=>e.replace(/([A-Z])/g," $1").replace(/^./,function(n){return n.toUpperCase()}),"formatChoice$1");var Nf=Object.defineProperty,bf=Object.defineProperties,If=Object.getOwnPropertyDescriptors,ar=Object.getOwnPropertySymbols,Sf=Object.prototype.hasOwnProperty,_f=Object.prototype.propertyIsEnumerable,sr=a((e,n,t)=>n in e?Nf(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,"__defNormalProp"),de=a((e,n)=>{for(var t in n||(n={}))Sf.call(n,t)&&sr(e,t,n[t]);if(ar)for(var t of ar(n))_f.call(n,t)&&sr(e,t,n[t]);return e},"__spreadValues"),he=a((e,n)=>bf(e,If(n)),"__spreadProps");const Ro=$.createContext(null),Et=a(()=>$.useContext(Ro),"useGame"),Mf=a(({children:e})=>{const[n,t]=$.useState(!1),[i,r]=$.useState(!1),o={location:null,wageType:null,monthlyIncome:0,currentWeek:1,balance:0,health:100,happiness:100,productivityLevel:1,productivityProgress:0,productivityThreshold:52,savingsBalance:0,savingsInterestRate:.005,monthlySavingsAllocation:0,dependents:0,housingChoice:null,chosenFoodOption:"basic",entertainmentOption:"none",healthcareOption:"none",educationOption:"none",transportationOption:"publicTransit",loans:[],laidOff:!1,weeksSurvived:0,latestEventMessage:"",investmentBalance:0,investmentReturnRate:.08,inflationRate:.03,investmentType:null,careerLevel:"entry"},[c,l]=$.useState(o),[d,h]=$.useState(null),u=a((g,v)=>{const x=typeof g=="number"?g:0,P=typeof v=="number"?v:x;return Math.floor(Math.random()*(P-x+1))+x},"randomBetween"),f=a((g,v,x)=>{const P=Te.find(T=>T.name===g);if(!P){console.error("State data not found for:",g,". Ensure statesData.js is populated."),x&&x("/simulation");return}let A;v==="minimum"?A=(P.minWage||0)*160:A=(P.medianBottom50Annual||0)/12,l(he(de({},o),{location:P,wageType:v,monthlyIncome:A,balance:A,latestEventMessage:`Simulation started in ${P.name}.`})),t(!1),r(!1),x?x("/game"):console.error("Navigate function missing in initializeGame.")},"initializeGame"),m=a(()=>{l(g=>he(de({},g),{dependents:g.dependents+1,latestEventMessage:"Added a dependent."}))},"addDependent"),p=a(()=>{l(g=>he(de({},g),{dependents:Math.max(0,g.dependents-1),latestEventMessage:"Removed a dependent."}))},"removeDependent"),y=a((g,v,x)=>{g<=0||v<0||x<=0||l(P=>he(de({},P),{balance:P.balance+g,loans:[...P.loans,{principal:g,interestRate:v,monthlyPayment:x}],latestEventMessage:`Took out loan: ${U(g)}.`}))},"takeLoan"),S=a(g=>{const v=Math.max(0,Number(g)||0);l(x=>he(de({},x),{monthlySavingsAllocation:v,latestEventMessage:`Monthly savings set to ${U(v)}.`}))},"setSavingsAllocation"),j=a(g=>{const v=Math.max(0,Number(g)||0);l(x=>x.balance<v?he(de({},x),{latestEventMessage:`Cannot deposit ${U(v)}. Insufficient balance.`}):he(de({},x),{balance:x.balance-v,savingsBalance:x.savingsBalance+v,latestEventMessage:`Deposited ${U(v)} to savings.`}))},"depositToSavings"),w=a(g=>{const v=Math.max(0,Number(g)||0);l(x=>x.savingsBalance<v?he(de({},x),{latestEventMessage:`Cannot withdraw ${U(v)}. Insufficient savings.`}):he(de({},x),{balance:x.balance+v,savingsBalance:x.savingsBalance-v,latestEventMessage:`Withdrew ${U(v)} from savings.`}))},"withdrawFromSavings"),_=a(g=>{l(v=>{const x=Math.max(0,Number(g)||0);return v.balance<x?he(de({},v),{latestEventMessage:`Cannot invest ${U(x)}. Insufficient balance.`}):v.investmentType?he(de({},v),{balance:v.balance-x,investmentBalance:v.investmentBalance+x,latestEventMessage:`Invested ${U(x)} in ${v.investmentType}.`}):he(de({},v),{latestEventMessage:"Please choose an investment type before investing."})})},"makeInvestment"),b=a(g=>{l(v=>{const x=Math.max(0,Number(g)||0);return v.investmentBalance<x?he(de({},v),{latestEventMessage:`Cannot withdraw ${U(x)}. Insufficient investment balance.`}):he(de({},v),{balance:v.balance+x,investmentBalance:v.investmentBalance-x,latestEventMessage:`Withdrew ${U(x)} from investments.`})})},"withdrawFromInvestment"),N=a(g=>{var v;(v=E.investments)!=null&&v[g]?l(x=>he(de({},x),{investmentType:g,latestEventMessage:`Selected ${E.investments[g].name} investment.`})):g==="none"&&l(x=>he(de({},x),{investmentType:null,latestEventMessage:"Cleared investment type."}))},"chooseInvestment"),I=a(g=>{const v=E.wellbeing[g];v&&l(x=>{if(x.balance<v.cost)return he(de({},x),{latestEventMessage:`Cannot afford ${v.name} (${U(v.cost)} needed).`});const P=Math.min(100,x.health+(v.healthBoost||0)),A=Math.min(100,x.happiness+(v.happinessBoost||0));return he(de({},x),{balance:x.balance-v.cost,health:P,happiness:A,latestEventMessage:`${v.name}: Cost ${U(v.cost)}. Health +${v.healthBoost||0}, Happiness +${v.happinessBoost||0}.`})})},"applyWellbeing"),M=a(()=>{n||i||l(g=>{var v,x,P,A,T,D,X,ne,le,te;let{balance:V,health:J,happiness:ie,productivityLevel:ye,productivityProgress:re,productivityThreshold:Me,savingsBalance:Q,savingsInterestRate:Tn,monthlySavingsAllocation:Ue,location:yn,wageType:ki,chosenFoodOption:un,housingChoice:dn,entertainmentOption:_n,healthcareOption:Mn,educationOption:Ln,transportationOption:Bn,dependents:Cn,loans:En,laidOff:wn,currentWeek:Qn,weeksSurvived:k,investmentBalance:C,investmentReturnRate:B,inflationRate:ue,investmentType:oe,careerLevel:ce}=g,q="";if(!(yn!=null&&yn.costIndices)||!yn.name)return t(!0),he(de({},g),{latestEventMessage:"Critical Error: Location Data Missing!"});const{costIndices:fe}=yn;(jf||[]).forEach(se=>{var Wn,Pi;if(!se||typeof se.chance!="number")return;let pe=Math.random()<se.chance;if(se.requiresChildren&&Cn===0&&(pe=!1),se.seasonal){const be=Qn%52,Nn=be<10||be>42?"winter":be<20?"spring":be<36?"summer":"autumn";pe=pe&&se.seasonal===Nn&&Math.random()<.5}if(pe){const be=u((Wn=se.costRange)==null?void 0:Wn[0],(Pi=se.costRange)==null?void 0:Pi[1]);V-=be,J+=se.healthChange||0,ie+=se.happinessChange||0,se.effect==="layoff"&&(wn=!0),se.productivityChange&&(re+=se.productivityChange*Me,re<0&&(re=0),q=q||`${se.name}: Productivity ${se.productivityChange>0?"boost":"slump"}.`),q=`${se.name}: ${be>=0?`Cost ${U(be)}`:`Gain ${U(Math.abs(be))}`}${se.healthChange?`, Health ${se.healthChange>0?"+":""}${se.healthChange}`:""}${se.happinessChange?`, Happiness ${se.happinessChange>0?"+":""}${se.happinessChange}`:""}${se.effect==="layoff"?" (Laid Off!)":""}`}}),un&&((v=E.food)!=null&&v[un])&&(V-=E.food[un]*(fe.foodIndex||1),un==="budget"?(J-=5,ie-=5):un==="basic"?(J-=2,ie-=1):un==="medium"?(J+=2,ie+=2):un==="premium"&&(J+=5,ie+=5)),_n&&((x=E.entertainment)!=null&&x[_n])&&(V-=E.entertainment[_n].cost||0,ie+=E.entertainment[_n].happinessImpact||0),Mn&&((P=E.healthcare)!=null&&P[Mn])&&(V-=E.healthcare[Mn].cost||0,J+=E.healthcare[Mn].healthImpact||0),Ln&&Ln!=="none"&&((A=E.education)!=null&&A[Ln])&&(V-=(E.education[Ln].baseCost||0)*(fe.educationCostIndex||1)),Bn&&((T=E.transportation)!=null&&T[Bn])&&(V-=E.transportation[Bn].weeklyCost||0,ie+=E.transportation[Bn].happinessImpact||0),Cn>0&&((D=E.family)!=null&&D.costPerDependent)&&(V-=E.family.costPerDependent*Cn,ie+=(E.family.happinessBonusPerDependent||0)*Cn),E.careers[ce];const Oe=Object.keys(E.careers),me=Oe.indexOf(ce);if(me<Oe.length-1){const se=E.careers[Oe[me+1]];ye>=se.requiredProductivity&&(ce=Oe[me+1],q=q||`Promoted to ${se.name}! Income increased.`)}let Ce=0;ki==="minimum"?Ce=(yn.minWage||0)*160:Ce=(yn.medianBottom50Annual||0)/12;const Fn=1+(ye-1)*.05,jn=((X=E.careers[ce])==null?void 0:X.incomeMultiplier)||1;let hn=Ce*Fn*jn;const Qe=Qn+1;if(Qe%4===1){let se=hn;if(wn?(se/=2,wn=!1,q=q||`Paycheck reduced: ${U(se)}`):q=q||`Paycheck: ${U(se)}`,V+=se,dn&&((ne=E.housing)!=null&&ne[dn])){const pe=(E.housing[dn].rent||0)*(fe.housingIndex||1);V-=pe,ie+=E.housing[dn].happinessImpact||0,J+=E.housing[dn].healthImpact||0}if(E.amenities&&(V-=(E.amenities.basicUtilitiesPerMonth||0)*(fe.utilitiesIndex||1),V-=E.amenities.internetPerMonth||0,V-=E.amenities.cellPhonePerMonth||0),Q>0){const pe=Q*(Tn/12);Q+=pe,pe>.01&&(q=q||`Savings interest: +${U(pe)}`)}if(Ue>0&&(V>=Ue?(V-=Ue,Q+=Ue,q=q||`${U(Ue)} moved to savings.`):q=q||`Could not save ${U(Ue)}.`),C>0&&oe){const pe=E.investments[oe];if(pe){const be=pe.baseReturnRate/12,Nn=pe.volatility/12,Ai=u(-Nn*100,Nn*100)/100,et=be+Ai,kt=C*et;C+=kt,Math.abs(kt)>.01&&(q=q||`Investment ${kt>=0?"gain":"loss"}: ${U(kt)}.`)}}ue>0&&(q=q||`Inflation: Expenses increased by ${(ue*100/12).toFixed(2)}%.`);let Wn=0;En=(En||[]).map(pe=>{if(!pe||typeof pe.principal!="number"||typeof pe.monthlyPayment!="number"||typeof pe.interestRate!="number")return null;let be=pe.principal;const Nn=be*(pe.interestRate/12);Math.max(0,pe.monthlyPayment-Nn);const Ai=Math.min(pe.monthlyPayment,be+Nn),et=Math.min(Ai,V);return V-=et,Wn+=et,be-=Math.max(0,et-Nn),be=Math.max(0,be),he(de({},pe),{principal:be})}).filter(pe=>pe&&pe.principal>.01),Wn>0&&(q=q||`Paid ${U(Wn)} towards loans.`)}J>50&&J<100?J+=1:J<50&&J>0&&(J-=1);const Ye=50+(dn?((te=(le=E.housing)==null?void 0:le[dn])==null?void 0:te.happinessImpact)||0:-10)+(_n!=="none"?5:-5)+(Mn!=="none"?5:-5)+Cn*2;ie<Ye&&ie<100?ie+=2:ie>Ye&&ie>0&&(ie-=1),J=Math.max(0,Math.min(100,J)),ie=Math.max(0,Math.min(100,ie)),re+=1,re>=Me&&(ye+=1,re=0,Me=Math.ceil(Me*1.2),q=q||`Productivity Level ${ye}!`);const en=q||`Week ${Qn} ended.`;return V<-(hn*.5||500)||J<=0||ie<=0?(t(!0),he(de({},g),{balance:V,health:J,happiness:ie,productivityLevel:ye,monthlyIncome:hn,currentWeek:Qe,weeksSurvived:k,loans:En,laidOff:wn,latestEventMessage:"Game Over!"})):k+1>=52?(r(!0),he(de({},g),{balance:V,health:J,happiness:ie,productivityLevel:ye,monthlyIncome:hn,currentWeek:Qe,weeksSurvived:k+1,loans:En,laidOff:wn,latestEventMessage:"You survived the year!"})):he(de({},g),{balance:V,health:J,happiness:ie,productivityLevel:ye,productivityProgress:re,productivityThreshold:Me,savingsBalance:Q,monthlySavingsAllocation:Ue,monthlyIncome:hn,currentWeek:Qe,weeksSurvived:k+1,loans:En,laidOff:wn,latestEventMessage:en,careerLevel:ce})})},"nextWeek"),O=a(g=>{var v;(v=E.housing)!=null&&v[g]&&l(x=>he(de({},x),{housingChoice:g}))},"chooseHousing"),F=a(g=>{var v;(v=E.food)!=null&&v[g]&&l(x=>he(de({},x),{chosenFoodOption:g}))},"chooseFoodOption"),G=a(g=>{var v;(v=E.entertainment)!=null&&v[g]&&l(x=>he(de({},x),{entertainmentOption:g}))},"chooseEntertainment"),K=a(g=>{var v;(v=E.healthcare)!=null&&v[g]&&l(x=>he(de({},x),{healthcareOption:g}))},"chooseHealthcare"),z=a(g=>{l(v=>{var x;if(g==="none")return he(de({},v),{educationOption:g,latestEventMessage:"Education choice reset."});const P=(x=E.education)==null?void 0:x[g];if(P){let A=v.productivityProgress+(P.skillImpact||0),T=v.productivityLevel,D=v.productivityThreshold,X=`Chose ${bn(g)} education.`;return A>=D&&(T+=1,A=A-D,D=Math.ceil(D*1.2),X+=` Productivity Level increased to ${T}!`),he(de({},v),{educationOption:g,productivityProgress:A,productivityLevel:T,productivityThreshold:D,latestEventMessage:X})}return v})},"chooseEducation"),Z=a(g=>{var v;(v=E.transportation)!=null&&v[g]&&l(x=>he(de({},x),{transportationOption:g}))},"chooseTransportation"),U=a(g=>((typeof g!="number"||isNaN(g))&&(g=0),g.toLocaleString("en-US",{style:"currency",currency:"USD"})),"formatCurrency");return s.jsx(Ro.Provider,{value:{playerState:c,gameOver:n,win:i,selectedMapState:d,setSelectedMapState:h,initializeGame:f,nextWeek:M,chooseHousing:O,chooseFoodOption:F,chooseEntertainment:G,chooseHealthcare:K,chooseEducation:z,chooseTransportation:Z,addDependent:m,removeDependent:p,takeLoan:y,setSavingsAllocation:S,depositToSavings:j,withdrawFromSavings:w,makeInvestment:_,withdrawFromInvestment:b,chooseInvestment:N,applyWellbeing:I,inflationRate:c.inflationRate},children:e})},"GameProvider"),Cf="https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json",Ef=a(()=>{const{setSelectedMapState:e}=Et(),n=or(),[t,i]=$.useState("costOfLiving"),[r,o]=$.useState(""),[c,l]=$.useState(null),[d,h]=$.useState(null),[u,f]=$.useState({x:0,y:0}),[m,p]=$.useState(!0),y=$.useRef(null);$.useEffect(()=>{setTimeout(()=>{p(!1)},500)},[]);const S=Te.reduce((N,I)=>(N[I.name]=I,N),{}),j=a(N=>{const I=N.properties.name,M=S[I];M&&(h(M),e(M),n(`/start/${M.name}`))},"handleStateClick"),w=a(N=>{if(y.current){const I=y.current.getBoundingClientRect();f({x:N.clientX-I.left,y:N.clientY-I.top})}},"handleMouseMove"),_=a(N=>{const I=S[N];if(!I||!I.costIndices)return"#ECEFF1";switch(t){case"costOfLiving":const M=I.costIndices.housingIndex||1;return M>=1.5?"#1a237e":M>=1.2?"#303f9f":M>=1?"#5c6bc0":M>=.8?"#9fa8da":"#c5cae9";case"minWage":const O=I.minWage||0;return O>=15?"#1b5e20":O>=12?"#388e3c":O>=10?"#66bb6a":O>=8?"#a5d6a7":"#c8e6c9";case"medianIncome":const F=I.medianBottom50Annual||0;return F>=6e4?"#4a148c":F>=55e3?"#7b1fa2":F>=5e4?"#ab47bc":F>=45e3?"#ce93d8":"#e1bee7";default:return"#9e9e9e"}},"getStateColor"),b=a(N=>{if(!N||!N.costIndices)return"";switch(t){case"costOfLiving":return`Housing Index: ${N.costIndices.housingIndex||"N/A"}`;case"minWage":return`Min Wage: ${(N.minWage||0).toFixed(2)}/hr`;case"medianIncome":return`Median Income: ${Math.round((N.medianBottom50Annual||0)/1e3)}k`;default:return""}},"getDataLabel");return m?s.jsx("div",{className:"loading-container",children:s.jsx("h1",{children:"Loading Map..."})}):s.jsxs("div",{className:"map-page-container fade-in",onMouseMove:w,children:[s.jsxs("div",{className:"map-header",children:[s.jsx("h1",{children:"Select Your Starting State"}),s.jsx("p",{className:"map-description",children:"Economic conditions vary greatly. Choose a state to begin your simulation."}),s.jsxs("div",{className:"map-controls",children:[s.jsx("div",{className:"search-container",children:s.jsx("input",{type:"text",placeholder:"Search for a state...",value:r,onChange:a(N=>o(N.target.value),"onChange"),className:"search-input"})}),s.jsxs("div",{className:"filter-controls",children:[s.jsx("span",{children:"View by:"}),s.jsxs("div",{className:"filter-buttons",children:[" ",s.jsx("button",{className:t==="costOfLiving"?"active":"",onClick:a(()=>i("costOfLiving"),"onClick"),children:"Cost of Living"})," ",s.jsx("button",{className:t==="minWage"?"active":"",onClick:a(()=>i("minWage"),"onClick"),children:"Minimum Wage"})," ",s.jsx("button",{className:t==="medianIncome"?"active":"",onClick:a(()=>i("medianIncome"),"onClick"),children:"Median Income"})," "]})]})]})]}),s.jsxs("div",{className:"map-legend",children:[" ",s.jsx("p",{children:"Legend: Color intensity indicates higher values for the selected filter."})," "]}),s.jsxs("div",{className:"map-container",ref:y,children:[s.jsx(Za,{projection:"geoAlbersUsa",children:s.jsxs(Qa,{zoom:.8,center:[-98,39],children:[" ",s.jsx(Va,{geography:Cf,children:a(({geographies:N})=>N.map(I=>{const M=I.properties.name,O=S[M];return s.jsx(uf,{geography:I,fill:_(M),stroke:"#FFF",strokeWidth:.5,style:{default:{outline:"none"},hover:{outline:"none",fill:"#FFD54F"},pressed:{outline:"none"}},onMouseEnter:a(()=>{O&&l(O)},"onMouseEnter"),onMouseLeave:a(()=>l(null),"onMouseLeave"),onClick:a(()=>j(I),"onClick")},I.rsmKey)}),"children")})]})}),c&&s.jsxs("div",{className:"map-tooltip",style:{left:u.x+10,top:u.y+10},children:[" ",s.jsx("h3",{children:c.name})," ",s.jsx("p",{children:b(c)})," ",s.jsx("p",{className:"tooltip-hint",children:"Click state to select"})," "]})]}),d&&s.jsxs("div",{className:"state-details-card-map",children:[" ",s.jsxs("div",{className:"state-details-header",children:[s.jsx("h2",{children:d.name}),s.jsx("button",{className:"close-button",onClick:a(()=>h(null),"onClick"),children:"Ã—"})]}),s.jsxs("div",{className:"state-details-content",children:[s.jsxs("p",{children:["Minimum Wage: $",d.minWage.toFixed(2),"/hr"]}),s.jsxs("p",{children:["Median Income (Bottom 50%): $",d.medianBottom50Annual.toLocaleString(),"/year"]}),s.jsxs("p",{children:["Housing Index: ",d.costIndices.housingIndex," (Nat'l Avg = 1)"]}),s.jsx(Be,{to:`/start/${d.name}`,className:"button primary",style:{marginTop:"1rem"},children:"Start Simulation Here"})]})]}),s.jsxs("div",{className:"state-list-container",children:[s.jsx("h2",{children:"Or Select from a List:"}),s.jsx("ul",{className:"state-list",children:Te.filter(N=>N.name.toLowerCase().includes(r.toLowerCase())).map(N=>s.jsx("li",{onClick:a(()=>j({properties:{name:N.name}}),"onClick"),children:N.name},N.name))})]}),s.jsx("footer",{className:"map-footer",children:s.jsx("p",{children:"Data sources: U.S. Bureau of Labor Statistics, U.S. Census Bureau (Simulated 2025 Data)"})})]})},"MapPage"),kf=a(({message:e,type:n="info",duration:t=3e3,onClose:i})=>{const[r,o]=$.useState(!1);return $.useEffect(()=>{if(e){o(!0);const c=setTimeout(()=>{o(!1),i&&i()},t);return()=>clearTimeout(c)}},[e,t,i]),!r||!e?null:s.jsx("div",{className:`notification notification-${n} ${r?"notification-visible":""}`,children:s.jsxs("div",{className:"notification-content",children:[s.jsx("span",{className:"notification-message",children:e}),s.jsx("button",{className:"notification-close",onClick:a(()=>{o(!1),i&&i()},"onClick"),"aria-label":"Close notification",children:"Ã—"})]})})},"Notification"),$o=$.createContext(),ns=a(()=>{const e=$.useContext($o);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},"useNotification"),Pf=a(({children:e})=>{const[n,t]=$.useState([]),i=a((u,f="info",m=3e3)=>{const p=Date.now()+Math.random(),y={id:p,message:u,type:f,duration:m};return t(S=>[...S,y]),setTimeout(()=>{r(p)},m),p},"showNotification"),r=a(u=>{t(f=>f.filter(m=>m.id!==u))},"removeNotification"),h={showNotification:i,removeNotification:r,showError:a((u,f=5e3)=>i(u,"error",f),"showError"),showSuccess:a((u,f=3e3)=>i(u,"success",f),"showSuccess"),showWarning:a((u,f=4e3)=>i(u,"warning",f),"showWarning"),showInfo:a((u,f=3e3)=>i(u,"info",f),"showInfo")};return s.jsxs($o.Provider,{value:h,children:[e,n.map(u=>s.jsx(kf,{message:u.message,type:u.type,duration:u.duration,onClose:a(()=>r(u.id),"onClose")},u.id))]})},"NotificationProvider"),rr=a(()=>{var e,n,t;const{stateName:i}=cr(),r=or(),{initializeGame:o,selectedMapState:c}=Et(),{showError:l}=ns(),[d,h]=$.useState(()=>{if(c)return c;if(i){const I=Te.find(M=>M.name===i);if(I)return I}return Te.length>0?Te[0]:null}),[u,f]=$.useState("minimum"),[m,p]=$.useState("balanced"),[y,S]=$.useState(!0);$.useEffect(()=>{let I=null;c?I=c:i&&(I=Te.find(M=>M.name===i)),I&&I.name!==(d==null?void 0:d.name)?h(I):!d&&Te.length>0&&h(Te[0])},[i,c,d]);const j=a(()=>{if(!d){l("Error: No state selected. Please go back to the map and choose a state."),r("/simulation");return}o(d.name,u,r)},"handleStartGame"),w=a((I,M)=>I?M==="minimum"?(I.minWage||0)*160:(I.medianBottom50Annual||0)/12:0,"calculateMonthlyIncome"),_=a(()=>{S(!y)},"toggleIntro"),b={young:{name:"Young Adult",description:"Higher health, lower starting income.",healthBonus:20,incomeMultiplier:.8},experienced:{name:"Experienced Worker",description:"Higher income, lower health recovery.",healthBonus:-10,incomeMultiplier:1.2},balanced:{name:"Balanced",description:"Standard starting stats.",healthBonus:0,incomeMultiplier:1}};if(!d)return s.jsxs("div",{className:"start-screen-container fade-in",children:[s.jsx("p",{className:"loading-message",children:"Loading state information or no state data available..."}),s.jsx("p",{children:"Please ensure `statesData.js` is correctly populated."}),s.jsx(Be,{to:"/simulation",className:"button primary",style:{marginTop:"20px"},children:"Return to Map"})]});const N=w(d,u);return s.jsxs("div",{className:"start-screen-container fade-in",children:[s.jsxs("div",{className:"header-section",children:[s.jsx("h1",{children:"Cost of Living Simulator"}),s.jsx("p",{className:"byline",children:"By: Mason Smith"}),s.jsx("p",{className:"tagline",children:"Experience the economic realities of living in different states"})]}),y?s.jsx("div",{className:"intro-section",children:s.jsxs("div",{className:"intro-content",children:[s.jsx("h2",{children:"About This Simulation"}),s.jsx("p",{children:"Welcome to the Cost of Living Simulator - an educational tool designed to help you understand the diverse economic conditions across the United States. This simulation uses data (ideally for 2025) to create a realistic experience of managing finances in different parts of the country."}),s.jsxs("div",{className:"intro-features",children:[s.jsxs("div",{className:"feature",children:[s.jsx("h3",{children:"Realistic Economics"}),s.jsx("p",{children:"Experience true-to-life minimum wages, housing costs, and income levels that vary by state. See how far your dollar stretches."})]}),s.jsxs("div",{className:"feature",children:[s.jsx("h3",{children:"Educational Purpose"}),s.jsx("p",{children:"Aims to raise awareness about cost of living differences, economic inequality, and financial literacy in an interactive format."})]}),s.jsxs("div",{className:"feature",children:[s.jsx("h3",{children:"Real-World Challenges"}),s.jsx("p",{children:"Face unexpected expenses, make tough budgeting decisions, and learn how regional economic factors impact daily life."})]})]}),s.jsx("button",{className:"start-button",onClick:_,children:"Continue to Simulation Setup"})]})}):s.jsx("div",{className:"setup-section",children:s.jsxs("div",{className:"setup-content",children:[s.jsx("h2",{children:"Confirm Your Simulation"})," ",s.jsxs("div",{className:"selection-area",children:[s.jsxs("div",{className:"state-selection",children:[s.jsx("h3",{children:"Choose Your State"}),s.jsx("select",{value:d.name,onChange:a(I=>{const M=Te.find(O=>O.name===I.target.value);M&&h(M)},"onChange"),children:Te.map(I=>s.jsx("option",{value:I.name,children:I.name},I.id||I.name))}),s.jsxs("div",{className:"state-preview",children:[s.jsxs("div",{className:"state-info",children:[s.jsx("h4",{children:d.name}),s.jsxs("div",{className:"state-metrics",children:[s.jsxs("div",{className:"metric",children:[s.jsx("span",{className:"metric-label",children:"Population:"}),s.jsx("span",{className:"metric-value",children:((e=d.info)==null?void 0:e.population)||"N/A"})]}),s.jsxs("div",{className:"metric",children:[s.jsx("span",{className:"metric-label",children:"Cost of Living:"}),s.jsx("span",{className:"metric-value",children:((n=d.info)==null?void 0:n.costOfLivingRank)||"N/A"})]}),s.jsxs("div",{className:"metric",children:[s.jsx("span",{className:"metric-label",children:"Minimum Wage:"}),s.jsxs("span",{className:"metric-value",children:["$",(d.minWage||0).toFixed(2),"/hr"]})]}),s.jsxs("div",{className:"metric",children:[s.jsx("span",{className:"metric-label",children:"Median Income:"}),s.jsxs("span",{className:"metric-value",children:["$",Math.round((d.medianBottom50Annual||0)/1e3),"k/year"]})]})]})]}),s.jsx("div",{className:"state-summary",children:((t=d.info)==null?void 0:t.summary)||"No summary available."})]})]}),s.jsxs("div",{className:"income-selection",children:[s.jsx("h3",{children:"Choose Your Income Level"}),s.jsxs("div",{className:"income-options",children:[s.jsxs("button",{className:`income-option ${u==="minimum"?"active":""}`,onClick:a(()=>f("minimum"),"onClick"),children:[s.jsx("div",{className:"income-option-title",children:"Minimum Wage"}),s.jsxs("div",{className:"income-option-amount",children:["$",(d.minWage||0).toFixed(2),"/hr"]}),s.jsxs("div",{className:"income-option-monthly",children:["$",Math.round((d.minWage||0)*160),"/month"]}),s.jsx("div",{className:"income-option-desc",children:"Experience living on the minimum legal wage in this state."})]}),s.jsxs("button",{className:`income-option ${u==="median"?"active":""}`,onClick:a(()=>f("median"),"onClick"),children:[s.jsx("div",{className:"income-option-title",children:"Median Income"}),s.jsxs("div",{className:"income-option-amount",children:["$",Math.round((d.medianBottom50Annual||0)/1e3),"k/year"]}),s.jsxs("div",{className:"income-option-monthly",children:["$",Math.round((d.medianBottom50Annual||0)/12),"/month"]}),s.jsx("div",{className:"income-option-desc",children:"Live on the median income for the lower 50% of earners."})]})]})]}),s.jsxs("div",{className:"trait-selection",children:[s.jsx("h3",{children:"Choose Your Avatar Trait"}),s.jsx("div",{className:"trait-options",children:Object.entries(b).map(([I,M])=>s.jsxs("button",{className:`trait-option ${m===I?"active":""}`,onClick:a(()=>p(I),"onClick"),children:[s.jsx("div",{className:"trait-title",children:M.name}),s.jsx("div",{className:"trait-desc",children:M.description}),s.jsxs("div",{className:"trait-effects",children:["Health: ",M.healthBonus>0?"+":"",M.healthBonus,", Income: x",M.incomeMultiplier.toFixed(1)]})]},I))})]})]}),s.jsxs("div",{className:"simulation-preview",children:[s.jsx("h3",{children:"Simulation Preview"}),s.jsxs("div",{className:"preview-container",children:[s.jsxs("div",{className:"preview-stat",children:[s.jsx("div",{className:"preview-label",children:"Location"}),s.jsx("div",{className:"preview-value",children:d.name})]}),s.jsxs("div",{className:"preview-stat",children:[s.jsx("div",{className:"preview-label",children:"Income"}),s.jsxs("div",{className:"preview-value",children:["$",N.toFixed(2),"/month"]})]}),s.jsxs("div",{className:"preview-stat",children:[s.jsx("div",{className:"preview-label",children:"Type"}),s.jsx("div",{className:"preview-value",children:u==="minimum"?"Min Wage":"Median"})]}),s.jsxs("div",{className:"preview-stat",children:[s.jsx("div",{className:"preview-label",children:"Trait"}),s.jsx("div",{className:"preview-value",children:b[m].name})]}),s.jsxs("div",{className:"preview-stat",children:[s.jsx("div",{className:"preview-label",children:"Balance"}),s.jsxs("div",{className:"preview-value",children:["$",N.toFixed(2)]})]}),s.jsxs("div",{className:"preview-stat",children:[s.jsx("div",{className:"preview-label",children:"Goal"}),s.jsx("div",{className:"preview-value",children:"Survive 52 weeks"})]})]})]}),s.jsxs("div",{className:"action-buttons",children:[s.jsx("button",{className:"start-button",onClick:j,children:"Start Simulation"}),s.jsx("button",{className:"back-button",onClick:_,children:"Back to Introduction"})]})]})}),s.jsxs("div",{className:"footer-section",children:[s.jsxs("div",{className:"disclaimer",children:[s.jsx("strong",{children:"Educational Disclaimer:"})," This simulation is for educational purposes and uses approximated data."]}),s.jsx("div",{className:"navigation-links",children:s.jsx(Be,{to:"/simulation",className:"link",children:"Back to Map"})}),s.jsx("div",{className:"data-sources",children:"Data sources: U.S. Bureau of Labor Statistics, U.S. Census Bureau (Simulated 2025 Data)"})]})]})},"StartScreen");function Af(){const{playerState:e,nextWeek:n,chooseHousing:t,chooseFoodOption:i,chooseEntertainment:r,chooseHealthcare:o,chooseEducation:c,chooseTransportation:l,addDependent:d,removeDependent:h,takeLoan:u,setSavingsAllocation:f,depositToSavings:m,withdrawFromSavings:p,withdrawFromInvestment:y,chooseInvestment:S,makeInvestment:j,applyWellbeing:w}=Et(),{showError:_,showSuccess:b}=ns(),[N,I]=$.useState(null),[M,O]=$.useState(0),[F,G]=$.useState(0),[K,z]=$.useState(!0),[Z,U]=$.useState(1e3),[g,v]=$.useState(.05),[x,P]=$.useState(200),[A,T]=$.useState(0),[D,X]=$.useState(e.monthlySavingsAllocation||0),ne=[{id:"housing",label:"Housing",icon:"ðŸ "},{id:"food",label:"Food",icon:"ðŸŽ"},{id:"healthcare",label:"Healthcare",icon:"ðŸ¥"},{id:"transportation",label:"Transport",icon:"ðŸš—"},{id:"entertainment",label:"Entertainment",icon:"ðŸŽ®"},{id:"education",label:"Education",icon:"ðŸ“š"},{id:"wellbeing",label:"Wellbeing",icon:"ðŸ§˜"},{id:"family",label:"Family",icon:"ðŸ‘ª"},{id:"savings",label:"Savings",icon:"ðŸ¦"},{id:"loans",label:"Loans",icon:"ðŸ’°"},{id:"investments",label:"Investments",icon:"ðŸ“ˆ"}];$.useEffect(()=>{X(e.monthlySavingsAllocation)},[e.monthlySavingsAllocation]);const le=a(()=>{n()},"handleNextWeek"),te=a(k=>k>=80?"excellent":k>=60?"good":k>=40?"fair":k>=20?"poor":"critical","getBarColor"),V=a(k=>{I(k===N?null:k)},"handleActionSelect"),J=a((k,C)=>{switch(C==="education"&&console.log(`handleOptionSelect called for education: key=${k}, optionType=${C}`),C){case"housing":t(k);break;case"food":i(k);break;case"healthcare":o(k);break;case"entertainment":r(k);break;case"education":c(k);break;case"transportation":l(k);break;case"investments":S(k);break;default:console.warn("Unknown option type:",C);break}},"handleOptionSelect"),ie=a(()=>{if(!Z||Z<=0||!g||g<0||!x||x<=0){_("Please enter valid loan details (amount > 0, rate >= 0, payment > 0).");return}const k=Z*g/12;if(g>0&&x<=k){_(`Monthly payment (${Q(x)}) must be greater than the first month's interest (${Q(k)}) to reduce principal.`);return}u(Z,g,x),U(1e3),v(.05),P(200)},"handleTakeLoan"),ye=a(()=>{const k=Number(D);if(isNaN(k)||k<0){_("Please enter a valid non-negative amount for savings allocation.");return}f(k)},"handleSetAllocation"),re=a(k=>{const C=Number(A);if(isNaN(C)||C<=0){_("Please enter a valid positive amount.");return}k==="deposit"?m(C):k==="withdraw"&&p(C),T(0)},"handleSavingsAction"),Me=a(()=>{var k;const{location:C,housingChoice:B,chosenFoodOption:ue,healthcareOption:oe,educationOption:ce,entertainmentOption:q,transportationOption:fe,dependents:Oe,loans:me,currentWeek:Ce,inflationRate:Fn}=e;if(!(C!=null&&C.costIndices))return{weekly:0,monthly:0,total:0};const jn=C.costIndices,hn=Math.floor(Ce/4),Qe=Math.pow(1+Fn/12,hn);let Ye=0;ue&&E.food[ue]&&(Ye+=(E.food[ue]||0)*(jn.foodIndex||1)),oe&&oe!=="none"&&E.healthcare[oe]&&(Ye+=E.healthcare[oe].cost||0),q&&q!=="none"&&E.entertainment[q]&&(Ye+=E.entertainment[q].cost||0),ce&&ce!=="none"&&E.education[ce]&&(Ye+=(E.education[ce].baseCost||0)*(jn.educationCostIndex||1)),fe&&E.transportation[fe]&&(Ye+=E.transportation[fe].weeklyCost||0),Oe>0&&((k=E.family)!=null&&k.costPerDependent)&&(Ye+=(E.family.costPerDependent||0)*Oe);let en=0;B&&E.housing[B]&&(en+=(E.housing[B].rent||0)*(jn.housingIndex||1)),E.amenities&&(en+=(E.amenities.basicUtilitiesPerMonth||0)*(jn.utilitiesIndex||1),en+=E.amenities.internetPerMonth||0,en+=E.amenities.cellPhonePerMonth||0),en+=(me||[]).reduce((as,se)=>as+((se==null?void 0:se.monthlyPayment)||0),0),Ye*=Qe,en*=Qe;const is=Ye+en/4.33;return{weekly:Ye,monthly:en,total:is}},"calculateMonthlyExpenses"),Q=a(k=>((typeof k!="number"||isNaN(k))&&(k=0),k.toLocaleString("en-US",{style:"currency",currency:"USD"})),"formatCurrency"),Tn=a(()=>{var k;return!E.housing||!((k=e.location)!=null&&k.costIndices)?s.jsx("p",{children:"Housing data unavailable."}):Object.entries(E.housing).map(([C,B])=>{if(!B)return null;const ue=(B.rent||0)*e.location.costIndices.housingIndex,oe=e.housingChoice===C;return s.jsxs("div",{className:`option-card ${oe?"selected":""}`,onClick:a(()=>J(C,"housing"),"onClick"),role:"button",tabIndex:0,"aria-pressed":oe,children:[" ",s.jsxs("div",{className:"option-header",children:[s.jsx("h4",{children:bn(C)}),oe&&s.jsx("span",{className:"selected-badge",children:"Current"})]}),s.jsxs("div",{className:"option-details",children:[s.jsxs("div",{className:"option-cost",children:[s.jsx("strong",{children:Q(ue)}),s.jsx("span",{className:"option-percent",children:" /month"})]}),s.jsxs("div",{className:"option-effects",children:[B.happinessImpact!==void 0&&s.jsxs("div",{className:`option-effect ${B.happinessImpact>=0?"positive":"negative"}`,children:["Happiness: ",B.happinessImpact>=0?"+":"",B.happinessImpact]}),B.healthImpact!==void 0&&s.jsxs("div",{className:`option-effect ${B.healthImpact>=0?"positive":"negative"}`,children:["Health: ",B.healthImpact>=0?"+":"",B.healthImpact]})]})]}),s.jsx("div",{className:"option-description",children:B.description||"No description."})]},`housing-${C}`)})},"renderHousingOptions"),Ue=a(()=>{var k;return!E.food||!E.food.descriptions||!((k=e.location)!=null&&k.costIndices)?s.jsx("p",{children:"Food data unavailable."}):Object.entries(E.food).filter(([C])=>C!=="descriptions").map(([C,B])=>{if(typeof B!="number")return null;const ue=B*e.location.costIndices.foodIndex,oe=e.chosenFoodOption===C,ce=E.food.descriptions[C]||"No description.";let q=0,fe=0;return C==="budget"?(q=-5,fe=-5):C==="basic"?(q=-2,fe=-1):C==="medium"?(q=2,fe=2):C==="premium"&&(q=5,fe=5),s.jsxs("div",{className:`option-card ${oe?"selected":""}`,onClick:a(()=>J(C,"food"),"onClick"),role:"button",tabIndex:0,"aria-pressed":oe,children:[" ",s.jsxs("div",{className:"option-header",children:[s.jsx("h4",{children:bn(C)}),oe&&s.jsx("span",{className:"selected-badge",children:"Current"})]}),s.jsxs("div",{className:"option-details",children:[s.jsxs("div",{className:"option-cost",children:[s.jsx("strong",{children:Q(ue)}),s.jsx("span",{className:"option-percent",children:" /week"})]}),s.jsxs("div",{className:"option-effects",children:[s.jsxs("div",{className:`option-effect ${q>=0?"positive":"negative"}`,children:["Health: ",q>=0?"+":"",q]}),s.jsxs("div",{className:`option-effect ${fe>=0?"positive":"negative"}`,children:["Happiness: ",fe>=0?"+":"",fe]})]})]}),s.jsx("div",{className:"option-description",children:ce})]},`food-${C}`)})},"renderFoodOptions"),yn=a(()=>E.healthcare?Object.entries(E.healthcare).map(([k,C])=>{if(!C)return null;const B=e.healthcareOption===k;return s.jsxs("div",{className:`option-card ${B?"selected":""}`,onClick:a(()=>J(k,"healthcare"),"onClick"),role:"button",tabIndex:0,"aria-pressed":B,children:[" ",s.jsxs("div",{className:"option-header",children:[s.jsx("h4",{children:bn(k)}),B&&s.jsx("span",{className:"selected-badge",children:"Current"})]}),s.jsxs("div",{className:"option-details",children:[s.jsxs("div",{className:"option-cost",children:[s.jsx("strong",{children:Q(C.cost||0)}),s.jsx("span",{className:"option-percent",children:" /week"})]}),s.jsx("div",{className:"option-effects",children:C.healthImpact!==void 0&&s.jsxs("div",{className:`option-effect ${C.healthImpact>=0?"positive":"negative"}`,children:["Health: ",C.healthImpact>=0?"+":"",C.healthImpact]})})]}),s.jsx("div",{className:"option-description",children:C.description||"No description."})]},`healthcare-${k}`)}):s.jsx("p",{children:"Healthcare data unavailable."}),"renderHealthcareOptions"),ki=a(()=>E.entertainment?Object.entries(E.entertainment).map(([k,C])=>{if(!C)return null;const B=e.entertainmentOption===k;return s.jsxs("div",{className:`option-card ${B?"selected":""}`,onClick:a(()=>J(k,"entertainment"),"onClick"),role:"button",tabIndex:0,"aria-pressed":B,children:[" ",s.jsxs("div",{className:"option-header",children:[s.jsx("h4",{children:bn(k)}),B&&s.jsx("span",{className:"selected-badge",children:"Current"})]}),s.jsxs("div",{className:"option-details",children:[s.jsxs("div",{className:"option-cost",children:[s.jsx("strong",{children:Q(C.cost||0)}),s.jsx("span",{className:"option-percent",children:" /week"})]}),s.jsx("div",{className:"option-effects",children:C.happinessImpact!==void 0&&s.jsxs("div",{className:`option-effect ${C.happinessImpact>=0?"positive":"negative"}`,children:["Happiness: ",C.happinessImpact>=0?"+":"",C.happinessImpact]})})]}),s.jsx("div",{className:"option-description",children:C.description||"No description."})]},`entertainment-${k}`)}):s.jsx("p",{children:"Entertainment data unavailable."}),"renderEntertainmentOptions"),un=a(()=>{var k,C;if(!E.education||!((C=(k=e.location)==null?void 0:k.costIndices)!=null&&C.educationCostIndex))return s.jsx("p",{children:"Education data unavailable."});const B=e.location.costIndices.educationCostIndex;return Object.entries(E.education).map(([ue,oe])=>{if(!oe)return null;const ce=(oe.baseCost||0)*B,q=e.educationOption===ue,fe=e.balance>=ce;return console.log(`Education Option: ${ue}`),console.log("  Option Data:",oe),console.log(`  Adjusted Cost: ${ce}`),console.log(`  Player Balance: ${e.balance}`),console.log(`  Affordable: ${fe}`),s.jsxs("div",{className:`option-card ${q?"selected":""} ${fe?"":"disabled"}`,onClick:fe?()=>J(ue,"education"):null,role:"button",tabIndex:fe?0:-1,"aria-disabled":!fe,style:{cursor:fe?"pointer":"not-allowed",opacity:fe?1:.6},children:[s.jsxs("div",{className:"option-header",children:[s.jsx("h4",{children:bn(ue)}),q&&s.jsx("span",{className:"selected-badge",children:"Current"})]}),s.jsxs("div",{className:"option-details",children:[s.jsxs("div",{className:"option-cost",children:[s.jsx("strong",{children:Q(ce)}),s.jsx("span",{className:"option-percent",children:" /week"})]}),s.jsx("div",{className:"option-effects",children:oe.skillImpact>0&&s.jsxs("div",{className:"option-effect positive",children:["Productivity Boost: +",oe.skillImpact]})})]}),s.jsx("div",{className:"option-description",children:oe.description||"No description."}),!fe&&s.jsx("div",{className:"option-warning",children:"Cannot Afford"})]},`education-${ue}`)})},"renderEducationOptions"),dn=a(()=>E.transportation?Object.entries(E.transportation).map(([k,C])=>{if(!C)return null;const B=e.transportationOption===k;return s.jsxs("div",{className:`option-card ${B?"selected":""}`,onClick:a(()=>J(k,"transportation"),"onClick"),role:"button",tabIndex:0,"aria-pressed":B,children:[" ",s.jsxs("div",{className:"option-header",children:[s.jsx("h4",{children:bn(k)}),B&&s.jsx("span",{className:"selected-badge",children:"Current"})]}),s.jsxs("div",{className:"option-details",children:[s.jsxs("div",{className:"option-cost",children:[s.jsx("strong",{children:Q(C.weeklyCost||0)}),s.jsx("span",{className:"option-percent",children:" /week"})]}),s.jsx("div",{className:"option-effects",children:C.happinessImpact!==void 0&&s.jsxs("div",{className:`option-effect ${C.happinessImpact>=0?"positive":"negative"}`,children:["Happiness: ",C.happinessImpact>=0?"+":"",C.happinessImpact]})})]}),s.jsx("div",{className:"option-description",children:C.description||"No description."})]},`transportation-${k}`)}):s.jsx("p",{children:"Transportation data unavailable."}),"renderTransportationOptions"),_n=a(()=>{var k;if(!E.family)return s.jsx("p",{children:"Family data unavailable."});const C=e.dependents||0,B=E.family.costPerDependent||0,ue=E.family.happinessBonusPerDependent||0,oe=B*C,ce=ue*C;return s.jsxs("div",{className:"family-controls",children:[" ",s.jsxs("div",{className:"dependent-count",children:["You have ",s.jsx("span",{className:"count",children:C})," ",C===1?"dependent":"dependents"]})," ",C>0&&s.jsxs("div",{className:"dependent-details",children:[s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{children:"Weekly cost:"}),s.jsx("span",{className:"warning",children:Q(oe)})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{children:"Happiness bonus:"}),s.jsxs("span",{className:"positive",children:["+",ce]})]})]})," ",s.jsxs("div",{className:"dependent-buttons",children:[s.jsxs("button",{className:"add-dependent action-button-inline",onClick:d,children:[s.jsx("span",{className:"action-icon-inline",children:"ðŸ‘¶"}),"Add Dependent"]}),C>0&&s.jsxs("button",{className:"remove-dependent action-button-inline",onClick:h,disabled:C<=0,children:[s.jsx("span",{className:"action-icon-inline",children:"ðŸ‘‹"}),"Remove"]})]}),s.jsx("div",{className:"family-description",children:((k=E.family.descriptions)==null?void 0:k.dependent)||"Manage your family size."})]})},"renderFamilyOptions"),Mn=a(()=>{const k=e.loans||[],C=e.monthlyIncome||1;k.reduce((me,Ce)=>me+((Ce==null?void 0:Ce.principal)||0),0);const B=k.reduce((me,Ce)=>me+((Ce==null?void 0:Ce.monthlyPayment)||0),0),ue=C>0?B/C*100:1/0,oe=ue>36;let ce=1/0,q=1/0;const fe=Z*g/12,Oe=g>0&&x<=fe;if(!Oe&&Z>0&&x>0){const me=g/12;me>0?x>Z*me?(ce=Math.ceil(-Math.log(1-Z*me/x)/Math.log(1+me)),ce>0&&isFinite(ce)?q=x*ce-Z:(ce=1/0,q=1/0)):(ce=1/0,q=1/0):g===0&&(ce=Math.ceil(Z/x),q=0)}return s.jsxs("div",{className:"loan-form",children:[s.jsx("h4",{children:"Take out a new loan"}),s.jsxs("div",{className:"loan-inputs",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"loanAmount",children:"Loan Amount"}),s.jsx("input",{id:"loanAmount",type:"number",value:Z,onChange:a(me=>U(Math.max(0,Number(me.target.value))),"onChange"),min:"0",step:"100",className:"form-input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"interestRate",children:"Interest Rate (%)"}),s.jsx("input",{id:"interestRate",type:"number",value:(g*100).toFixed(1),onChange:a(me=>v(Math.max(0,Number(me.target.value))/100),"onChange"),min:"0",step:"0.1",className:"form-input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"monthlyPayment",children:"Monthly Payment"}),s.jsx("input",{id:"monthlyPayment",type:"number",value:x,onChange:a(me=>P(Math.max(0,Number(me.target.value))),"onChange"),min:"0",step:"10",className:"form-input"})]})]}),s.jsxs("div",{className:"loan-summary",children:[s.jsxs("p",{children:["Est. Months to Repay: ",isFinite(ce)?ce:"N/A"]}),s.jsxs("p",{children:["Est. Total Interest: ",isFinite(q)?Q(q):"N/A"]}),Oe&&s.jsx("p",{className:"warning",children:"Payment is too low to cover interest."})]}),s.jsx("button",{className:"take-loan-button action-button-inline",onClick:ie,children:"Take Loan"}),s.jsx("hr",{}),s.jsxs("div",{className:"current-loans",children:[s.jsx("h4",{children:"Your Current Loans"}),k.length===0?s.jsx("p",{children:"No active loans."}):s.jsx("ul",{children:k.map((me,Ce)=>s.jsxs("li",{children:["Principal: ",Q(me.principal)," @ ",(me.interestRate*100).toFixed(1),"% | Payment: ",Q(me.monthlyPayment),"/mo"]},Ce))}),s.jsxs("div",{className:`debt-ratio ${oe?"warning":""}`,children:["Debt-to-Income Ratio: ",isFinite(ue)?ue.toFixed(1):"N/A","%"]})]})]})},"renderLoanOptions"),Ln=a(()=>{if(!E.savings)return s.jsx("p",{children:"Savings data unavailable."});const k=(e.savingsInterestRate*100).toFixed(2);return s.jsxs("div",{className:"savings-controls",children:[s.jsxs("div",{className:"savings-balance",children:[s.jsx("h4",{children:"Current Savings"}),s.jsx("div",{className:"balance-amount",children:Q(e.savingsBalance||0)}),s.jsxs("div",{className:"interest-rate",children:["Annual Interest Rate: ",k,"%"]})]}),s.jsxs("div",{className:"savings-transfer",children:[s.jsx("h4",{children:"Manual Transfer"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"savingsAmount",children:"Amount"}),s.jsx("input",{id:"savingsAmount",type:"number",value:A,onChange:a(C=>T(Math.max(0,Number(C.target.value))),"onChange"),min:"0",step:"10",className:"form-input",placeholder:"e.g., 100"})]}),s.jsxs("div",{className:"action-buttons",children:[s.jsx("button",{className:"action-button-inline positive",onClick:a(()=>re("deposit"),"onClick"),disabled:A<=0||e.balance<A,children:"Deposit"}),s.jsx("button",{className:"action-button-inline warning",onClick:a(()=>re("withdraw"),"onClick"),disabled:A<=0||e.savingsBalance<A,children:"Withdraw"})]})]}),s.jsxs("div",{className:"savings-allocation",children:[s.jsx("h4",{children:"Monthly Allocation"}),s.jsx("p",{children:"Set how much cash to automatically move to savings each month."}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"savingsAllocation",children:"Amount to Save Monthly"}),s.jsx("input",{id:"savingsAllocation",type:"number",value:D,onChange:a(C=>X(Math.max(0,Number(C.target.value))),"onChange"),min:"0",step:"10",className:"form-input",placeholder:"e.g., 100"})]}),s.jsxs("button",{className:"set-allocation-button action-button-inline",onClick:ye,disabled:Number(D)===e.monthlySavingsAllocation,children:[s.jsx("span",{className:"action-icon-inline",children:"ðŸ’¾"}),"Set Allocation"]}),Number(D)>e.balance&&s.jsx("div",{className:"savings-warning",children:"Warning: Allocation exceeds current cash balance."})]})]})},"renderSavingsOptions"),Bn=a(()=>{if(!E.investments)return s.jsx("p",{children:"Investment data unavailable."});const k=a(()=>{j(M),O(0)},"handleMakeInvestment");return s.jsxs("div",{className:"investment-controls",children:[s.jsxs("div",{className:"current-investment",children:[s.jsx("h4",{children:"Current Investment"}),s.jsxs("p",{children:["Type: ",e.investmentType?E.investments[e.investmentType].name:"None"]}),s.jsxs("p",{children:["Balance: ",Q(e.investmentBalance||0)]})]}),s.jsxs("div",{className:"investment-options",children:[Object.entries(E.investments).map(([C,B])=>{const ue=e.investmentType===C;return s.jsxs("div",{className:`option-card ${ue?"selected":""}`,onClick:a(()=>J(C,"investments"),"onClick"),role:"button",tabIndex:0,"aria-pressed":ue,children:[s.jsxs("div",{className:"option-header",children:[s.jsx("h4",{children:B.name}),ue&&s.jsx("span",{className:"selected-badge",children:"Selected"})]}),s.jsxs("div",{className:"option-details",children:[s.jsx("p",{children:B.description}),s.jsxs("p",{children:["Return Rate: ",(B.baseReturnRate*100).toFixed(2),"%"]}),s.jsxs("p",{children:["Volatility: ",(B.volatility*100).toFixed(2),"%"]})]})]},C)}),s.jsxs("div",{className:"option-card",onClick:a(()=>J("none","investments"),"onClick"),children:[s.jsx("h4",{children:"None"}),s.jsx("p",{children:"Clear investment type."})]})]}),s.jsxs("div",{className:"investment-transfer",children:[s.jsx("h4",{children:"Invest Amount"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"investmentAmount",children:"Amount"}),s.jsx("input",{id:"investmentAmount",type:"number",value:M,onChange:a(C=>O(Math.max(0,Number(C.target.value))),"onChange"),min:"0",step:"100",className:"form-input",placeholder:"e.g., 500"})]}),s.jsx("button",{className:"action-button-inline positive",onClick:k,disabled:M<=0||e.balance<M,children:"Invest"})]}),s.jsxs("div",{className:"investment-transfer",children:[s.jsx("h4",{children:"Withdraw Amount"}),s.jsx("p",{className:"investment-note",children:"Enter the amount to withdraw from your investment balance and click Withdraw. Withdrawals are immediate."}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"withdrawAmount",children:"Amount"}),s.jsx("input",{id:"withdrawAmount",type:"number",value:F,onChange:a(C=>G(Math.max(0,Number(C.target.value))),"onChange"),min:"0",step:"100",className:"form-input",placeholder:"e.g., 500"})]}),s.jsx("button",{className:"action-button-inline warning",onClick:a(()=>{y(F),G(0)},"onClick"),disabled:F<=0||e.investmentBalance<F,children:"Withdraw"})]})]})},"renderInvestmentOptions"),Cn=a(()=>E.wellbeing?Object.entries(E.wellbeing).map(([k,C])=>{const B=e.balance>=C.cost;return s.jsxs("div",{className:`option-card wellbeing-option ${B?"":"disabled"}`,onClick:B?()=>w(k):null,role:"button",tabIndex:B?0:-1,"aria-disabled":!B,style:{cursor:B?"pointer":"not-allowed",opacity:B?1:.6},children:[s.jsx("div",{className:"option-header",children:s.jsx("h4",{children:bn(C.name)})}),s.jsxs("div",{className:"option-details",children:[s.jsx("div",{className:"option-cost",children:s.jsxs("strong",{children:["Cost: ",Q(C.cost)]})}),s.jsxs("div",{className:"option-effects",children:[C.healthBoost>0&&s.jsxs("div",{className:"option-effect positive",children:["Health: +",C.healthBoost]}),C.happinessBoost>0&&s.jsxs("div",{className:"option-effect positive",children:["Happiness: +",C.happinessBoost]})]})]}),s.jsx("div",{className:"option-description",children:C.description||""}),!B&&s.jsx("div",{className:"option-warning",children:"Cannot Afford"})]},k)}):s.jsx("p",{children:"Wellbeing data unavailable."}),"renderWellbeingOptions"),En=a(()=>{const C={housing:{title:"Housing Options",renderer:Tn},food:{title:"Food Options",renderer:Ue},healthcare:{title:"Healthcare Options",renderer:yn},entertainment:{title:"Entertainment Options",renderer:ki},education:{title:"Education Options",renderer:un},transportation:{title:"Transportation Options",renderer:dn},wellbeing:{title:"Wellbeing Activities",renderer:Cn},family:{title:"Family Management",renderer:_n},savings:{title:"Savings Management",renderer:Ln},loans:{title:"Loan Management",renderer:Mn},investments:{title:"Investment Management",renderer:Bn}}[N];if(!C)return s.jsx("div",{className:"action-options-placeholder",children:"Select an action icon to see options."});const B=C.renderer();return!B||Array.isArray(B)&&B.length===0?s.jsxs(s.Fragment,{children:[s.jsx("h3",{children:C.title}),s.jsx("div",{className:"action-options-placeholder",children:"No options available for this action."})]}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{children:C.title}),s.jsx("div",{className:"options-grid-container",children:B})]})},"renderActionPanel"),wn=a(()=>{var k;const C=Me(),B=e.monthlyIncome||0,ue=B-C.monthly-(e.monthlySavingsAllocation||0),oe=e.housingChoice&&E.housing[e.housingChoice]?(E.housing[e.housingChoice].rent||0)*(e.location.costIndices.housingIndex||1):0,ce=B>0&&oe>0?oe/B*100:0,q=B>0?(e.monthlySavingsAllocation||0)/B*100:0,Oe=(e.loans||[]).reduce((hn,Qe)=>hn+((Qe==null?void 0:Qe.monthlyPayment)||0),0),me=B>0?Oe/B*100:1/0,Ce=me>36,Fn=e.productivityLevel||1,jn=1+(Fn-1)*.05;return s.jsx("div",{className:"budget-container",children:s.jsxs("div",{className:"budget-column",children:[s.jsxs("div",{className:"budget-section",children:[s.jsx("h4",{children:"Monthly Income"}),s.jsxs("div",{className:"budget-item income",children:[s.jsx("span",{children:"Total Monthly Income"}),s.jsx("span",{children:Q(B)})]}),s.jsxs("div",{className:"budget-item income-detail",children:[s.jsxs("span",{children:["(Productivity Lvl ",Fn,")"]}),s.jsxs("span",{children:["Multiplier: x",jn.toFixed(2)]})]}),e.laidOff&&s.jsxs("div",{className:"budget-item warning",children:[s.jsx("span",{children:"NOTICE: Laid off"}),s.jsx("span",{children:"(Reduced income)"})]})]}),s.jsxs("div",{className:"budget-section",children:[s.jsx("h4",{children:"Monthly Fixed Expenses"}),e.housingChoice&&oe>0&&s.jsxs("div",{className:"budget-item",children:[s.jsxs("span",{children:["Housing (",e.housingChoice,")"]}),s.jsx("span",{children:Q(oe)})]}),((k=E)==null?void 0:k.amenities)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"budget-item",children:[s.jsx("span",{children:"Utilities"}),s.jsx("span",{children:Q((E.amenities.basicUtilitiesPerMonth||0)*(e.location.costIndices.utilitiesIndex||1))})]}),s.jsxs("div",{className:"budget-item",children:[s.jsx("span",{children:"Internet"}),s.jsx("span",{children:Q(E.amenities.internetPerMonth||0)})]}),s.jsxs("div",{className:"budget-item",children:[s.jsx("span",{children:"Cell Phone"}),s.jsx("span",{children:Q(E.amenities.cellPhonePerMonth||0)})]})]}),Oe>0&&s.jsxs("div",{className:"budget-item",children:[s.jsx("span",{children:"Loan Payments"}),s.jsx("span",{children:Q(Oe)})]}),e.monthlySavingsAllocation>0&&s.jsxs("div",{className:"budget-item",children:[s.jsx("span",{children:"Savings Allocation"}),s.jsx("span",{children:Q(e.monthlySavingsAllocation)})]}),s.jsxs("div",{className:"budget-item total-expenses",children:[s.jsx("span",{children:"Total Monthly Fixed + Savings"}),s.jsx("span",{children:Q(C.monthly+(e.monthlySavingsAllocation||0))})]})]}),s.jsxs("div",{className:"budget-section",children:[s.jsx("h4",{children:"Weekly Variable Expenses"}),s.jsxs("div",{className:"budget-item total-expenses",children:[s.jsx("span",{children:"Est. Total Weekly Variable"}),s.jsx("span",{children:Q(C.weekly)})]})]}),s.jsxs("div",{className:"budget-section",children:[s.jsx("h4",{children:"Financial Summary"}),s.jsxs("div",{className:"budget-item balance-summary",children:[s.jsx("span",{className:ue>=0?"positive":"negative",children:"Monthly Net"}),s.jsx("span",{className:ue>=0?"positive":"negative",children:Q(ue)})]}),s.jsxs("div",{className:"budget-item",children:[s.jsx("span",{className:ce>30?"warning":"",children:"Housing/Income Ratio"}),s.jsxs("span",{children:[ce.toFixed(1),"%"]})]}),s.jsxs("div",{className:"budget-item",children:[s.jsx("span",{className:q<10?"warning":"positive",children:"Savings Rate"}),s.jsxs("span",{children:[q.toFixed(1),"%"]})]}),s.jsxs("div",{className:"budget-item",children:[s.jsx("span",{className:Ce?"warning":"",children:"Debt/Income Ratio"}),s.jsx("span",{children:isFinite(me)?`${me.toFixed(1)}%`:"N/A"})]})]})]})})},"renderBudgetTab"),Qn=a(()=>{var k;return K?s.jsx("div",{className:"tutorial-overlay",children:s.jsxs("div",{className:"tutorial-content",children:[s.jsx("h3",{children:"Welcome!"}),s.jsxs("p",{children:["Survive for 1 year (52 weeks) in ",((k=e.location)==null?void 0:k.name)||"this city"," on a ",e.wageType||"given"," wage."]}),s.jsx("h4",{children:"How to Play:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:["Use ",s.jsx("strong",{children:"Action Buttons"})," (left) to manage choices."]}),s.jsxs("li",{children:["Check ",s.jsx("strong",{children:"Budget"})," (right) for financial stats."]}),s.jsxs("li",{children:["Monitor the ",s.jsx("strong",{children:"Event Message"})," (top) for updates."]}),s.jsxs("li",{children:["Keep ",s.jsx("strong",{children:"Balance, Health, Happiness"})," above zero!"]}),s.jsxs("li",{children:["Click ",s.jsx("strong",{children:"Next Week"})," to advance time. Paid monthly."]})]}),s.jsx("p",{children:"Good luck!"}),s.jsx("button",{className:"close-tutorial action-button-inline",onClick:a(()=>z(!1),"onClick"),children:"Start Simulation"})]})}):null},"renderTutorial");return!e||!e.location?s.jsx("div",{className:"loading",children:"Loading game data..."}):s.jsxs("div",{className:"game-screen-container compact-layout",children:[Qn(),s.jsx("div",{className:"game-main",children:s.jsxs("div",{className:"game-header",children:[s.jsxs("div",{className:"header-top-row",children:[s.jsxs("div",{className:"location-info",children:[s.jsx("h2",{children:e.location.name}),s.jsxs("div",{className:"game-progress",children:[s.jsxs("span",{children:["Week ",e.currentWeek," / 52"]}),s.jsx("div",{className:"progress-bar-container",children:s.jsx("div",{className:"progress-bar-fill",style:{width:`${Math.min(100,e.currentWeek/52*100)}%`},role:"progressbar","aria-valuenow":e.currentWeek,"aria-valuemin":"0","aria-valuemax":"52","aria-label":"Game Progress"})})]})]}),s.jsx("div",{className:"header-event-log",children:s.jsx("span",{children:e.latestEventMessage||" "})})]}),s.jsx("div",{className:"header-bottom-row",children:s.jsx("div",{className:"game-stats",children:s.jsxs("div",{className:"stat-group",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"Balance"}),s.jsx("div",{className:`stat-value ${e.balance<0?"negative":"positive"}`,children:Q(e.balance)})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"Savings"}),s.jsx("div",{className:"stat-value positive",children:Q(e.savingsBalance||0)})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"Investments"}),s.jsx("div",{className:"stat-value positive",children:Q(e.investmentBalance||0)})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"Monthly Income"}),s.jsx("div",{className:"stat-value positive",children:Q(e.monthlyIncome)})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"Productivity"}),s.jsxs("div",{className:"stat-bar-combo",children:[s.jsx("div",{className:"stat-bar",children:s.jsx("div",{className:`stat-fill ${te(e.productivityProgress/e.productivityThreshold*100)}`,style:{width:`${e.productivityProgress/e.productivityThreshold*100}%`}})}),s.jsx("div",{className:`stat-number ${te(e.productivityProgress/e.productivityThreshold*100)}`,children:e.productivityLevel})]})]}),s.jsxs("div",{className:"stat-group",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"Health"}),s.jsxs("div",{className:"stat-bar-combo",children:[s.jsx("div",{className:"stat-bar",children:s.jsx("div",{className:`stat-fill ${te(e.health)}`,style:{width:`${e.health}%`}})}),s.jsxs("div",{className:`stat-number ${te(e.health)}`,children:[e.health,"%"]})]})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-label",children:"Happiness"}),s.jsxs("div",{className:"stat-bar-combo",children:[s.jsx("div",{className:"stat-bar",children:s.jsx("div",{className:`stat-fill ${te(e.happiness)}`,style:{width:`${e.happiness}%`}})}),s.jsxs("div",{className:`stat-number ${te(e.happiness)}`,children:[e.happiness,"%"]})]})]})]})]})})}),s.jsxs("div",{className:"game-content-wrapper",children:[s.jsxs("div",{className:"game-actions",children:[s.jsx("div",{className:"action-buttons-column",children:ne.map(k=>s.jsxs("button",{className:`action-button-vertical ${N===k.id?"active":""}`,onClick:a(()=>V(k.id),"onClick"),"aria-pressed":N===k.id,"aria-label":`Select ${k.label} options`,children:[s.jsx("span",{className:"action-icon",role:"img","aria-label":k.label,children:k.icon}),s.jsx("span",{className:"action-label",children:k.label})]},k.id))}),s.jsx("div",{className:"action-options-display",children:En()})]}),s.jsxs("div",{className:"game-content",children:[s.jsx("h3",{children:"Budget Overview"}),wn()]}),s.jsx("div",{className:"next-week-container-footer",children:e.health<=0||e.happiness<=0||e.balance<0?s.jsx(Be,{to:"/simulation",className:"next-week-button action-button-inline large",children:"Start Over?"}):s.jsx("button",{className:"next-week-button action-button-inline large",onClick:le,children:"Next Week â†’"})})]})]})})]})}a(Af,"GameScreen");const Rf=a(()=>s.jsxs("div",{className:"education-page-container",children:[s.jsx("h1",{children:"Education"}),s.jsx("p",{children:"This page is under construction. Please check back later."}),s.jsx(Be,{to:"/game",className:"button",children:"Back to Game"})]}),"EducationPage"),$f=a(()=>{const{stateName:e}=cr(),{initializeGame:n}=Et(),[t,i]=$.useState(null),[r,o]=$.useState("minimum"),[c,l]=$.useState(null);$.useEffect(()=>{const j=Te.find(w=>w.name.toLowerCase()===e.toLowerCase());i(j),l(null)},[e]);const d=a((j,w)=>j?w==="minimum"?(j.minWage||0)*160:(j.medianBottom50Annual||0)/12:0,"calculateMonthlyIncome"),h=a(j=>j.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),"formatCurrency"),u=a((j,w)=>!j||!j.costIndices||!E.housing[w]?0:(E.housing[w].rent||0)*(j.costIndices.housingIndex||1),"getHousingCost"),f=a((j,w,_)=>{var b,N,I;if(!j||!j.costIndices||!E[w]||!E[w][_])return 0;const M=E[w];let O=0;if(typeof M[_]=="number")O=M[_];else if((b=M[_])!=null&&b.cost)O=M[_].cost;else{if((N=M[_])!=null&&N.baseCost)return O=M[_].baseCost*(j.costIndices.educationCostIndex||1),O;if((I=M[_])!=null&&I.weeklyCost)return O=M[_].weeklyCost,O}const F=`${w}Index`;return O*(j.costIndices[F]||1)},"getWeeklyCost"),m=a(j=>{if(!j||!j.costIndices||!E.amenities)return 0;let w=0;return w+=(E.amenities.basicUtilitiesPerMonth||0)*(j.costIndices.utilitiesIndex||1),w+=E.amenities.internetPerMonth||0,w+=E.amenities.cellPhonePerMonth||0,w},"getMonthlyUtilities");if(!t)return s.jsxs("div",{className:"loading-message state-detail-container",children:["Loading state details or state not found... Please ensure ",s.jsx("strong",{children:"statesData.js"})," is populated."]});const p=d(t,r),y=m(t),S=c?{monthlyIncome:d(c,r),housingLow:u(c,"roommate"),housingMid:u(c,"averageApartment"),foodLow:f(c,"food","basic")*4.33,foodMid:f(c,"food","medium")*4.33,utilities:m(c),transportation:f(c,"transportation","publicTransit")*4.33}:null;return s.jsxs("div",{className:"state-detail-container fade-in",children:[s.jsxs("header",{className:"state-header",style:{backgroundImage:`linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.7)), url('/images/state-banners/${t.abbreviation.toLowerCase()}.jpg')`},children:[s.jsx("h1",{children:t.name}),s.jsx("p",{className:"state-subtitle",children:"Cost of Living & Income Profile (Simulated 2025)"})]}),s.jsxs("div",{className:"content-area",children:[s.jsxs("section",{className:"card state-summary",children:[s.jsx("h3",{children:"State Overview"}),s.jsx("p",{children:t.info.summary||"No summary available."}),s.jsxs("p",{children:[s.jsx("strong",{children:"Population:"})," ",t.info.population||"N/A"," | ",s.jsx("strong",{children:"Cost of Living Rank:"})," ",t.info.costOfLivingRank||"N/A"]})]}),s.jsxs("section",{className:"card income-selector",children:[s.jsx("h3",{children:"Select Income Level to Analyze"}),s.jsxs("div",{className:"income-options",children:[s.jsxs("div",{className:`income-option ${r==="minimum"?"active":""}`,onClick:a(()=>o("minimum"),"onClick"),children:[s.jsx("div",{className:"income-option-title",children:"Minimum Wage"}),s.jsxs("div",{className:"income-option-amount",children:["$",(t.minWage||0).toFixed(2),"/hr"]}),s.jsxs("div",{className:"income-option-monthly",children:["$",d(t,"minimum").toFixed(0),"/month"]})]}),s.jsxs("div",{className:`income-option ${r==="median"?"active":""}`,onClick:a(()=>o("median"),"onClick"),children:[s.jsx("div",{className:"income-option-title",children:"Median Income (Bottom 50%)"}),s.jsxs("div",{className:"income-option-amount",children:["$",Math.round((t.medianBottom50Annual||0)/1e3),"k/year"]}),s.jsxs("div",{className:"income-option-monthly",children:["$",d(t,"median").toFixed(0),"/month"]})]})]})]}),s.jsxs("section",{className:"card cost-breakdown",children:[s.jsxs("h3",{children:["Estimated Monthly Expenses for ",r==="minimum"?"Minimum Wage Earner":"Median Income Earner"]}),s.jsxs("p",{children:["Based on national averages, adjusted for ",s.jsxs("strong",{children:[t.name,"'s"]})," cost indices. Current Income: ",s.jsxs("strong",{children:[h(p),"/month"]}),"."]}),s.jsxs("div",{className:"cost-category",children:[s.jsxs("h4",{children:[s.jsx("span",{className:"category-icon",children:"ðŸ "}),"Housing (Rent - Apartment)"]}),s.jsx("div",{className:"housing-options",children:Object.entries(E.housing).slice(0,3).map(([j,w])=>{const _=u(t,j),b=p>0?_/p*100:0;return s.jsxs("div",{className:"housing-option",children:[s.jsx("h5",{children:formatChoice(j)})," ",s.jsxs("div",{className:"housing-details",children:[s.jsx("div",{className:"housing-rent",children:h(_)}),s.jsxs("div",{className:`housing-percent ${b>30?"warning":"good"}`,children:[b.toFixed(1),"% of income"]})]}),s.jsxs("div",{className:"housing-impact",children:[w.happinessImpact!==0&&s.jsxs("span",{className:w.happinessImpact>0?"positive":"negative",children:["Happiness ",w.happinessImpact>0?"+":"",w.happinessImpact," "]}),w.healthImpact!==0&&s.jsxs("span",{className:w.healthImpact>0?"positive":"negative",children:["Health ",w.healthImpact>0?"+":"",w.healthImpact]})]})]},j)})})]}),s.jsxs("div",{className:"cost-category",children:[s.jsxs("h4",{children:[s.jsx("span",{className:"category-icon",children:"ðŸŽ"}),"Food (Weekly, then x4.33 for Monthly Est.)"]}),s.jsx("div",{className:"cost-options",children:Object.entries(E.food).filter(([j])=>j!=="descriptions").slice(0,3).map(([j,w])=>{const _=f(t,"food",j)*4.33,b=p>0?_/p*100:0;return s.jsxs("div",{className:"cost-option",children:[s.jsx("div",{className:"cost-option-name",children:formatChoice(j)}),s.jsxs("div",{className:"cost-option-amount",children:[h(_),"/month"]}),s.jsxs("div",{className:`cost-percent ${b>15?"warning":""}`,children:[b.toFixed(1),"% of income"]}),s.jsx("div",{className:"cost-description",children:E.food.descriptions[j].split(".")[0]})]},j)})})]}),s.jsxs("div",{className:"cost-category",children:[s.jsxs("h4",{children:[s.jsx("span",{className:"category-icon",children:"ðŸ’¡"}),"Utilities (Monthly)"]}),s.jsxs("div",{className:"utilities-cost",children:[s.jsxs("div",{className:"utility-item",children:[s.jsx("span",{children:"Basic Utilities (Electric, Gas, Water)"}),s.jsx("span",{children:h((E.amenities.basicUtilitiesPerMonth||0)*(t.costIndices.utilitiesIndex||1))})]}),s.jsxs("div",{className:"utility-item",children:[s.jsx("span",{children:"Internet"}),s.jsx("span",{children:h(E.amenities.internetPerMonth||0)})]}),s.jsxs("div",{className:"utility-item",children:[s.jsx("span",{children:"Cell Phone"}),s.jsx("span",{children:h(E.amenities.cellPhonePerMonth||0)})]}),s.jsxs("div",{className:"utility-item total",children:[s.jsx("span",{children:"Total Utilities"}),s.jsx("span",{children:h(y)})]})]})]})]}),s.jsxs("section",{className:"card comparison-section",children:[s.jsx("h3",{children:"Compare with Another State"}),s.jsx("div",{className:"compare-selector",children:s.jsxs("select",{onChange:a(j=>l(Te.find(w=>w.name===j.target.value)||null),"onChange"),value:(c==null?void 0:c.name)||"",children:[s.jsx("option",{value:"",children:"Select a state to compare"}),Te.filter(j=>j.name!==t.name).map(j=>s.jsx("option",{value:j.name,children:j.name},j.id||j.name))]})}),c&&S&&s.jsxs("div",{className:"comparison-chart",children:[s.jsxs("div",{className:"comparison-header",children:[s.jsx("div",{className:"comparison-state",children:t.name}),s.jsx("div",{children:"Metric"}),s.jsx("div",{className:"comparison-state",children:c.name})]}),s.jsxs("div",{className:"comparison-row",children:[s.jsx("div",{className:"comparison-value",children:h(p)}),s.jsx("div",{className:"comparison-label",children:"Monthly Income"}),s.jsx("div",{className:"comparison-value",children:h(S.monthlyIncome)})]}),s.jsxs("div",{className:"comparison-row",children:[s.jsx("div",{className:"comparison-value",children:h(u(t,"averageApartment"))}),s.jsx("div",{className:"comparison-label",children:"Avg Housing (Rent)"}),s.jsx("div",{className:"comparison-value",children:h(S.housingMid)})]}),s.jsxs("div",{className:"comparison-row",children:[s.jsx("div",{className:"comparison-value",children:h(f(t,"food","medium")*4.33)}),s.jsx("div",{className:"comparison-label",children:"Avg Food (Month)"}),s.jsx("div",{className:"comparison-value",children:h(S.foodMid)})]}),s.jsxs("div",{className:"comparison-row",children:[s.jsx("div",{className:"comparison-value",children:h(y)}),s.jsx("div",{className:"comparison-label",children:"Utilities (Month)"}),s.jsx("div",{className:"comparison-value",children:h(S.utilities)})]})]})]}),s.jsxs("section",{className:"card action-buttons",children:[s.jsx("h3",{children:"Start Simulation"}),s.jsxs(Be,{to:`/start/${t.name}`,className:"start-button",children:["Start in ",t.name]}),s.jsx(Be,{to:"/simulation",className:"back-button",children:"Back to Map"})]}),s.jsxs("section",{className:"card educational-note",children:[s.jsx("h4",{children:"Understanding the Numbers"}),s.jsx("p",{children:"These estimates provide a general idea of costs. Actual expenses can vary based on lifestyle, family size, and specific location within the state. Income figures represent gross income before taxes and other deductions."}),s.jsx("p",{children:'The "Cost of Living Rank" and "Housing Index" (where 1.0 is national average) give a quick comparison point.'})]})]})]})},"StateDetail"),Of=a(()=>{const{playerState:e}=Et(),{showSuccess:n}=ns(),t=a(()=>{const d=`
Cost of Living Simulator Results
Location: ${i.location.name}
Wage Type: ${i.wageType}
Weeks Survived: ${i.weeksSurvived}/52
Final Balance: ${c(i.balance)}
Final Savings: ${c(i.savingsBalance)}
Final Debt: ${c(l)}
Final Health: ${i.health}%
Final Happiness: ${i.happiness}%
Productivity Level: ${i.productivityLevel}
    `.trim();navigator.clipboard.writeText(d).then(()=>n("Results copied to clipboard!"))},"handleShare"),i=e||{balance:0,health:0,happiness:0,weeksSurvived:0,location:{name:"Unknown"},wageType:"unknown",monthlyIncome:0,housingChoice:"None",dependents:0,productivityLevel:1,educationOption:"none",savingsBalance:0,loans:[]},o=a(()=>i.balance<0&&(i.health<=0||i.happiness<=0)?{title:"Financial & Wellbeing Crisis",message:"Your finances depleted and your wellbeing reached critical levels.",icon:"ðŸ’”"}:i.balance<-(i.monthlyIncome*.5||500)?{title:"Financial Ruin",message:"You ran out of funds and couldn't cover essential expenses.",icon:"ðŸ’¸"}:i.health<=0?{title:"Health Crisis",message:"Your health deteriorated to a critical level.",icon:"ðŸ¥"}:i.happiness<=0?{title:"Severe Burnout",message:"Your happiness reached zero, leading to severe burnout.",icon:"ðŸ˜”"}:{title:"Simulation Ended Unexpectedly",message:"Your simulation journey has concluded.",icon:"âš ï¸"},"getGameOverReason")(),c=a(d=>((typeof d!="number"||isNaN(d))&&(d=0),d.toLocaleString("en-US",{style:"currency",currency:"USD"})),"formatCurrency"),l=(i.loans||[]).reduce((d,h)=>d+(h.principal||0),0);return s.jsxs("div",{className:"game-over-container fade-in",children:[s.jsxs("div",{className:"game-over-header",children:[s.jsx("div",{className:"game-over-icon",children:o.icon}),s.jsxs("h1",{children:["Game Over: ",o.title]}),s.jsx("p",{className:"game-over-message",children:o.message})]}),s.jsxs("div",{className:"results-grid",children:[s.jsxs("div",{className:"results-card",children:[s.jsx("h3",{children:"Survival Summary"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Weeks Survived:"})," ",s.jsxs("span",{className:"highlight",children:[i.weeksSurvived," / 52"]})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Final Health:"})," ",s.jsxs("span",{className:i.health<=20?"negative":"",children:[i.health,"%"]})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Final Happiness:"})," ",s.jsxs("span",{className:i.happiness<=20?"negative":"",children:[i.happiness,"%"]})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Dependents:"})," ",i.dependents]})]}),s.jsxs("div",{className:"results-card",children:[s.jsx("h3",{children:"Financial Snapshot"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Final Cash:"})," ",s.jsx("span",{className:i.balance<0?"negative":"positive",children:c(i.balance)})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Final Savings:"})," ",s.jsx("span",{className:"positive",children:c(i.savingsBalance)})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Final Investments:"})," ",s.jsx("span",{className:"positive",children:c(i.investmentBalance)})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Debt:"})," ",s.jsx("span",{className:l>0?"negative":"",children:c(l)})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Final Monthly Income:"})," ",c(i.monthlyIncome)," (",i.wageType,")"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Income Earned:"})," ",c(i.monthlyIncome*(i.weeksSurvived/4))]})]}),s.jsxs("div",{className:"results-card",children:[s.jsx("h3",{children:"Achievements & Choices"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Productivity Level:"})," ",s.jsx("span",{className:"highlight",children:i.productivityLevel})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Education Choice:"})," ",i.educationOption==="none"||!i.educationOption?"None":i.educationOption.replace(/([A-Z])/g," $1").replace(/^./,d=>d.toUpperCase())]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Housing:"})," ",i.housingChoice?i.housingChoice.replace(/([A-Z])/g," $1").replace(/^./,d=>d.toUpperCase()):"Not Set"]})]})]}),s.jsxs("div",{className:"game-over-reflection",children:[s.jsx("h3",{children:"Reflection"}),s.jsxs("p",{children:["This simulation highlights the financial pressures many face. Factors like your starting location (",i.location.name,"), income level (",i.wageType,"), unexpected life events, and your spending choices all significantly impact financial stability and overall well-being. Consider what choices could have led to a different outcome."]})]}),s.jsxs("div",{className:"game-over-actions",children:[s.jsx(Be,{to:"/simulation",className:"button primary",children:"Start Over?"}),s.jsx("button",{className:"button secondary",onClick:t,children:"Share Results"})]})]})},"GameOver"),Tf=a(()=>s.jsxs("div",{className:"learn-page-container fade-in",children:[s.jsxs("header",{className:"learn-header",children:[s.jsx("h1",{children:"Learn About Cost of Living & Financial Literacy"}),s.jsx("p",{children:"Understanding the factors that influence your financial well-being and how to manage your money effectively."})]}),s.jsxs("main",{className:"learn-content",children:[s.jsxs("section",{className:"learn-section",children:[s.jsx("h2",{children:"What is Cost of Living?"}),s.jsx("p",{children:"The cost of living is the amount of money needed to cover basic expenses such as housing, food, taxes, and healthcare in a certain place and time period. It's often used to compare how expensive it is to live in one city versus another."})]}),s.jsxs("section",{className:"learn-section",children:[s.jsx("h2",{children:"Key Cost of Living Factors"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Housing:"})," Typically the largest expense, varying wildly by location. This includes rent or mortgage, utilities, and maintenance."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Transportation:"})," Costs for owning a car (fuel, insurance, maintenance) or using public transport (bus, train fares)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Food:"})," Groceries and dining out expenses. This can vary based on dietary choices and local food prices."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Healthcare:"})," Insurance premiums, deductibles, co-pays, and out-of-pocket medical costs."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Taxes:"})," Income tax, sales tax, and property taxes differ by state and locality, significantly impacting disposable income."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Childcare:"})," A major expense for families with young children, including daycare, preschool, or after-school care."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Education:"})," Costs for higher education, vocational training, or skill development, including tuition, books, and supplies."]})]})]}),s.jsxs("section",{className:"learn-section",children:[s.jsx("h2",{children:"Basic Financial Literacy"}),s.jsx("h3",{children:"Budgeting: Your Financial Roadmap"}),s.jsx("p",{children:"Budgeting is the process of creating a plan to spend and save your money. It helps you understand where your money goes and ensures you don't spend more than you earn. A good budget includes tracking income, fixed expenses (like rent), and variable expenses (like groceries)."}),s.jsx("h3",{children:"Saving: Building Your Future"}),s.jsx("p",{children:"Saving money is crucial for financial security. It allows you to build an emergency fund for unexpected expenses, save for large purchases (like a house or car), and plan for retirement. Even small, consistent savings can grow significantly over time due to compounding."}),s.jsx("h3",{children:"Debt Management: Using Credit Wisely"}),s.jsx("p",{children:"Debt can be a useful tool (e.g., for a mortgage or education), but it can also become a burden if not managed properly. Understanding interest rates, making timely payments, and avoiding unnecessary high-interest debt are key. Prioritizing high-interest debts for repayment can save you a lot of money."}),s.jsx("h3",{children:"Investing: Making Your Money Work for You"}),s.jsx("p",{children:"Once you have a solid financial foundation (emergency fund, manageable debt), investing can help your money grow faster than inflation. Options include stocks, bonds, mutual funds, and real estate. It's important to understand the risks and diversify your investments."})]}),s.jsxs("section",{className:"learn-section",children:[s.jsx("h2",{children:"Why Financial Literacy Matters?"}),s.jsx("p",{children:"Understanding the cost of living and basic financial principles can help you make informed decisions about:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Where to live and work to maximize your financial well-being."}),s.jsx("li",{children:"Negotiating salaries and understanding compensation packages."}),s.jsx("li",{children:"Effective budgeting and long-term financial planning."}),s.jsx("li",{children:"Achieving financial independence and a secure retirement."})]}),s.jsx("p",{children:"This simulation aims to give you a practical sense of these financial realities and empower you with knowledge."})]}),s.jsxs("div",{className:"learn-actions",children:[s.jsx(Be,{to:"/simulation",className:"button primary",children:"Try the Simulation"}),s.jsx(Be,{to:"/",className:"button secondary",children:"Back to Home"})]})]}),s.jsx("footer",{className:"learn-footer",children:s.jsxs("p",{children:["Â© ",new Date().getFullYear()," Cost of Living Simulator. For educational purposes only."]})})]}),"LearnPage"),Lf=a(()=>s.jsxs("div",{className:"donate-page-container fade-in",children:[s.jsxs("header",{className:"donate-header",children:[s.jsx("h1",{children:"Support Affordability Initiatives"}),s.jsx("p",{children:"These organizations are working to make living costs more manageable for everyone."})]}),s.jsxs("main",{className:"donate-content",children:[s.jsxs("section",{className:"donate-section",children:[s.jsx("h2",{children:"Organizations Making a Difference"}),s.jsx("p",{children:"While this simulator is for educational purposes, many real-world organizations are dedicated to helping individuals and families navigate the challenges of the cost of living. Consider supporting their vital work:"}),s.jsxs("ul",{className:"ways-to-give",children:[s.jsxs("li",{children:[s.jsx("strong",{children:s.jsx("a",{href:"https://www.habitat.org/",target:"_blank",rel:"noopener noreferrer",children:"Habitat for Humanity"})}),s.jsx("p",{children:"Focuses on building, rehabilitating, and preserving homes; advocating for fair and just housing policies; and providing training and access to resources to help families improve their housing conditions."})]}),s.jsxs("li",{children:[s.jsx("strong",{children:s.jsx("a",{href:"https://www.feedingamerica.org/",target:"_blank",rel:"noopener noreferrer",children:"Feeding America"})}),s.jsx("p",{children:"The largest hunger-relief organization in the United States. They work with a nationwide network of food banks to rescue food and distribute it to people facing hunger."})]}),s.jsxs("li",{children:[s.jsx("strong",{children:s.jsx("a",{href:"https://www.unitedway.org/",target:"_blank",rel:"noopener noreferrer",children:"United Way Worldwide"})}),s.jsx("p",{children:"Works to improve lives by mobilizing the caring power of communities around the world to advance the common good. Their focus areas often include education, income, and health, addressing root causes of poverty."})]}),s.jsxs("li",{children:[s.jsx("strong",{children:s.jsx("a",{href:"https://www.consumercredit.com/",target:"_blank",rel:"noopener noreferrer",children:"National Foundation for Credit Counseling (NFCC)"})}),s.jsx("p",{children:"A non-profit organization dedicated to helping consumers take control of their financial lives. They provide free or low-cost financial counseling and education."})]}),s.jsxs("li",{children:[s.jsx("strong",{children:s.jsx("a",{href:"https://www.modestneeds.org/",target:"_blank",rel:"noopener noreferrer",children:"Modest Needs"})}),s.jsx("p",{children:"Offers short-term financial assistance to individuals and families who are working and live just above the poverty line, but still can't afford to pay for an unexpected or emergency expense."})]})]}),s.jsx("p",{className:"thank-you-note",children:"Your support, whether through donations or volunteering, can make a significant difference in someone's life."})]}),s.jsx("div",{className:"donate-actions",children:s.jsx(Be,{to:"/",className:"button secondary",children:"Back to Home"})})]}),s.jsx("footer",{className:"donate-footer",children:s.jsxs("p",{children:["Â© ",new Date().getFullYear()," Cost of Living Simulator. For educational purposes only."]})})]}),"DonatePage"),Bf=a(()=>s.jsxs("div",{className:"about-page-container fade-in",children:[s.jsxs("header",{className:"about-header",children:[s.jsx("h1",{children:"About This Simulation"}),s.jsx("p",{children:"An interactive tool for financial literacy."})]}),s.jsxs("main",{className:"about-content",children:[s.jsxs("section",{className:"about-section",children:[s.jsx("h2",{children:"Realistic Economics"}),s.jsx("p",{children:"This simulation uses real-world data to model the financial challenges and opportunities you might face in different parts of the United States."})]}),s.jsxs("section",{className:"about-section",children:[s.jsx("h2",{children:"Educational Purpose"}),s.jsx("p",{children:"Our primary goal is to provide an engaging way to learn about personal finance, including budgeting, saving, and the impact of major life events."})]}),s.jsxs("section",{className:"about-section",children:[s.jsx("h2",{children:"Real-World Challenges"}),s.jsx("p",{children:"You'll encounter random events that can either help or hinder your financial progress, just like in real life. Your ability to adapt and make sound decisions is key to success."})]}),s.jsxs("div",{className:"about-actions",children:[s.jsx(Be,{to:"/simulation",className:"button primary",children:"Continue to Map"}),s.jsx(Be,{to:"/",className:"button secondary",children:"Back to Home"})]})]}),s.jsx("footer",{className:"about-footer",children:s.jsxs("p",{children:["Â© ",new Date().getFullYear()," Cost of Living Simulator. For educational purposes only."]})})]}),"AboutPage"),Ff=a(()=>s.jsx("nav",{className:"navbar",children:s.jsxs("div",{className:"navbar-container",children:[s.jsx(Pt,{to:"/",className:"navbar-logo",children:s.jsxs("div",{className:"logo-container",children:[s.jsx("span",{className:"logo-title",children:"The Cost of Living Simulation"}),s.jsx("span",{className:"logo-subtitle",children:"By: Mason Smith"})]})}),s.jsxs("ul",{className:"nav-menu",children:[s.jsx("li",{className:"nav-item",children:s.jsx(Pt,{to:"/simulation",className:"nav-links",children:"Play"})}),s.jsx("li",{className:"nav-item",children:s.jsx(Pt,{to:"/learn",className:"nav-links",children:"Learn"})}),s.jsx("li",{className:"nav-item",children:s.jsx(Pt,{to:"/donate",className:"nav-links",children:"Support"})})]})]})}),"Navbar");function Wf(){return s.jsx(Pf,{children:s.jsxs("div",{className:"app-container",children:[s.jsx(Ff,{}),s.jsx("main",{children:s.jsxs(Wo,{children:[s.jsx(Ze,{path:"/",element:s.jsx(Xo,{})}),s.jsx(Ze,{path:"/about",element:s.jsx(Bf,{})}),s.jsx(Ze,{path:"/learn",element:s.jsx(Tf,{})}),s.jsx(Ze,{path:"/donate",element:s.jsx(Lf,{})}),s.jsx(Ze,{path:"/simulation",element:s.jsx(Ef,{})}),s.jsx(Ze,{path:"/start",element:s.jsx(rr,{})}),s.jsx(Ze,{path:"/start/:stateName",element:s.jsx(rr,{})}),s.jsx(Ze,{path:"/game",element:s.jsx(Af,{})}),s.jsx(Ze,{path:"/state-detail/:stateName",element:s.jsx($f,{})}),s.jsx(Ze,{path:"/game-over",element:s.jsx(Of,{})}),s.jsx(Ze,{path:"/education",element:s.jsx(Rf,{})})]})})]})})}a(Wf,"App");const Df="/";Hi.createRoot(document.getElementById("root")).render(s.jsx(Ne.StrictMode,{children:s.jsx(Do,{basename:Df,children:s.jsx(Mf,{children:s.jsx(Wf,{})})})}));
